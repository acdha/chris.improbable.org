<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Comments on the on-going Apple thread</title>
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <link rel="stylesheet" href="/static/css/main.min.css" type="text/css" media="all">
        <!--[if lte IE 8]>
            <link rel="stylesheet" href="/static/css/ie-fixes.css" type="text/css" media="all">
            <script src="/static/js/html5shiv.js"></script>
        <![endif]-->

        <meta http-equiv="last-modified" content="Tue, 23 Jul 2002 09:18:51 GMT">
        <link rel="alternate" type="application/atom+xml" title="All Posts (Atom)" href="/feeds/all.atom">
        <link rel="alternate" type="application/rss+xml" title="All Posts (RSS)" href="/feeds/all.rss">
        <link rel="icon" type="image/jpeg" sizes="287x287" href="/static/img/favicon-287x287.jpg">
        <link rel="icon" type="image/jpeg" sizes="128x128" href="/static/img/favicon-128x128.jpg">
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-2097834-1', 'auto');
            ga('send', 'pageview');
        </script>
    </head>
    <body class="blog post_detail" itemscope itemtype="http://schema.org/BlogPosting">
        <nav id="site-nav">
            <header id="about">
                <h1><a href="/about/">Chris Adams</a></h1>
                <h2>Programmer, cyclist, photographer</h2>
            </header>
            <ul class="links">
                <li>
                    <a href="/">Home</a>
                </li>
                <li>
                    <a href="/about/">About</a>
                </li>
                <li>
                    <a href="/feeds/all.atom" title="Site Feed">Site Feed</a>
                </li>
            </ul>
            <ul class="social-networks">
                <li>
                    <a href="https://github.com/acdha" rel="me">Github</a>
                </li>
                <li>
                    <a href="https://bitbucket.org/acdha" rel="me">Bitbucket</a>
                </li>
                <li>
                    <a href="https://pinboard.in/u:acdha/" rel="me">Pinboard</a>
                </li>
                <li>
                    <a href="https://twitter.com/acdha" rel="me">Twitter</a>
                </li>
                <li>
                    <a href="https://www.flickr.com/photos/acdha" rel="me">Flickr</a>
                </li>
                <li>
                    <a href="https://www.linkedin.com/in/acdha" rel="me">LinkedIn</a>
                </li>
            </ul>
            <div id="site-search"></div>
        </nav>
        <section id="main">
            <article class="post">
                <header>
                    <meta itemprop="dateCreated" content="2002-07-22T22:18:51-04:00">
                    <meta itemprop="dateModified" content="2002-07-23T05:18:51-04:00">
                    <time class="date" itemprop="datePublished" datetime="2002-07-23T09:18:51+00:00">Jul 23</time>
                    <h2 class="" itemprop="title">Comments on the on-going Apple thread</h2>
                </header>

                <div class="body" itemprop="articleBody"><p>
                        Some comments on <a href="http://www.denbeste.nu/cd_log_entries/2002/07/MactheHammer.shtml">the Captain's recent Apple thread</a>:
                    </p>
                    <blockquote class="cite">
                        <p>
                            Having someone like AMD design a PPC replacement from scratch would be a non-trivial problem. It would take years. Intel has been working on Itanium for at least six years, for instance. There are also licensing issues involved; either IBM or Motorola (or maybe both) would have to consent and would have to be paid. In particular, Motorola owns the Altivec instruction set, and no-one can implement that without paying them. (Not even IBM.)
                        </p>
                    </blockquote>
                    <p>
                        I think the general theme is correct but there some questionable points here. Intel's Itanium is a really bad example. They were not only producing a new processor but also producing the first major implementation of a new design style (<a href="http://www.extremetech.com/print_article/0,3428,a%253D22477,00.asp">EPIC</a>, extending off of the VLIW niche), which among other things broke a number of common assumptions programmers make and required a great deal of work from the compiler vendors. Much of the delay was due to the design team's widely publicized problems and IA64 would have been usable much later if HP hadn't stepped in. A better comparison is the Hammer project - AMD had a smaller team, much less industry support and is reaching the point of shipping silicon much sooner. Producing a better PowerPC would arguably be even easier - the architecture is well defined, including the 64-bit extensions, and it doesn't require the same level of exotic hackery X86 has taken to run efficiently on modern architectures.
                    </p>
                    <p>
                        The licensing issues could be moot - Apple was a founding member of the AIM (Apple, IBM, Motorola) consortium which started the PowerPC in the first place and I doubt they haven't considered contingency clauses for non-performance over the years. The big question is what IBM's doing. IBM is the wild-card here - IBM could choose to either scale POWER4/5 down or their existing G3 products up; given IBM's track record, I doubt they'll do anything particularly interesting but I'd consider that far more likely than a complete Power newbie like AMD getting involved.
                    </p>
                    <blockquote class="cite">
                        <p>
                            Apple is trying to bootstrap a new API (Carbon)
                        </p>
                    </blockquote>
                    <p>
                        <a href="http://developer.apple.com/carbon/index.html">Carbon</a> is the old, legacy API minus some particularly non-portable bits. The new API is <a href="http://developer.apple.com/cocoa/index.html">Cocoa</a>, which derives from OpenStep / NeXTStep, and it's portable even across different operating systems - it is possible to run a large body of code on Linux and Windows simply by using <a href="http://www.gnustep.org/">GNUStep</a> - the only question there is API completeness, which is only a problem for people outside Apple and that'd disappear if they wanted to update the old OpenStep libraries (which already supported Windows), and that's across very different operating systems. Since Apple already has OS X running on Intel in house, Cocoa portability is almost trivial there, particularly since the endian issues have already been well covered by the people writing same-codebase apps for PowerPC, X86 and Sparc.
                    </p>
                    <p>
                        This isn't worth all that much because most ISVs are still getting used to Cocoa - with the exception of a few NeXT refugees (e.g. OmniGroup), most big shops are producing Carbon apps which are going to take more than checking the X86 box and recompiling.
                    </p>
                    <blockquote class="cite">
                        <p>
                            If Apple were to switch to Hammer, it's extremely unlikely that PPC emulation would work well. Among other issues, Hammer is little-endian and PPC is big-endian, and I'm sure there are other issues too, and the upshot is that while 68K emulation on the PPC ran at tolerable speeds, PPC emulation on Hammer would crawl.
                        </p>
                    </blockquote>
                    <p>
                        Modern code translation technology has become surprisingly good. DEC was doing this back in the mid-90s with <a href="http://www.support.compaq.com/amt/fx32/">FX!32 on NT</a> to get surprisingly close to native speed translating x86 code into Alpha code at runtime; FX!32 used emulation until it rewrote the code on the fly in the background - it could even do basic profiling to improve the optimization on the most frequent code paths. More recently, HP has also done <a href="http://www.arstechnica.com/reviews/1q00/dynamo/dynamo-1.html">some very interesting work</a> here (their researchers found that this sort of run-time code analysis and recompilation could produce non-trivial performance benefits even between different generations of the same architecture) and, of course, there's always <a href="http://www.transmeta.com/technology/index.html">Crusoe</a>'s loadable instruction sets. At least at one point they were even talking about a system which could run multiple instruction sets simultaneously simply by swapping the ISA when necessary while doing a context switch. (Now if Transmeta could just produce something faster than 1Ghz...)
                    </p>
                    <p>
                        This isn't to say that the problem is trivial - I'm sure it'd produce quite a few CompSci theses - but a profitable company with $4 billion in the bank can hire a pretty significant programming team, particularly if doing so let them save other R&amp;D time by reusing AMD's reference designs. I have to say that I'd really like this technology to go mainstream - getting rid of instruction-set lock would be a nice thing from a consumer's standpoint.
                    </p>
                    <p>
                        There's also the thought that Hammer's memory architecture alone would probably be enough to make a Hammer system which ran at 50% of the PPC speed faster than a 1GHz G4 crippled by its 133Mhz SDRAM - consider the difference in <a href="http://www.xinet.com/benchmarks/benchmarks.2002/index.html">Xinet</a>'s benchmark results between a normal G4 and an Xserve which does have DDR but also has the same kind of shared SMP bus Intel's been getting away from. After all, you're talking about a system which will probably have at least twice the clock rate and memory bandwidth, a significantly faster I/O subsystem (with the better interconnect, SMP structure and general optimization, I wouldn't be surprised to see an order of magnitude over a PowerMac) and much lower memory latency.
                    </p>
                    <p>
                        The main reason why Apple's unlikely to switch is definitely Office. Microsoft likes to keep Apple around to defend against monopolist charges but that's only worth so much. I doubt Microsoft would be happy with something like an X86 Mac with a special Apple-only BIOS, so the only way Apple would make that move would be if something like <a href="http://www.openoffice.org/">OpenOffice</a> were to become a viable alternative to MS Office.
                    </p>
                    <p>
                        OpenOffice has been a decent replacement for Office on my Windows 2000 system and we provide it for our Linux users, so this could actually happen. I'm not holding my breath but I really like the idea of more competition in what's become a single-player market - that grows more appealing every time the site-license screws are tightened a little more.
                    </p>
                </div>
            </article>

            <nav id="post-nav">


            </nav>

            <script id="discus-javascript">
                var disqus_shortname = 'improbable';

                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
                    document.getElementsByTagName('body')[0].appendChild(dsq);
                })();
            </script>

            <a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
            <div id="disqus_thread"></div>
        </section>

        <footer id="site-footer" class="nocontent">
            <p>
                This site is purely my personal work and does not reflect the views of my employer.
            </p>
            <p class="license">
                <a class="icon" rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/3.0/88x31.png"></a>
                This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.
            </p>
        </footer>

        <script async src="/static/js/common.js"></script>
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/run_prettify.min.js" integrity="sha256-hj+5FRlAuvAFANiefn0PpJYCkV1X4QT9EgiPd+6QnCw=" crossorigin="anonymous"></script>
    </body>
</html>
