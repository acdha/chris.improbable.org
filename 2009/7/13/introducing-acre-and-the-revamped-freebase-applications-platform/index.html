<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Introducing Acre and the revamped Freebase Applications Platform</title>
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <link rel="stylesheet" href="/static/css/main.min.css" type="text/css" media="all">
        <!--[if lte IE 8]>
            <link
                rel="stylesheet"
                href="/static/css/ie-fixes.css"
                type="text/css"
                media="all"
            />
            <script src="/static/js/html5shiv.js"></script>
        <![endif]-->

        <meta http-equiv="last-modified" content="Mon, 13 Jul 2009 23:13:12 GMT">
        <link rel="alternate" type="application/atom+xml" title="All Posts (Atom)" href="/feeds/all.atom">
        <link rel="alternate" type="application/rss+xml" title="All Posts (RSS)" href="/feeds/all.rss">
        <link rel="icon" type="image/jpeg" sizes="287x287" href="/static/img/favicon-287x287.jpg">
        <link rel="icon" type="image/jpeg" sizes="128x128" href="/static/img/favicon-128x128.jpg">
    </head>
    <body class="blog post_detail" itemscope itemtype="http://schema.org/BlogPosting">
        <nav id="site-nav">
            <header id="about">
                <h1><a href="/about/">Chris Adams</a></h1>
                <h2>Programmer, cyclist, photographer</h2>
            </header>
            <ul class="links">
                <li>
                    <a href="/">Home</a>
                </li>
                <li>
                    <a href="/about/">About</a>
                </li>
                <li>
                    <a href="/feeds/all.atom" title="Site Feed">Site Feed</a>
                </li>
            </ul>
            <ul class="social-networks">
                <li>
                    <a rel="me" href="https://code4lib.social/@acdha">Mastodon</a>
                </li>
                <li>
                    <a href="https://github.com/acdha" rel="me">Github</a>
                </li>
                <li>
                    <a href="https://bitbucket.org/acdha" rel="me">Bitbucket</a>
                </li>
                <li>
                    <a href="https://pinboard.in/u:acdha/" rel="me">Pinboard</a>
                </li>
                <li>
                    <a href="https://www.flickr.com/photos/acdha" rel="me">Flickr</a>
                </li>
                <li>
                    <a href="https://www.linkedin.com/in/acdha" rel="me">LinkedIn</a>
                </li>
            </ul>
            <div id="site-search"></div>
        </nav>
        <section id="main">
            <article class="post">
                <header>
                    <meta itemprop="dateCreated" content="2009-07-13T19:13:12-04:00">
                    <meta itemprop="dateModified" content="2009-07-13T19:13:12-04:00">
                    <time class="date" itemprop="datePublished" datetime="2009-07-13T23:13:12+00:00">Jul 13</time>
                    <h2 class="" itemprop="title">Introducing Acre and the revamped Freebase Applications Platform</h2>
                </header>

                <div class="body" itemprop="articleBody"><div class="googlereader description" data-google-id="tag:google.com,2005:reader/item/06b81d29270f6447">
                        <blockquote>
                            <p>
                                I joined <a href="http://www.metaweb.com/">Metaweb</a> in September 2008 with the title of ‘Application Catalyst’ which is sort of a pun-intended role of somebody that should help making it easier for others to write applications that depend on data and services provided by <a href="http://www.freebase.com">Freebase</a>. Since then, I’ve been working full time with <a href="http://davidhuynh.net/">David</a> and the rest of the ‘platform’ team to enrich, polish, solidify, document and streamline the application platform offerings of Freebase.
                            </p>
                            <p>
                                People that know what Freebase is think of http://www.freebase.com/, but they probably don’t know that we get a <strong>lot</strong> more traffic thru our web service APIs that expose the querying interfaces (both for reading and writing). Freebase.com (or ‘the client’ as we call it) is only one of the many applications that use Freebase data for their own uses.
                            </p>
                            <p>
                                Notable other Freebase data consumers are Microsoft’s new search engine <a href="http://bing.com/">Bing</a> and <a href="http://online.wsj.com/article/SB10001424052970203547904574277963143585126.html">The Wall Street Journal</a>, to cite a few.
                            </p>
                            <p>
                                But we wanted to make it really easy for people that are interested in particular data domains not only to store, cleanup and share the costs of maintaining their data, but to create highly tailored web applications that can present the data precisely the way users want and offer mashup and writing services that make such data useful.
                            </p>
                            <p>
                                We offer a wide variety of ways for people to use Freebase from inside their applications:
                            </p>
                            <ol style="text-align:left">
                                <li>a set of <a href="http://freebaseapps.com/docs/web_services">RESTful web services</a>
                                </li>
                                <li>a set of <a href="http://freebaseapps.com/docs/client_libraries">libraries for many programming languages</a> that you can use to simplify the job of calling those web services
                                </li>
                                <li>a <a href="http://freebaseapps.com/docs/acre">web application hosting service called <strong>Acre</strong></a> that allows you to write and run your web applications directly on Metaweb’s server infrastructure
                                </li>
                            </ol>
                            <p>
                                <a href="http://freebaseapps.com/docs"><img title="Freebase Platform" src="http://datadocs.freebaseapps.com/freebase_platform" alt="" width="662" height="510"></a>
                            </p>
                            <p>
                                My work has been mostly on writing Acre itself and writing Acre apps to show off its functionality or to implement useful tools with it, so I want to focus on that part of the platform.
                            </p>
                            <p>
                                Those of you who know me from my <a href="http://cocoon.apache.org/">Cocoon</a> past know that I’ve been very interested on the use of Javascript on the server side since at least 2003. Cocoon pioneered the use of <a href="http://cocoon.apache.org/2.1/userdocs/flow/index.html">web app control flow and native continuations in server side javascript</a>, but its XML-heavy skeleton made it hard for people to perceive its value in so much complexity.
                            </p>
                            <p>
                                Which is why I later wrote <a href="http://simile.mit.edu/wiki/Butterfly">Butterfly</a>, a slimmed down version of Cocoon’s flowscript engine that is currently used in production in one of <a href="http://citeline.mit.edu/">MIT’s online projects</a> but never reached wide adoption (also because I never really pushed hard on spreading the word about it).
                            </p>
                            <p>
                                When I interviewed at Metaweb and <a href="http://nixweb.com/">Nick</a> (of <a href="http://en.wikipedia.org/wiki/LiveConnect">LiveConnect</a> fame) showed me Acre (which he had started) and it was a pleasant surprise for me to see so much alignment and overlap there was between Butterfly and Acre, even if Acre was considerably more ambitious: while Butterfly was a regular application server running trusted code, Acre was an entire hosting environment, designed to run unsafe user-contributed code on Metaweb’s machines and handling thousands of virtual hosts and web applications at the same time.
                            </p>
                            <p>
                                Both were written in <a href="http://en.wikipedia.org/wiki/Java_%28programming_language%29">Java</a> and used <a href="http://www.mozilla.org/rhino/">Rhino</a> as the execution engine, but Acre was designed from the ground up to offer the ability to host potentially malicious code and isolate its execution securely, both in terms of what actions could be performed and what could not, but also how much server resources each request could consume before being considered abusive and be autonomously terminated.
                            </p>
                            <p>
                                User code in Acre runs thru three layers of sandboxing: Rhino first presents the user code with a carefully restricted API set that severely limits what the user script can do (just like the browser does with web pages), Rhino then compiles the script into Java bytecode which is then interpreted and <a href="http://en.wikipedia.org/wiki/Just-in-time_compilation">JIT-compiled</a> by the Java virtual machine, which is then executed under an unpriviledged user by the OS.
                            </p>
                            <p>
                                Two things the JVM didn’t offer and we had to introduce ourselves: time and memory quota for the execution of a thread.
                            </p>
                            <p>
                                Acre is run on a cluster of specially patched JVMs that provide it with special resource-limited threads that can be set to ‘expire’ if the code they are executing either runs for too long or consumes too much memory (either directly or thru a native call). This is done to prevent malicious users from attempting <a href="http://en.wikipedia.org/wiki/Denial-of-service_attack">DoS</a> attacks to the Acre cluster by running code that either never ends or that keeps consuming the system memory without releasing it.
                            </p>
                            <p>
                                I’m very proud of the work that my team and I did on Acre, especially because of all the very cool applications that were written on it, from <a href="http://typewriter.freebaseapps.com/">data games</a> to <a href="http://fmdb.freebaseapps.com/">domain-specific visualizations</a>, from <a href="http://tippify.com/">social network add-ons</a> to <a href="http://acre-development.freebaseapps.com/">utility applications</a>, from <a href="http://schemas.freebaseapps.com/">exploration tools</a> to <a href="http://sizzle.freebaseapps.com/">powerful libraries integrations</a>, and the wonderful experience of writing a software that becomes part of your daily toolkit.
                            </p>
                            <p>
                                I’m particularly proud of Acre’s native support for <a href="http://oauth.net/">OAuth</a> which <a href="http://www.linkedin.com/pub/alexander-botero-lowry/4/865/11b">Alex</a> and I designed and then I (painfully) implemented. Getting OAuth support to one single line of code was not easy, but we did it and it’s so simple to use that OAuth is the default conduit that Acre uses to talk to Freebase, making all Acre apps de-facto citizens of the web of distributed services.
                            </p>
                            <p>
                                I’m also very happy about not only the engine design and the server infrastructure that can allow us to scale horizontally with ease, but also of the entire surface with the user, from the browser-based development environment (the <a href="http://acre.freebase.com/">Acre App Editor</a>) to the <a href="http://freebaseapps.com/docs/">extensive documentation hub</a>, from the <a href="http://freebaseapps.com/">introductory screencast</a> to the <a href="http://freebaseapps.com/apps/">application gallery</a> that showcases what everybody is doing in the ~900 applications that Acre already hosts.
                            </p>
                            <p>
                                So, without further ramblings, point your browser to <a href="http://freebaseapps.com/">http://freebaseapps.com/</a> if you want to know more and start from there: my suggestion is to watch the screencast that will introduce you acre and show you how to build an app with it.
                            </p>
                            <p>
                                Feel free to email me at ‘<em>stefano at metaweb.com</em>‘ in case you need help or you have suggestions or criticism: while very exciting, we know this is only the beginning and we’re thrilled to know about ways to make this even better and more useful.
                            </p>
                            <p>
                                Enjoy!
                            </p>
                        </blockquote>
                    </div>
                    <p class="bookmark-source">
                        Source: <a href="http://www.betaversion.org/~stefano/linotype/news/297/">http://www.betaversion.org/~stefano/linotype/news/297/</a>
                    </p>
                </div>
            </article>

            <nav id="post-nav">


            </nav>
        </section>

        <footer id="site-footer" class="nocontent">
            <p>
                This site is purely my personal work and does not reflect the
                views of my employer.
            </p>
            <p class="license">
                <a class="icon" rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width: 0" src="https://i.creativecommons.org/l/by-sa/3.0/88x31.png"></a>
                This work is licensed under a
                <a rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US">Creative Commons Attribution-ShareAlike 3.0 Unported
                    License</a>.
            </p>
        </footer>

        <script async src="/static/js/common.js"></script>
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/run_prettify.min.js" integrity="sha256-hj+5FRlAuvAFANiefn0PpJYCkV1X4QT9EgiPd+6QnCw=" crossorigin="anonymous"></script>
    </body>
</html>
