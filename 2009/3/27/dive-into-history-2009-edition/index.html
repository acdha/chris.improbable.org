<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Dive into history, 2009 edition</title>
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <link rel="stylesheet" href="/static/css/main.min.css" type="text/css" media="all">
        <!--[if lte IE 8]>
            <link rel="stylesheet" href="/static/css/ie-fixes.css" type="text/css" media="all">
            <script src="/static/js/html5shiv.js"></script>
        <![endif]-->

        <meta http-equiv="last-modified" content="Fri, 27 Mar 2009 21:56:07 GMT">
        <link rel="alternate" type="application/atom+xml" title="All Posts (Atom)" href="/feeds/all.atom">
        <link rel="alternate" type="application/rss+xml" title="All Posts (RSS)" href="/feeds/all.rss">
        <link rel="icon" type="image/jpeg" sizes="287x287" href="/static/img/favicon-287x287.jpg">
        <link rel="icon" type="image/jpeg" sizes="128x128" href="/static/img/favicon-128x128.jpg">
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-2097834-1', 'auto');
            ga('send', 'pageview');
        </script>
    </head>
    <body class="blog post_detail" itemscope itemtype="http://schema.org/BlogPosting">
        <nav id="site-nav">
            <header id="about">
                <h1><a href="/about/">Chris Adams</a></h1>
                <h2>Programmer, cyclist, photographer</h2>
            </header>
            <ul class="links">
                <li>
                    <a href="/">Home</a>
                </li>
                <li>
                    <a href="/about/">About</a>
                </li>
                <li>
                    <a href="/feeds/all.atom" title="Site Feed">Site Feed</a>
                </li>
            </ul>
            <ul class="social-networks">
                <li>
                    <a href="https://github.com/acdha" rel="me">Github</a>
                </li>
                <li>
                    <a href="https://bitbucket.org/acdha" rel="me">Bitbucket</a>
                </li>
                <li>
                    <a href="https://pinboard.in/u:acdha/" rel="me">Pinboard</a>
                </li>
                <li>
                    <a href="https://twitter.com/acdha" rel="me">Twitter</a>
                </li>
                <li>
                    <a href="https://www.flickr.com/photos/acdha" rel="me">Flickr</a>
                </li>
                <li>
                    <a href="https://www.linkedin.com/in/acdha" rel="me">LinkedIn</a>
                </li>
            </ul>
            <div id="site-search"></div>
        </nav>
        <section id="main">
            <article class="post">
                <header>
                    <meta itemprop="dateCreated" content="2009-03-27T13:20:42-04:00">
                    <meta itemprop="dateModified" content="2009-03-27T13:20:42-04:00">
                    <time class="date" itemprop="datePublished" datetime="2009-03-27T17:20:42+00:00">Mar 27</time>
                    <h2 class="" itemprop="title">Dive into history, 2009 edition</h2>
                </header>

                <div class="body" itemprop="articleBody"><div class="googlereader description" data-google-id="tag:google.com,2005:reader/item/97564d15b2b26f50">
                        <blockquote>
                            <a href="http://diveintomark.org/archives/2002/08/04/dive_into_history">Again</a>, this is more for my benefit than for yours. If I don’t write this down, I’ll forget it.
                            <p>
                                <a href="http://diveintopython3.org/">Dive Into Python 3</a> was commissioned in January 2009 by Apress, who published the original <a href="http://diveintopython.org/">Dive Into Python</a> in 2004. Upon agreeing to contract terms, I registered a ten-year lease on <code>diveintopython3.org</code> and immediately published a draft table of contents.
                            </p>
                            <p>
                                The original <abbr title="Dive Into Python">DiP</abbr> was written in DocBook <abbr>XML</abbr>. As I’ve mentioned before, I chose DocBook <abbr>XML</abbr> because I wanted to learn <abbr>XML</abbr> and XSL, and DocBook seemed to be <i>Just The Thing</i> for technical documentation. There was also a bit of self-grandeur involved. I was writing a book <i>For The Ages</i>, so it was important that it be in a <i>Format Of Forever</i>. And in the short term, I could transform <i>The Format Of Forever</i> into useful (but lowly) <i>Output Formats</i>, so I could do unimportant things like publish it online.
                            </p>
                            <p>
                                <i>For The Ages</i> turned out to be about 10 years. <i>The Format Of Forever</i> <a href="http://www.docbook.org/specs/docbook-5.0-spec-cs-01.html">is still going strong</a>, but Python itself changed so quickly that it didn’t matter.
                            </p>
                            <p>
                                Oh, and there was one other little thing that happened between 2000 and 2009: <a href="http://www.google.com/">search stopped sucking and took over the web</a>. Kids today may not remember, but it used to be <em>hard</em> to find stuff on the web. Once you found it, you wanted to download it so you could read it offline.
                            </p>
                            <p>
                                Remember being “offline”?
                            </p>
                            <p>
                                Anyway, I now realize that there were some hidden assumptions behind my design decisions in 2000. Some of those assumptions turned out to be wrong, or at least not-completely-right. Sure, a lot of people downloaded <abbr>DiP</abbr>, but it still pales in comparison to the number of visitors I got from search traffic. In 2000, I fretted about my “home page” and my “navigation aids.” Nobody cares about any of that anymore, and I have nine years of access logs to prove it.
                            </p>
                            <p>
                                So, I am writing <abbr title="Dive Into Python3 ">DiP3</abbr> in pure <abbr>HTML</abbr> and, modulo some <a href="http://diveintopython3.org/about.html">lossless minimizations</a>, publishing exactly what I write. This makes the proofreading feedback cycle faster — instead of “building” the <abbr>HTML</abbr> output, I just hit <kbd>Ctrl-R</kbd>. I expected it to make some things more complicated, but they turn out not to matter very much.
                            </p>
                            <p>
                                Some examples:
                            </p>
                            <ul>
                                <li>DocBook autonumbers callouts in code blocks. In <abbr>HTML</abbr>, if I insert a callout in the middle of a code block, I have to renumber the other callouts manually. This has happened a few times, but it’s not something I do all the time.
                                </li>
                                <li>When I used DocBook, I used custom <abbr>XML</abbr> entities for each code fragment in a code block. (<i>i.e.</i> I show a complete function, then I have separate code blocks to show and talk about individual lines of code.) In <abbr>HTML</abbr>, I copy-and-paste. This hasn’t bit me much yet because I haven’t had to refactor much code. Then again, the <abbr>XML</abbr> entities technique was also difficult after refactoring, and it required escaping to <abbr>XML</abbr>’s weird quoting rules.
                                </li>
                                <li>DocBook let me “chunk” the <abbr>HTML</abbr> output differently — by section, by chapter, or everything in one big file. I published by section online and let people download as one big file. Nobody cared, and I have logs to prove it. Furthermore, the chapter was always the atomic unit — I would take one concept or one piece of code and build lessons around it for an entire chapter. Splitting up a chapter into multiple pages was just annoying for people who came in from search engines and landed in the middle of a chapter wouldn’t immediately understand the context. And <em>everyone</em> comes in from search engines.
                                </li>
                                <li>Related to the previous point, <strong><abbr>HTML</abbr> is not an output format.</strong> <abbr>HTML</abbr> is <i>The Format</i>. Not <i>The Format Of Forever</i>, but damn if it isn’t <i>The Format Of The Now</i>. Looking back on it now, the <abbr>HTML</abbr> output from DocBook was <em>atrociously inefficient</em>. Tables-for-layout for callouts and tips, empty anchors everywhere, and lots of other markup cruft everywhere. Writing my own <abbr>HTML</abbr>, I can put in only the markup I need — and it turns out I need very little. Callouts are now ordered lists, tips are now blockquotes, etc. Putting an entire chapter on one page sounds bloated, but consider this: my longest chapter so far would be 75 printed pages, and it loads in under 5 seconds. On dialup.
                                </li>
                            </ul>
                            <p>
                                Furthermore, I am no longer under the illusion that this book will be useful forever. Python will either continue to evolve or it will die; either way, static documentation has a shelf life. Today’s cutting edge code is tomorrow’s mainstream code is next year’s legacy code. <abbr>DiP</abbr>’s shelf life was about 10 years. I am supremely confident that the <abbr>HTML</abbr> I’m writing today will still be readable 10 years from now, and after that it won’t matter because I’ll have to rewrite the whole damn book anyway.
                            </p>
                            <p>
                                See you in 2020 for <cite>Dive Into Python 4</cite>!
                            </p>
                        </blockquote>
                    </div>
                    <p class="bookmark-source">
                        Source: <a href="http://diveintomark.org/archives/2009/03/27/dive-into-history-2009-edition">http://diveintomark.org/archives/2009/03/27/dive-into-history-2009-edition</a>
                    </p>
                </div>
            </article>

            <nav id="post-nav">


            </nav>

            <script id="discus-javascript">
                var disqus_shortname = 'improbable';

                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
                    document.getElementsByTagName('body')[0].appendChild(dsq);
                })();
            </script>

            <a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
            <div id="disqus_thread"></div>
        </section>

        <footer id="site-footer" class="nocontent">
            <p>
                This site is purely my personal work and does not reflect the views of my employer.
            </p>
            <p class="license">
                <a class="icon" rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/3.0/88x31.png"></a>
                This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.
            </p>
        </footer>

        <script async src="/static/js/common.js"></script>
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/run_prettify.min.js" integrity="sha256-hj+5FRlAuvAFANiefn0PpJYCkV1X4QT9EgiPd+6QnCw=" crossorigin="anonymous"></script>
    </body>
</html>
