<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>
            CSS Animations
        </title>
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <link rel="stylesheet" href="/static/css/main.min.css" type="text/css" media="all"><!--[if lte IE 8]>
            <link rel="stylesheet" href="/static/css/ie-fixes.css" type="text/css" media="all">
            <script src="/static/js/html5shiv.js"></script>
        <![endif]-->
        <meta http-equiv="last-modified" content="Tue, 15 Dec 2009 00:00:09 GMT">
        <link rel="alternate" type="application/atom+xml" title="All Posts (Atom)" href="/feeds/all.atom">
        <link rel="alternate" type="application/rss+xml" title="All Posts (RSS)" href="/feeds/all.rss">
        <link rel="icon" type="image/jpeg" sizes="287x287" href="/static/img/favicon-287x287.jpg">
        <link rel="icon" type="image/jpeg" sizes="128x128" href="/static/img/favicon-128x128.jpg">
        <script type="application/javascript">
var _prum={id:"5166be01e6e53d1007000001"};var PRUM_EPISODES=PRUM_EPISODES||{};PRUM_EPISODES.q=[];PRUM_EPISODES.mark=function(b,a){PRUM_EPISODES.q.push(["mark",b,a||new Date().getTime()])};PRUM_EPISODES.measure=function(b,a,b){PRUM_EPISODES.q.push(["measure",b,a,b||new Date().getTime()])};PRUM_EPISODES.done=function(a){PRUM_EPISODES.q.push(["done",a])};PRUM_EPISODES.mark("firstbyte");(function(){var b=document.getElementsByTagName("script")[0];var a=document.createElement("script");a.type="text/javascript";a.async=true;a.charset="UTF-8";a.src="//rum-static.pingdom.net/prum.min.js";b.parentNode.insertBefore(a,b)})();
        </script>
    </head>
    <body class="blog post_detail" itemscope itemtype="http://schema.org/BlogPosting">
        <nav id="site-nav">
            <header id="about">
                <h1>
                    <a href="/about/">Chris Adams</a>
                </h1>
                <h2>
                    Programmer, cyclist, photographer
                </h2>
            </header>
            <ul class="links">
                <li>
                    <a href="/">Home</a>
                </li>
                <li>
                    <a href="/about/">About</a>
                </li>
                <li>
                    <a href="/feeds/all.atom" title="Site Feed">Site Feed</a>
                </li>
            </ul>
            <ul class="social-networks">
                <li>
                    <a href="https://github.com/acdha" rel="me">Github</a>
                </li>
                <li>
                    <a href="http://bitbucket.org/acdha" rel="me">Bitbucket</a>
                </li>
                <li>
                    <a href="http://delicious.com/acdha" rel="me">del.icio.us</a>
                </li>
                <li>
                    <a href="http://twitter.com/acdha" rel="me">Twitter</a>
                </li>
                <li>
                    <a href="https://plus.google.com/116562742092842686896?rel=author" rel="me">Google+</a>
                </li>
                <li>
                    <a href="http://www.flickr.com/photos/acdha" rel="me">Flickr</a>
                </li>
                <li>
                    <a href="http://www.linkedin.com/in/acdha" rel="me">LinkedIn</a>
                </li>
                <li>
                    <a href="http://connect.garmin.com/explore?owner=acdha" rel="me">Garmin Connect</a>
                </li>
            </ul>
            <div id="site-search"></div>
        </nav>
        <section id="main">
            <article class="post">
                <header>
                    <meta itemprop="dateCreated" content="2009-12-14T19:00:00-04:00">
                    <meta itemprop="dateModified" content="2009-12-14T19:00:00-04:00"><time class="date" itemprop="datePublished" datetime="2009-12-14T23:00:00+00:00">Dec 14</time>
                    <h2 itemprop="title">
                        CSS Animations
                    </h2>
                </header>
                <div class="body" itemprop="articleBody">
                    <div class="googlereader description" data-google-id="tag:google.com,2005:reader/item/55c144e1c7247b98">
                        <blockquote>
                            <p>
                                <cite>Friend</cite>: <q>You should learn how to write <span>CSS</span>!</q><br>
                                <cite>Me</cite>: <q>…</q><br>
                                <cite>Friend</cite>: <q><span>CSS</span>; Cascading Style Sheets. If you’re serious about web design, that’s the next thing you should learn.</q><br>
                                <cite>Me</cite>: <q>What’s wrong with <code>&lt;font&gt;</code> tags?</q>
                            </p>
                            <p>
                                That was 8 years ago. Thanks to the hard work of <a href="http://www.zeldman.com/">Jeffrey</a>, <a href="http://www.andybudd.com/">Andy</a>, <a href="http://www.stuffandnonsense.co.uk/">Andy</a>, <a href="http://www.cameronmoll.com/">Cameron</a>, <a href="http://colly.com/">Colly</a>, <a href="http://simplebits.com/">Dan</a> and many others, learning how to decently markup a website and write lightweight stylesheets was surprisingly easy. They made it so easy even a complete idiot (OH <span>HAI</span>) was able to quickly master it.
                            </p>
                            <p>
                                And then… nothing. For a long time, it seemed like there wasn’t happening anything in the land of <span>CSS</span>, time stood still. Once you knew the basics, there wasn’t anything new to keep up with. It looked like a great band split, but people just kept re-releasing their music in various “Best Of!” or “Remastered!” albums.
                            </p>
                            <p>
                                Fast forward a couple of years to late 2006. On the official WebKit blog <a href="http://webkit.org/blog/">Surfin’ Safari</a>, there’s an article about something called <a href="http://webkit.org/blog/138/css-animation/"><span>CSS</span> animations</a>. Great new stuff to play with, but only supported by <a href="http://nightly.webkit.org/">nightly builds</a> (read: very, very beta) of WebKit. In the following months, they release other goodies, like <a href="http://webkit.org/blog/175/introducing-css-gradients/"><span>CSS</span> gradients</a>, <a href="http://webkit.org/blog/182/css-reflections/"><span>CSS</span> reflections</a>, <a href="http://webkit.org/blog/181/css-masks/"><span>CSS</span> masks</a>, and even <a href="http://webkit.org/blog/324/css-animation-2/">more <span>CSS</span> animation sexiness</a>. Whoa, looks like the band got back together, found their second youth, and went into overdrive! The problem was that if you wanted to listen to their new albums, you had to own some kind of new high-tech player no one on earth (besides some early adopters) owned.
                            </p>
                            <p>
                                Back in the time machine. It is now late 2009, close to Christmas. <em>Things have changed.</em> Browsers supporting these new toys are widely available <a href="http://www.apple.com/safari/">left</a> and <a href="http://www.google.com/chrome/">right</a>. Even non-techies are using these advanced browsers to surf the web on a daily basis!
                            </p>
                            <p>
                                Epic win? Almost, but at least this gives us enough reason to start learning how we could use all this new <span>CSS</span> voodoo. On Monday, Natalie Downe showed you a good tutorial on <a href="http://24ways.org/2009/going-nuts-with-css-transitions">Going Nuts with <span>CSS</span> Transitions</a>. Today, I’m taking it one step further…
                            </p>
                            <h3>
                                Howto: A basic spinner
                            </h3>
                            <p>
                                No matter how fast internet tubes or servers are, we’ll always need spinners to indicate something’s happening behind the scenes. Up until now, people would go to <a href="http://www.ajaxload.info/">some site</a>, pick one of the available templates, customize their foreground and background colors, and download a beautiful <span>GIF</span> image.
                            </p>
                            <p>
                                There are some downsides to this though:
                            </p>
                            <ul>
                                <li>It’s only <em>semi</em>-transparent: If you change your mind and pick a slightly different background color, you need to go back to the site, set all the parameters again, and replace your current image. There isn’t even a way to pick an image or gradient as background.
                                </li>
                                <li>Limited number of frames, probable to keep the file-size as small as possible (don’t forget this thing needs to be loaded <em>before</em> whatever process is finished in the background), and you don’t have that 24 frames per second smoothness.
                                </li>
                                <li>This is just too fucking easy. As a front-end code geek, there must be a “cooler” way to do this!
                                </li>
                            </ul>
                            <p>
                                What do we need to make a spinner with <span>CSS</span> animations? One image, and one element on our webpage we can hook on to. Yes, that’s it. I created <a href="http://media.24ways.org/2009/15/assets/img/spinner.png">a simple transparent <span>PNG</span></a> that looks it might be a spinner, and for the element on the page, I wrote this piece of genius <span>HTML</span>:
                            </p>
                            <pre>
<code>&lt;p id="spinner"&gt;Please wait while we do what we do best.&lt;/p&gt;
</code>
</pre>
                            <p>
                                Looks semantic enough to me! Here’s the basic <span>HTML</span> I’m using to position the element in the center of the screen, and make the text inside it disappear:
                            </p>
                            <pre>
<code>#spinner {
        position: absolute;
        top: 50%;
        left: 50%;
        margin: -100px 0 0 -100px;
        height: 200px;
        width: 200px;
        text-indent: 250px;
        white-space: nowrap;
        overflow: hidden;
}
</code>
</pre>
                            <p>
                                Cool, but now we don’t see anything. Let’s pull rabbit number one out of the hat: <code>-webkit-mask-image</code> (accompanied by the previously mentioned transparent <span>PNG</span> image):
                            </p>
                            <pre>
<code>#spinner {
        ...
        -webkit-mask-image: url(../img/spinner.png);
}
</code>
</pre>
                            <p>
                                By now you should be feeling like a magician already. Oh, wait, we still have a blank screen, looks like we left something in the hat (tip: not rabbit droppings):
                            </p>
                            <pre>
<code>#spinner {
        ...
        -webkit-mask-image: url(../img/spinner.png);
        background-color: #000;
}
</code>
</pre>
                            <p>
                                Nice! What we’ve done right here is telling the element to clip onto the <span>PNG</span>. It’s a lot like clipping layers in Photoshop. So, spinners, they move, right? Into the hat again, and look what we pull out this time: <span>CSS</span> animations!
                            </p>
                            <pre>
<code>#spinner {
        ...
        -webkit-mask-image: url(../img/spinner.png);
        background-color: #000;
        -webkit-animation-name: spinnerRotate;
        -webkit-animation-duration: 2s;
        -webkit-animation-iteration-count: infinite;
        -webkit-animation-timing-function: linear;
}
</code>
</pre>
                            <p>
                                Some explanation:
                            </p>
                            <ul>
                                <li>
                                    <code>-webkit-animation-name</code>: Name of the animation we’ll be defining later.
                                </li>
                                <li>
                                    <code>-webkit-animation-duration</code>: The timespan of the animation.
                                </li>
                                <li>
                                    <code>-webkit-animation-iteration-count</code>: Repeat once, a defined number of times or infinitely?
                                </li>
                                <li>
                                    <code>-webkit-animation-timing-function</code>: Linear is the one you’ll be using mostly. Other options are ease-in, ease-out, ease-in-out…
                                </li>
                            </ul>
                            <p>
                                Let’s define <code>spinnerRotate</code>:
                            </p>
                            <pre>
<code>@-webkit-keyframes spinnerRotate {
        from {
                -webkit-transform:rotate(0deg);
        }
        to {
                -webkit-transform:rotate(360deg);
        }
}
</code>
</pre>
                            <p>
                                En Anglais: <strong>Rotate <code>#spinner</code> starting at 0 degrees, ending at 360 degrees, over a timespan of 2 seconds, at a constant speed, and keep repeating this animation forever.</strong>
                            </p>
                            <p>
                                That’s it! See it in action on <a href="http://media.24ways.org/2009/15/spinner.html">the demo page</a>.
                            </p>
                            <p>
                                <em>Note: these examples only work when you’re using a WebKit-based browser like Safari, Mobile Safari or Google Chrome. I’m confident though that Mozilla and Opera will try their very best catching up with all this new <span>CSS</span> goodness soon.</em>
                            </p>
                            <p>
                                When looking at this example, you see the possibilities are endless. Another advantage is you can change the look of it entirely by only changing a couple of lines of <span>CSS</span>, instead of re-creating and re-downloading the image from some website smelling like web 2.0 gone bad. I made <a href="http://media.24ways.org/2009/15/spinner-alt.html">another demo</a> that shows how great it is to be able to change background and foreground colors (even on the fly!).
                            </p>
                            <p>
                                So there you have it, a smoothly animated, fully transparent and completely customizable spinner. Cool? I think so. (Ladies?)
                            </p>
                            <p>
                                But you can do a lot more with <span>CSS</span> animations than just create pretty spinners. Since I was fooling around with it anyway, I decided to test how far you can push this, <a href="http://media.24ways.org/2009/15/space.html">space is the final limit, right?</a>
                            </p>
                            <h3>
                                Conclusion
                            </h3>
                            <p>
                                <span>CSS</span> has never been more exciting than it is right now. I’m even prepared to say <span>CSS</span> is “cool” again, both for the more experienced front-end developers as for the new designers discovering <span>CSS</span> every day now.
                            </p>
                            <p>
                                But…
                            </p>
                            <p>
                                Remember when Javascript became popular? Remember when Flash became popular? Every time we’re been given new toys, some people aren’t ashamed to use it in a way you can barely call constructive. I’m thinking of Geocities websites, loaded with glowing blocks of text, moving images, bad color usage… In the wise words of <cite>Stan Lee</cite>: <q>With great power there must also come great responsibility!</q> A sprinkle of <span>CSS</span> animations is better than a bucket load. Apply with care.
                            </p>
                            <div>
                                <a href="http://feeds.feedburner.com/~ff/24ways?a=N4MN7h2DQeE:LOwpHHEM860:yIl2AUoC8zA"><img src="http://feeds.feedburner.com/~ff/24ways?d=yIl2AUoC8zA" border="0"></a> <a href="http://feeds.feedburner.com/~ff/24ways?a=N4MN7h2DQeE:LOwpHHEM860:7Q72WNTAKBA"><img src="http://feeds.feedburner.com/~ff/24ways?d=7Q72WNTAKBA" border="0"></a> <a href="http://feeds.feedburner.com/~ff/24ways?a=N4MN7h2DQeE:LOwpHHEM860:V_sGLiPBpWU"><img src="http://feeds.feedburner.com/~ff/24ways?i=N4MN7h2DQeE:LOwpHHEM860:V_sGLiPBpWU" border="0"></a> <a href="http://feeds.feedburner.com/~ff/24ways?a=N4MN7h2DQeE:LOwpHHEM860:dnMXMwOfBR0"><img src="http://feeds.feedburner.com/~ff/24ways?d=dnMXMwOfBR0" border="0"></a>
                            </div>
                        </blockquote>
                    </div>
                    <p class="bookmark-source">
                        Source: <a href="http://24ways.org/2009/css-animations">http://24ways.org/2009/css-animations</a>
                    </p>
                </div>
            </article>
            <nav id="post-nav"></nav><script id="discus-javascript">
    var disqus_shortname = 'improbable';

                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                    document.getElementsByTagName('body')[0].appendChild(dsq);
                })();
            </script><a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
            <div id="disqus_thread"></div>
        </section>
        <footer id="site-footer" class="nocontent">
            <p>
                This site is purely my personal work and does not reflect the views of my employer.
            </p>
            <p class="license">
                <a class="icon" rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png"></a> This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.
            </p>
        </footer><script async="" defer src="/static/js/common.js">
</script><script id="google-analytics">
    var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-2097834-1']);
            _gaq.push(['_setDomainName', 'improbable.org']);
            _gaq.push(['_trackPageview']);

            (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();
        </script>
    </body>
</html>
