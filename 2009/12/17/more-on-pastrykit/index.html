<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>
            ★ More on PastryKit
        </title>
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <link rel="stylesheet" href="/static/css/main.min.css" type="text/css" media="all"><!--[if lte IE 8]>
            <link rel="stylesheet" href="/static/css/ie-fixes.css" type="text/css" media="all">
            <script src="/static/js/html5shiv.js"></script>
        <![endif]-->
        <meta http-equiv="last-modified" content="Fri, 18 Dec 2009 23:34:59 GMT">
        <link rel="alternate" type="application/atom+xml" title="All Posts (Atom)" href="/feeds/all.atom">
        <link rel="alternate" type="application/rss+xml" title="All Posts (RSS)" href="/feeds/all.rss">
        <link rel="icon" type="image/jpeg" sizes="287x287" href="/static/img/favicon-287x287.jpg">
        <link rel="icon" type="image/jpeg" sizes="128x128" href="/static/img/favicon-128x128.jpg">
        <script type="application/javascript">
var _prum={id:"5166be01e6e53d1007000001"};var PRUM_EPISODES=PRUM_EPISODES||{};PRUM_EPISODES.q=[];PRUM_EPISODES.mark=function(b,a){PRUM_EPISODES.q.push(["mark",b,a||new Date().getTime()])};PRUM_EPISODES.measure=function(b,a,b){PRUM_EPISODES.q.push(["measure",b,a,b||new Date().getTime()])};PRUM_EPISODES.done=function(a){PRUM_EPISODES.q.push(["done",a])};PRUM_EPISODES.mark("firstbyte");(function(){var b=document.getElementsByTagName("script")[0];var a=document.createElement("script");a.type="text/javascript";a.async=true;a.charset="UTF-8";a.src="//rum-static.pingdom.net/prum.min.js";b.parentNode.insertBefore(a,b)})();
        </script>
    </head>
    <body class="blog post_detail" itemscope itemtype="http://schema.org/BlogPosting">
        <nav id="site-nav">
            <header id="about">
                <h1>
                    <a href="/about/">Chris Adams</a>
                </h1>
                <h2>
                    Programmer, cyclist, photographer
                </h2>
            </header>
            <ul class="links">
                <li>
                    <a href="/">Home</a>
                </li>
                <li>
                    <a href="/about/">About</a>
                </li>
                <li>
                    <a href="/feeds/all.atom" title="Site Feed">Site Feed</a>
                </li>
            </ul>
            <ul class="social-networks">
                <li>
                    <a href="https://github.com/acdha" rel="me">Github</a>
                </li>
                <li>
                    <a href="http://bitbucket.org/acdha" rel="me">Bitbucket</a>
                </li>
                <li>
                    <a href="http://delicious.com/acdha" rel="me">del.icio.us</a>
                </li>
                <li>
                    <a href="http://twitter.com/acdha" rel="me">Twitter</a>
                </li>
                <li>
                    <a href="https://plus.google.com/116562742092842686896?rel=author" rel="me">Google+</a>
                </li>
                <li>
                    <a href="http://www.flickr.com/photos/acdha" rel="me">Flickr</a>
                </li>
                <li>
                    <a href="http://www.linkedin.com/in/acdha" rel="me">LinkedIn</a>
                </li>
                <li>
                    <a href="http://connect.garmin.com/explore?owner=acdha" rel="me">Garmin Connect</a>
                </li>
            </ul>
            <div id="site-search"></div>
        </nav>
        <section id="main">
            <article class="post">
                <header>
                    <meta itemprop="dateCreated" content="2009-12-17T22:36:43-04:00">
                    <meta itemprop="dateModified" content="2009-12-17T22:36:43-04:00"><time class="date" itemprop="datePublished" datetime="2009-12-18T02:36:43+00:00">Dec 18</time>
                    <h2 itemprop="title">
                        ★ More on PastryKit
                    </h2>
                </header>
                <div class="body" itemprop="articleBody">
                    <div class="googlereader description" data-google-id="tag:google.com,2005:reader/item/a196893bd272fe2d">
                        <blockquote>
                            <p>
                                A bit more regarding <a href="http://daringfireball.net/2009/12/pastrykit">PastryKit</a>, Apple’s web framework for creating iPhone web apps with a look and feel very close to that of native iPhone apps.
                            </p>
                            <h2>
                                Apple’s Various JavaScript Frameworks
                            </h2>
                            <p>
                                Jonathan “Wolf” Rentzsch posted <a href="http://rentzsch.tumblr.com/post/286536824/apples-myriad-javascript-frameworks">this terrific overview</a> of the known JavaScript frameworks in use by various teams at Apple today. Some are public. Others, like PastryKit, are not. There’s a bit of overlap between them; in particular, several of them are very much patterned after Cocoa, not just in terms of MVC, but right down to details like class names. (I hadn’t heard of <a href="http://lists.apple.com/archives/Webobjects-dev/2009/Nov/msg00296.html">Gianduia</a> before, but it <a href="http://news.ycombinator.com/item?id=670244">seems very deep</a>. Apple’s online retail team is using it for things like the <a href="http://concierge.apple.com/geniusbar/R206">Genius Bar reservation system</a>.)
                            </p>
                            <p>
                                But PastryKit is the only one that’s specifically targeted at building native-style iPhone user interfaces. Of the others, one does seem closely related to PastryKit: <a href="http://www.apple.com/itunes/lp-and-extras/">TuneKit</a>, the now-public framework for building iTunes LP and iTunes Extras content bundles. About 40 percent of the code in PastryKit and TuneKit is identical (if you discount the difference between the “PK” and “TK” class name prefixes). DF reader <a href="http://gregsadetsky.com">Greg Sadetsky</a> emailed with the following comparison, after running the code through a prettifier to de-minimize it. First, this from PastryKit:
                            </p>
                            <pre>
<code>const PKTransitionDefaults = {
    duration: 0.5, delay: 0,
    removesTargetUponCompletion: false,
    revertsToOriginalValues: false
};
const PKTransitionStyles = [
    "-webkit-transition-property", 
    "-webkit-transition-duration",
    "-webkit-transition-timing-function",
    "-webkit-transition-delay",
    "-webkit-transition"
];
</code>
</pre>
                            <p>
                                And then this identical-but-for-the-PK/TK-prefixes bit from TunesKit:
                            </p>
                            <pre>
<code>const TKTransitionDefaults = {
    duration: 0.5, delay: 0,
    removesTargetUponCompletion: false,
    revertsToOriginalValues: false
};
const TKTransitionStyles = [
    "-webkit-transition-property", 
    "-webkit-transition-duration",
    "-webkit-transition-timing-function",
    "-webkit-transition-delay",
    "-webkit-transition"
];
</code>
</pre>
                            <p>
                                Et cetera. Either PastryKit and TuneKit are sibling projects, or they’re the work of the same person. (Also, <a href="http://www.roughlydrafted.com/2009/09/14/new-itunes-lp-and-extras-built-using-tunekit-framework-aimed-at-apple-tv/">Daniel Dilger found references to “PastryKit”</a> in the <em>Wall-E</em> iTunes Extras bundle back in September.)
                            </p>
                            <h2>
                                iDisk Help
                            </h2>
                            <p>
                                A few readers emailed to point out another instance of PastryKit in action: the help pages for the iDisk app for iPhone OS. If you have the iDisk app from the App Store installed, you can see this by tapping “Settings”, then “iDisk Help”. Looks just like the rest of the app, but there are a few tell-tale signs that it’s PastryKit running in a full-screen web view (e.g. tapping on the status bar doesn’t scroll to the top).
                            </p>
                            <h2>
                                Is PastryKit a Leftover From the Pre-SDK Days?
                            </h2>
                            <p>
                                One common question I’ve seen (for one example, <a href="http://news.ycombinator.com/item?id=997508">in this Hacker News thread</a>) is whether PastryKit could be a leftover from the “web apps are a really sweet solution to creating iPhone software” days. I’d say no. For one thing, there’s always been a user guide, and as I recall, the guide has always sort of basically followed the look-and-feel of a native app, but this current version for iPhone OS 3 is much better. In fact, if you set your user agent in Safari to MobileSafari 2 (rather than 3) and then load the <a href="http://help.apple.com/iphone/">User Guide</a> you get an older version from iPhone OS 2.0, and it is far less impressive technically. No scrolling magic, no iPhone-style blue gradients when highlighting selected list rows, etc. Further, PastryKit takes advantage of features in mobile WebKit that were only added in iPhone OS 3.0. PastryKit is new.
                            </p>
                            <h2>
                                Apple’s Take on Web Apps Competing With the App Store
                            </h2>
                            <p>
                                Lastly, there’s the question of how concerned Apple is, strategically, that a robust web app API and market would take away from the App Store. And if so, are they worried about the money? I’d guess probably not. I don’t think Apple’s 30 percent cut of App Store revenue is anything to sneeze at, and it’s growing fast. But there’s no question that the App Store exists to sell iPhones and iPod Touches, not the other way around.
                            </p>
                            <p>
                                A bigger concern might be the fact that web apps are cross-platform. Apple is currently using user-agent detection to prevent its PastryKit user guide apps from loading on anything other than MobileSafari, but I don’t think there’s any technical reason why these apps wouldn’t work just fine, and look almost the same, on both Android and WebOS. The font would be slightly different, since neither of those ship with Helvetica, but otherwise it’d look just like an iPhone app.
                            </p>
                            <p>
                                Cutting edge web development never seems to “just work” across different browsers, but these three — iPhone, Android, WebOS — are all based on the same WebKit rendering core. And even if per-platform tweaks are required, surely it’d be far less work than to develop separate native apps using the fundamentally different Cocoa Touch, Android, and <a href="http://developer.palm.com/">Mojo</a> APIs.
                            </p>
                            <p>
                                I would hope Apple isn’t concerned about this. For one thing, desktop-targeted web apps haven’t dampened demand for Macs. If anything, the Mac has <em>thrived</em> as the web has replaced Windows as the most widespread software platform. I think Apple would do well to encourage web apps for <em>cross-platform</em> mobile software, and that doing so would not slow interest in native Cocoa Touch development for performance (especially games) and access to hardware (like the camera) not available to web apps. I also think it would benefit both iPhone users and Apple itself to have no-approval-necessary web apps thrive as an alternative to the tightly-controlled App Store.<sup><a href="http://daringfireball.net/#fn1-2009-12-17">1</a></sup> It’s human nature to <a href="http://scobleizer.com/2009/12/16/iphone-developers-abandoning-app-model-for-html5/">emphasize conflict and drama</a>, but there’s no reason why native iPhone apps <em>and</em> iPhone-optimized web apps can’t both be thriving, growing platforms.
                            </p>
                            <p>
                                But, well, <a href="http://stevenf.tumblr.com/post/277830536/slightly-longer-version-of-a-tweet-from-this">we don’t know</a>.
                            </p>
                            <div>
                                <hr>
                                <ol>
                                    <li>
                                        <p>
                                            That’s not to say more capable web app APIs would be a panacea for all that ails the App Store. For one thing, many of the apps that Apple has blocked from the App Store couldn’t technically be reproduced as web apps. Google Voice, to name the most infamous example. For another, it isn’t much solace to a developer who just created an entire working native iPhone app in Cocoa Touch to be told that their work will not be published in the App Store but that they’re free to recreate the app from scratch using entirely different APIs and technologies.&nbsp;<a href="http://daringfireball.net/#fnr1-2009-12-17" title="Jump back to footnote 1 in the text.">↩</a>
                                        </p>
                                    </li>
                                </ol>
                            </div>
                        </blockquote>
                    </div>
                    <p class="bookmark-source">
                        Source: <a href="http://daringfireball.net/2009/12/more_on_pastrykit">http://daringfireball.net/2009/12/more_on_pastrykit</a>
                    </p>
                </div>
            </article>
            <nav id="post-nav"></nav><script id="discus-javascript">
    var disqus_shortname = 'improbable';

                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                    document.getElementsByTagName('body')[0].appendChild(dsq);
                })();
            </script><a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
            <div id="disqus_thread"></div>
        </section>
        <footer id="site-footer">
            <p>
                This site is purely my personal work and does not reflect the views of my employer.
            </p>
            <p class="license">
                <a class="icon" rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png"></a> This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.
            </p>
        </footer><script async="" defer src="/static/js/common.js">
</script><script id="google-analytics">
    var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-2097834-1']);
            _gaq.push(['_setDomainName', 'improbable.org']);
            _gaq.push(['_trackPageview']);

            (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();
        </script>
    </body>
</html>
