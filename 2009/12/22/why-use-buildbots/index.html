<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>
            Why use buildbots?
        </title>
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <link rel="stylesheet" href="/static/css/main.min.css" type="text/css" media="all"><!--[if lte IE 8]>
            <link rel="stylesheet" href="/static/css/ie-fixes.css" type="text/css" media="all">
            <script src="/static/js/html5shiv.js"></script>
        <![endif]-->
        <meta http-equiv="last-modified" content="Tue, 22 Dec 2009 20:35:00 GMT">
        <link rel="alternate" type="application/atom+xml" title="All Posts (Atom)" href="/feeds/all.atom">
        <link rel="alternate" type="application/rss+xml" title="All Posts (RSS)" href="/feeds/all.rss">
        <link rel="icon" type="image/jpeg" sizes="287x287" href="/static/img/favicon-287x287.jpg">
        <link rel="icon" type="image/jpeg" sizes="128x128" href="/static/img/favicon-128x128.jpg">
        <script type="application/javascript">
var _prum={id:"5166be01e6e53d1007000001"};var PRUM_EPISODES=PRUM_EPISODES||{};PRUM_EPISODES.q=[];PRUM_EPISODES.mark=function(b,a){PRUM_EPISODES.q.push(["mark",b,a||new Date().getTime()])};PRUM_EPISODES.measure=function(b,a,b){PRUM_EPISODES.q.push(["measure",b,a,b||new Date().getTime()])};PRUM_EPISODES.done=function(a){PRUM_EPISODES.q.push(["done",a])};PRUM_EPISODES.mark("firstbyte");(function(){var b=document.getElementsByTagName("script")[0];var a=document.createElement("script");a.type="text/javascript";a.async=true;a.charset="UTF-8";a.src="//rum-static.pingdom.net/prum.min.js";b.parentNode.insertBefore(a,b)})();
        </script>
    </head>
    <body class="blog post_detail" itemscope itemtype="http://schema.org/BlogPosting">
        <nav id="site-nav">
            <header id="about">
                <h1>
                    <a href="/about/">Chris Adams</a>
                </h1>
                <h2>
                    Programmer, cyclist, photographer
                </h2>
            </header>
            <ul class="links">
                <li>
                    <a href="/">Home</a>
                </li>
                <li>
                    <a href="/about/">About</a>
                </li>
                <li>
                    <a href="/feeds/all.atom" title="Site Feed">Site Feed</a>
                </li>
            </ul>
            <ul class="social-networks">
                <li>
                    <a href="https://github.com/acdha" rel="me">Github</a>
                </li>
                <li>
                    <a href="http://bitbucket.org/acdha" rel="me">Bitbucket</a>
                </li>
                <li>
                    <a href="http://delicious.com/acdha" rel="me">del.icio.us</a>
                </li>
                <li>
                    <a href="http://twitter.com/acdha" rel="me">Twitter</a>
                </li>
                <li>
                    <a href="https://plus.google.com/116562742092842686896?rel=author" rel="me">Google+</a>
                </li>
                <li>
                    <a href="http://www.flickr.com/photos/acdha" rel="me">Flickr</a>
                </li>
                <li>
                    <a href="http://www.linkedin.com/in/acdha" rel="me">LinkedIn</a>
                </li>
                <li>
                    <a href="http://connect.garmin.com/explore?owner=acdha" rel="me">Garmin Connect</a>
                </li>
            </ul>
            <div id="site-search"></div>
        </nav>
        <section id="main">
            <article class="post">
                <header>
                    <meta itemprop="dateCreated" content="2009-12-22T15:35:00-04:00">
                    <meta itemprop="dateModified" content="2009-12-22T15:35:00-04:00"><time class="date" itemprop="datePublished" datetime="2009-12-22T19:35:00+00:00">Dec 22</time>
                    <h2 itemprop="title">
                        Why use buildbots?
                    </h2>
                </header>
                <div class="body" itemprop="articleBody">
                    <div class="googlereader description" data-google-id="tag:google.com,2005:reader/item/bda57589ca1294a3">
                        <blockquote>
                            <div>
                                <p>
                                    I've recently turned my basilisk eye from Web testing and code coverage analysis to continuous integration, as you can see from <a href="http://us.pycon.org/2010/conference/talks/?search=continuous">my PyCon '10 talk</a> and my <a href="http://ucosp.wordpress.com/2009/11/11/winter-2010-project-3-pony-build/">UCOSP proposal</a>, not to mention <a href="http://lists.idyll.org/pipermail/testing-in-python/2009-March/001277.html">everyone wants a pony</a>.
                                </p>
                                <p>
                                    There's some confusion about what "continuous integration" means (see <a href="http://martinfowler.com/articles/continuousIntegration.html">Martin Fowler on CI</a>) so for simplicities sake I'm just going to talk about "buildbots" that take your code, compile it (if necessary), run all the tests across multiple platforms, and provide some record of the results. (This choice of terms is <em>also</em> confusing because "buildbot" is a widely used Python software package for CI. Sigh.)
                                </p>
                                <div>
                                    <h1>
                                        <a name="why-use-buildbots" id="why-use-buildbots">why use buildbots?</a>
                                    </h1>
                                    <p>
                                        So, uhh, why use buildbots, anyway?
                                    </p>
                                    <ol>
                                        <li>They build your code and run your tests without your conscious involvement.
                                        </li>
                                    </ol>
                                    <p>
                                        Obvious, yes -- that is, after all, ostensibly <em>the point</em> of buildbots. But it has more benefits than you might immediately.
                                    </p>
                                    <p>
                                        For this to work, you must have a systematized and automated build process.
                                    </p>
                                    <p>
                                        You must also have some automated tests.
                                    </p>
                                    <p>
                                        And your your build process and tests are being run on a regular basis, whether or not any particular developer feels like it. And if the build or tests fail, then more likely than not, something changed to make them fail -- and now you'll know.
                                    </p>
                                    <p>
                                        These are all good and necessary things.
                                    </p>
                                    <ol>
                                        <li>They can build your code and run your tests in multiple environments.
                                        </li>
                                    </ol>
                                    <p>
                                        buildbots can build and run your project on whatever operating systems you or your colleagues can access, and report the results to you, with a minimum of setup.
                                    </p>
                                    <p>
                                        This is the main reason I use buildbots myself: to run tests on other versions of Python, and other operating systems. I'm a UNIX guy, and I develop on Linux; therefore my software usually works on Linux. My pure Python code generally works on Mac OS X, too, although I sometimes run into trouble with compiled code. But I don't <em>ever</em> run my software on Windows systems, because I don't have Windows handy; so my code often doesn't work on Windows. This is where a Windows buildbot comes in really handy, by catching the errors that I otherwise wouldn't even notice.
                                    </p>
                                    <p>
                                        There's a more subtle point here that many people miss, which is the ability of buildbots to test dependence on a specific full stack of hardware and software. Most developers work with at most one or two build environments, including compiler or interpreter versions, operating system patchlevels, etc. The more different versions you have being tested, the more you can detect sensitivities to specific operating system or compiler or language features; whether or not cross-compiler or cross-version compatibility important to you is a different question, of course, but it's nice to know.
                                    </p>
                                    <p>
                                        The most entertaining aspect of this is when buildbots detect when developers -- especially inexperienced ones -- introduce unintended or unauthorized new dependencies. "Hey, Joe, since when does our software depend on FizBuzz!?"
                                    </p>
                                    <p>
                                        These latter points feed particularly into #3 and #4:
                                    </p>
                                    <ol>
                                        <li>They provide a de facto set of docs on your build &amp; test environment.
                                        </li>
                                    </ol>
                                    <p>
                                        buildbots require explicit build instructions, so if you've got one running at least your project has some form of build documentation. Not a good one, maybe not an explicit one, but something.
                                    </p>
                                    <p>
                                        This is not a concern for most big open source projects, because they usually have fairly straightforward and well-documented build environments (although not all -- OLPC/Sugar was horrific!) Where I think this really helps is for small private projects and <em>especially</em> for for academic projects, where the level of software engineering expertise can be, ahem, poor. Having explicit build instructions that graduate student B can use to build &amp; run the code now that graduate student A has left the project is quite helpful.
                                    </p>
                                    <p>
                                        4. They are evidence that it is possible to build your code and run your tests on at least <em>some</em> platform.
                                    </p>
                                    <p>
                                        You might be surprised how much some projects really need this kind of evidence :). As with #3, small private projects and academic projects benefit the most from this.
                                    </p>
                                    <ol>
                                        <li>They can run all the tests, even the slow ones, regularly.
                                        </li>
                                    </ol>
                                    <p>
                                        This is the third reason that software professionals like continuous integration and buildbots: many tests (in particular, integration and acceptance tests) may take a loooong time to run, and developers may end up simply not running all of them. With buildbots, you can run them on a daily basis and detect problems, without distracting or defocusing your developers.
                                    </p>
                                </div>
                                <div>
                                    <h1>
                                        <a name="are-buildbots-overkill-for-your-project" id="are-buildbots-overkill-for-your-project">Are buildbots overkill for your project?</a>
                                    </h1>
                                    <p>
                                        buildbots require setup and maintenance effort, which (in our zero-sum world) takes that effort away from developing new features, exploratory testing, etc. When does the benefit outweigh the cost?
                                    </p>
                                    <p>
                                        Almost always, I believe.
                                    </p>
                                    <p>
                                        For small side projects that you may not be constantly focused on, having the tests alert you when something breaks is really helpful. But even if you're in a mature software engineering setting and you have a good build process, a good set of documentation on how to build your software, and a commitment to running the tests regularly, many of the advantages above still apply. In particular, #1 (building w/o conscious effort), #2 (building across multiple environments), and #5 (running all of the tests, especially the slow ones), are advantageous for all projects.
                                    </p>
                                    <p>
                                        I think buildbots aren't that useful for projects that are mostly UI (which is hard to develop automated tests for) or that are at a very early stage (where you're accumulating technical debt on a daily basis) or that depend on lots of specialized hardware. What else?
                                    </p>
                                </div>
                                <div>
                                    <h1>
                                        <a name="what-s-next" id="what-s-next">What's next?</a>
                                    </h1>
                                    <p>
                                        I personally think that the technology that's out there in the Python world isn't that simple and hackable, so that's what I'm working on. I'd also like to minimize configuration and maintenance. I have a simple implementation "thought project", pony-build, that I'm hoping will address these issues. The goal is to make buildbots "out of sight, out of mind."
                                    </p>
                                    <p>
                                        A secondary goal (one of many - watch this space) is to enable simple integration into a pipeline where patches can be tested, and/or automatically accepted or rejected, based on whether or not they pass tests on multiple platforms.
                                    </p>
                                    <p>
                                        --titus
                                    </p>
                                </div>
                            </div>
                        </blockquote>
                    </div>
                    <p class="bookmark-source">
                        Source: <a href="http://ivory.idyll.org/blog/dec-09/why-buildbots">http://ivory.idyll.org/blog/dec-09/why-buildbots</a>
                    </p>
                </div>
            </article>
            <nav id="post-nav"></nav><script id="discus-javascript">
    var disqus_shortname = 'improbable';

                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                    document.getElementsByTagName('body')[0].appendChild(dsq);
                })();
            </script><a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
            <div id="disqus_thread"></div>
        </section>
        <footer id="site-footer">
            <p>
                This site is purely my personal work and does not reflect the views of my employer.
            </p>
            <p class="license">
                <a class="icon" rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png"></a> This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.
            </p>
        </footer><script async="" defer src="/static/js/common.js">
</script><script id="google-analytics">
    var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-2097834-1']);
            _gaq.push(['_setDomainName', 'improbable.org']);
            _gaq.push(['_trackPageview']);

            (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();
        </script>
    </body>
</html>
