<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>
            Making &amp;lt;time&amp;gt; safe for historians
        </title>
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <link rel="stylesheet" href="/static/css/main.min.css" type="text/css" media="all"><!--[if lte IE 8]>
            <link rel="stylesheet" href="/static/css/ie-fixes.css" type="text/css" media="all">
            <script src="/static/js/html5shiv.js"></script>
        <![endif]-->
        <meta http-equiv="last-modified" content="Wed, 08 Apr 2009 10:26:09 GMT">
        <link rel="alternate" type="application/atom+xml" title="All Posts (Atom)" href="/feeds/all.atom">
        <link rel="alternate" type="application/rss+xml" title="All Posts (RSS)" href="/feeds/all.rss">
        <link rel="icon" type="image/jpeg" sizes="287x287" href="/static/img/favicon-287x287.jpg">
        <link rel="icon" type="image/jpeg" sizes="128x128" href="/static/img/favicon-128x128.jpg">
        <script type="application/javascript">
var _prum={id:"5166be01e6e53d1007000001"};var PRUM_EPISODES=PRUM_EPISODES||{};PRUM_EPISODES.q=[];PRUM_EPISODES.mark=function(b,a){PRUM_EPISODES.q.push(["mark",b,a||new Date().getTime()])};PRUM_EPISODES.measure=function(b,a,b){PRUM_EPISODES.q.push(["measure",b,a,b||new Date().getTime()])};PRUM_EPISODES.done=function(a){PRUM_EPISODES.q.push(["done",a])};PRUM_EPISODES.mark("firstbyte");(function(){var b=document.getElementsByTagName("script")[0];var a=document.createElement("script");a.type="text/javascript";a.async=true;a.charset="UTF-8";a.src="//rum-static.pingdom.net/prum.min.js";b.parentNode.insertBefore(a,b)})();
        </script>
    </head>
    <body class="blog post_detail" itemscope itemtype="http://schema.org/BlogPosting">
        <nav id="site-nav">
            <header id="about">
                <h1>
                    <a href="/about/">Chris Adams</a>
                </h1>
                <h2>
                    Programmer, cyclist, photographer
                </h2>
            </header>
            <ul class="links">
                <li>
                    <a href="/">Home</a>
                </li>
                <li>
                    <a href="/about/">About</a>
                </li>
                <li>
                    <a href="/feeds/all.atom" title="Site Feed">Site Feed</a>
                </li>
            </ul>
            <ul class="social-networks">
                <li>
                    <a href="https://github.com/acdha" rel="me">Github</a>
                </li>
                <li>
                    <a href="http://bitbucket.org/acdha" rel="me">Bitbucket</a>
                </li>
                <li>
                    <a href="http://delicious.com/acdha" rel="me">del.icio.us</a>
                </li>
                <li>
                    <a href="http://twitter.com/acdha" rel="me">Twitter</a>
                </li>
                <li>
                    <a href="https://plus.google.com/116562742092842686896?rel=author" rel="me">Google+</a>
                </li>
                <li>
                    <a href="http://www.flickr.com/photos/acdha" rel="me">Flickr</a>
                </li>
                <li>
                    <a href="http://www.linkedin.com/in/acdha" rel="me">LinkedIn</a>
                </li>
                <li>
                    <a href="http://connect.garmin.com/explore?owner=acdha" rel="me">Garmin Connect</a>
                </li>
            </ul>
            <div id="site-search"></div>
        </nav>
        <section id="main">
            <article class="post">
                <header>
                    <meta itemprop="dateCreated" content="2009-04-06T09:16:41-04:00">
                    <meta itemprop="dateModified" content="2009-04-06T09:16:41-04:00"><time class="date" itemprop="datePublished" datetime="2009-04-06T13:16:41+00:00">Apr 06</time>
                    <h2 itemprop="title">
                        Making &amp;lt;time&amp;gt; safe for historians
                    </h2>
                </header>
                <div class="body" itemprop="articleBody">
                    <div class="googlereader description" data-google-id="tag:google.com,2005:reader/item/fd783ff81691cac1">
                        <blockquote>
                            <p>
                                The <a href="http://dev.w3.org/html5/spec/Overview.html#the-time-element">HTML 5 spec</a> introduces the <code>&lt;time&gt;</code> element to mark up a date or time. Although I support the inclusion of these semantics in HTML, I believe that the current specification of the <code>&lt;time&gt;</code> element is vague because it avoids the question whether the element is safe for historians. Right now it hurts historical research more than it helps. In this entry I’ll explain why.
                            </p>
                            <p>
                                Although I will concentrate on the HTML5 syntax here, what I have to say also applies to the <a href="http://microformats.org/wiki/datetime-design-pattern">microformats datetime design pattern</a>. The Microformats site adds one important detail to the discussion that the HTML5 spec overlooks: the point of having a <code>&lt;time&gt;</code> element (or a datetime design pattern) at all:
                            </p>
                            <blockquote>
                                <p>
                                    Use the datetime-design-pattern to make datetimes that are human readable also formally machine readable.
                                </p>
                            </blockquote>
                            <p>
                                Who needs machine readable dates? As far as I can see there are two target audiences for this operation. The first is obviously social applications that have to work with dates, and where it can be useful to compare dates of two different events. An app must be able to see if two events fall on the same day and warn you if they do.
                            </p>
                            <p>
                                However, as a target audience social applications are immediately followed by historians (or historical, chronological applications). After all, historians are (dare I say it?) historically the most prolific users of dates, until they were upstaged by social applications.
                            </p>
                            <p>
                                This raises the question whether the <code>&lt;time&gt;</code> element should be tailored for historical use at all. When I started writing this entry I was convinced that it should.
                            </p>
                            <p>
                                In keeping with the definition of its purpose I the see the <code>&lt;time&gt;</code> element as a tool for an Internet-wide chronological search-and-compare system. Such a system will be a boon to historians, who would be allowed to quickly and easily look up events that happened around the same time as the event they’re writing about.
                            </p>
                            <p>
                                In history, just as in other academic disciplines, serendipitous discoveries are the meat of exciting new theories. A history-compliant use of the <code>&lt;time&gt;</code> element that allows automatic search and compare would broaden the horizons of historians.
                            </p>
                            <p>
                                However, now that I’ve reviewed some of the more common problems that have to be solved in order to decrease potential harm, I’m starting to doubt whether the <code>&lt;time&gt;</code> element can easily be made to fit history.
                            </p>
                            <p>
                                Right now, though, the specification is a vague compromise that doesn’t make the <code>&lt;time&gt;</code> element useful for historical research, but still allows it to be used historically.
                            </p>
                            <p>
                                I feel this ambiguity should be removed. I feel that the specification should clearly state whether the <code>&lt;time&gt;</code> element is meant for historical use or not. The current vague, implied “No” should be changed to a clear answer. I prefer Yes, but I can live with No.
                            </p>
                            <p>
                                If the <code>&lt;time&gt;</code> element <em>should</em> be made safe for historians, there’s quite a bit of work to be done; some of which is discussed in this article. If it should <em>not</em> be made history-safe, we have to add a cut-off date to the specification. Dates before this cut-off date would be ignored.
                            </p>
                            <h3>
                                A cut-off date
                            </h3>
                            <p>
                                The basic problem (that we’ll discuss in great detail below) is that the current specification requires the use of the so-called proleptic Gregorian calendar. Although that makes perfect sense in the modern age, it becomes progressively more pointless as we travel back in time, and somewhere in the late 16th century we reach the point that proleptic Gregorian dates become actively harmful to historical research.
                            </p>
                            <p>
                                The basic problem is that historians of the Middle Ages and earlier periods use Julian dates because that’s what the documents of that era use. If we’d map them to proleptic Gregorian dates, as the specification demands, they would be worse than useless in any kind of automatic search-and-compare system.
                            </p>
                            <p>
                                Hundreds of years’ worth of historical literature uses Julian dates if the people from the era it discusses did so, and therefore a system that uses proleptic Gregorian dates just doesn’t find any matches.
                            </p>
                            <p>
                                The current specification acknowledges this problem — somewhat. It says:
                            </p>
                            <blockquote>
                                <p>
                                    For dates before the introduction of the Gregorian calendar, authors are encouraged to not use the time element, or else to be very careful about converting dates and times from the period to the Gregorian calendar
                                </p>
                            </blockquote>
                            <p>
                                A literal interpretation would have odd consequences. If I’d write about the secret negotiations between Louis XIV and Charles II to destroy the Dutch Republic in the early 1670s, I would be allowed to mark up the dates of Louis XIV’s letters, but not those of Charles II’s ones. France used the Gregorian calendar back then, but England stuck to the Julian. Such a rule is useless for historians. Besides, it’s just plain weird.
                            </p>
                            <p>
                                As to marking up Charles II’s letters with Gregorian dates, that’s possible, but it could lead to the same problems we discussed above: the generally accepted date for a letter might be Julian, in which case an automated search for the Gregorian date misfires dramatically.
                            </p>
                            <p>
                                So I believe this remark is incorrect and should be changed. The specification should clearly and unambiguously state whether or not the <code>&lt;time&gt;</code> element is fit for historical use instead of trying to find a vague formula that avoids this basic question. (I don’t even understand why this question <em>should</em> be avoided. It’s a simple one, though the consequences of a Yes are pretty complicated.)
                            </p>
                            <p>
                                If the answer is No the specification should define a cut-off date that is the earliest date the <code>&lt;time&gt;</code> element (or automatic search systems based on it) accepts as valid. Earlier dates are simply ignored by a compliant implementation. That neatly avoids the bulk of the problems mentioned in this article, and makes sure that any historical use that falls within the constraints of the specification is actually useful.
                            </p>
                            <p>
                                Therefore, if historical use of the <code>&lt;time&gt;</code> element is to be disallowed, we MUST (in the sense of <a href="http://www.ietf.org/rfc/rfc2119.txt">RFC 2119</a>) define a cut-off date.
                            </p>
                            <h4>
                                Candidates
                            </h4>
                            <p>
                                The most obvious candidate for a cut-off date is 1 January 1970, the start of Unix Epoch time. There’s one problem, though: if we’d cut off the <code>&lt;time&gt;</code> element there, many people alive today wouldn’t be able to mark up their birth dates.
                            </p>
                            <p>
                                Therefore I’d like to propose 1 January 1870 instead. Its relation to the start of the Unix Epoch is clear and it allows everybody alive today to mark up their dates of birth.
                            </p>
                            <p>
                                Besides, there’s some vaguish historical justification for this date. Around 1870 the final phase of European colonial imperialism started, which caused almost the entire world to be divided among the colonial powers. Not coincidentally, this also caused the Gregorian calendar to spread to even the most obscure corners of the world, and it became a true world standard.
                            </p>
                            <p>
                                The only problem with that cut-off date would be that Russia still used the Julian calendar in 1870 and continued to do so until 1918. Moving the cut-off date to 1918 is possible, but it would mean a few of the very oldest people in the world would not be able to mark up their birth dates.
                            </p>
                            <h4>
                                You may stop reading now
                            </h4>
                            <p>
                                If you’re convinced that the current specification of the <code>&lt;time&gt;</code> element should <em>not</em> be changed to accomodate historians, you can stop reading here. The historical overview that follows is not important to you.
                            </p>
                            <p>
                                You should just:
                            </p>
                            <ol>
                                <li>make sure the specification clearly states that the <code>&lt;time&gt;</code> element is <em>not</em> meant for historical use.
                                </li>
                                <li>take a decision on the cut-off date.
                                </li>
                            </ol>
                            <p>
                                Thank you for your attention.
                            </p>
                            <h3>
                                What historians need
                            </h3>
                            <p>
                                If you’re still with me, you’re obviously interested in chronological problems. You’ll get what you want — in spades.
                            </p>
                            <p>
                                If the HTML5 <code>&lt;time&gt;</code> element is to be made safe for historical use, the specification MUST (again in the sense of RFC 2119) allow
                            </p>
                            <ol>
                                <li>BC dates (negative dates, in other words) to be specified
                                </li>
                                <li>incomplete dates to be specified
                                </li>
                                <li>calendars other than (proleptic) Gregorian to be specified
                                </li>
                                <li>arbitrary year-naming systems to be specified
                                </li>
                            </ol>
                            <p>
                                Furthermore:
                            </p>
                            <ol>
                                <li>The specification SHOULD allow the use of unambiguous dates that are not in the approved <code>datetime</code> format; most importantly Easter.
                                </li>
                                <li>The specification MUST NOT allow arithmetic operations on years before 300 BC.
                                </li>
                            </ol>
                            <p>
                                Of these six rules, I believe that the first five are universal. Although I will defend them by studying European history exclusively, I think that most other chronologies will be served by them, too. The sixth rule is specific to European history; other civilisations will have other cut-off dates for arithmetic operations.
                            </p>
                            <p>
                                In order to understand all this we have to review the history of dates. There are two separate problems we have to discuss: the calendar (i.e. the days and months of the year), and the names of the years. The specification treats the first point vaguely, and ignores the second.
                            </p>
                            <h3>
                                The Julian and Gregorian reforms
                            </h3>
                            <p>
                                The solar year is about 365.2422 days long, which means it cannot be expressed in an integer number of days. As history progressed, calendars became better at dealing with this problem. For the purpose of our discussion, the Julian and Gregorian reforms are the most important.
                            </p>
                            <ol>
                                <li>The ancient Roman year was a mess. It consisted of 12 months that spanned 355 days; about 10 days too few. The ancient Romans saw that their year was too short, and solved it by adding a so-called intercalary month, which was alternately 22 and 23 days long, to every second year. In theory this led to an average year of 366.25 days; about one day too long.<br>
                                    Unfortunately the decision whether to insert an intercalary month, and how long it was, was up to the Pontifex Maximus, the high priest of the state religion. Some pontifices (among which Caesar himself) didn’t bother too much with this part of their duties.
                                </li>
                                <li>In 46 BC Julius Caesar, meanwhile having become dictator for life, introduced the Julian calendar. The months of the year got their modern number of days, and he also introduced the leap year every four years. Thus, the average length of the calendar year became 365.25 days.
                                </li>
                                <li>In 1582 Pope Gregory XIII updated the calendar because the Julian calendar’s average year was slightly too long. Therefore Gregory decreed that any year divisible by 100 would <em>only</em> become a leap year when it was also divisible by 400. This results in an average year of 365.2425 days.
                                </li>
                            </ol>
                            <p>
                                Unfortunately, in 1582 the wars of religion raged in Europe, and the Protestants were not really eager to follow the directions of the Antichrist in Rome, especially if he happened to be right. The Orthodox also had pressing (and much older) reasons to demonstratively ignore the papacy.
                            </p>
                            <p>
                                Therefore all Catholic countries switched to the new calendar within years, but the Protestant and Orthodox countries refused to follow.
                            </p>
                            <p>
                                Most Protestant countries went over in 1700, when the wars of religion had become a vague memory and the actual difference between the two calendars acute. After all, 1700 was the first year that was a leap year in the Julian calendar but not in the Gregorian one.
                            </p>
                            <p>
                                Nonetheless, England and Russia continued to use the Julian calendar until 1752 and 1918, respectively. <span>(In fact, one Scottish island stubbornly refused to implement the Gregorian calendar until ten years ago or so. The sheep might get confused.)</span>
                            </p>
                            <p>
                                To this day, most Orthodox use the Julian calendar (even though the Orthodox states use the Gregorian one, and some Orthodox churches use the so-called Revised Julian calendar). That’s why the Orthodox celebrate Christmas (and sometimes Easter) on different days than the Catholics and Protestants.
                            </p>
                            <h4>
                                Proleptic Gregorian calendar
                            </h4>
                            <p>
                                Currently the specification decrees the use of so-called proleptic Gregorian dates; that is, the date a day would have had if the Gregorian calendar had already been in use back then.
                            </p>
                            <p>
                                Although this makes sense in the recent past, we’ll see that this decree becomes more harmful the more we go back into history. Although (proleptic) Gregorian makes perfect sense as a default, it MUST be possible to define another calendar.
                            </p>
                            <h4>
                                The onus
                            </h4>
                            <p>
                                Besides, there’s the matter of onus. Who, exactly, is responsible for mapping a Julian date to a proleptic Gregorian one? The HTML author or some kind of universal date-calculating system?
                            </p>
                            <p>
                                In other words, if I, as an historian, talk about 18th century Julian dates, do I have to map them to the Gregorian calendar myself (possibly by means of software I have to buy and install), or can I just trust an Internet-wide system to do so? Obviously I prefer the second solution because it’s less work for me and will probably introduce less errors.
                            </p>
                            <h3>
                                The Russian Revolution
                            </h3>
                            <p>
                                Let’s take a look at a practical example.
                            </p>
                            <p>
                                On 24 January 1918 Lenin signed a decree that moved the brand-new Soviet Union from the Julian to the Gregorian calendar. In order to bridge the 14-day gap between Julian and Gregorian, 1-13 February 1918 were omitted, so that 31 January was directly followed by 14 February.
                            </p>
                            <p>
                                Now how are we going to mark up this paragraph? Let’s try the proleptic Gregorian calendar:
                            </p>
                            <pre>
&lt;p&gt;On &lt;time datetime="1918-02-06"&gt;24 January 1918&lt;/time&gt; Lenin
signed a decree that moved the brand-new Soviet Union from
the Julian to the Gregorian calendar. In order to bridge the
14-day gap between Julian and Gregorian,
1-13 February 1918 were omitted, so that
&lt;time datetime="1918-02-13"&gt;31 January&lt;/time&gt; was directly followed
by &lt;time datetime="1918-02-14"&gt;14 February&lt;/time&gt;.&lt;/p&gt;
</pre>
                            <p>
                                This remapping might be confusing for human and machine, but using Gregorian dates still makes sense, especially since the text is about Russia introducing the Gregorian calendar.
                            </p>
                            <p>
                                However, the <code>1-13 February 1918</code> bit is a problem. They’re dates, but they have never existed. I think it’s best not to mark them up at all.
                            </p>
                            <p>
                                Slightly more confusing is the following:
                            </p>
                            <p>
                                After the October revolution (25 October 1917) Russia became a communist state.
                            </p>
                            <p>
                                This date is Julian; we’ll have to map it to Gregorian, but the consequence is that the October revolution takes place in November. Fortunately we’re used to this fact; most history books mention this oddity.
                            </p>
                            <h3>
                                Medieval dates
                            </h3>
                            <p>
                                The use of Julian <code>datetime</code> values becomes mandatory as we enter the Middle Ages. So let’s jump eight hundred years more into the past.
                            </p>
                            <p>
                                Jerusalem was conquered by the crusaders on 15 July 1099, and a great slaughter was perpetrated among its inhabitants of all races and creeds.
                            </p>
                            <p>
                                According to the specification we’d either have to use proleptic Gregorian dates or not use a <code>datetime</code> attribute at all. Since I feel the second option invalidates the entire <code>&lt;time&gt;</code> element, I’m forced to choose the first one:
                            </p>
                            <pre>
&lt;p&gt;Jerusalem was conquered by the crusaders on
&lt;time datetime="1099-07-09"&gt;15 July 1099&lt;/time&gt;,
and a great slaughter was perpetrated among its
inhabitants of all races and creeds.&lt;/p&gt;
</pre>
                            <p>
                                The problem is that the proleptic Gregorian 9 July is worthless. Every history book uses 15 July as the date of Jerusalem’s conquest, so an online search by a program that parses <code>datetime</code> values would misfire dramatically.
                            </p>
                            <p>
                                More in general, medieval historians use whichever date system the people from that age actually used, and therefore all dates in all books about medieval history are Julian, and not proleptic Gregorian.
                            </p>
                            <p>
                                Because medieval historians use Julian dates, mapping medieval dates to proleptic Gregorian is going to cause widespread confusion. The machine-readable dates will match those used in history books and source collections. Thus, the misuse of the proleptic Gregorian calendar will actively hamper historical research instead of aiding it.
                            </p>
                            <p>
                                In the case of medieval (and earlier) history we MUST use Julian <code>datetime</code> values. We do have to specify that fact, of course, which means we need an extra attribute, which I’ve dubbed <code>calendar</code> for the moment:
                            </p>
                            <pre>
&lt;p&gt;Jerusalem was conquered by the crusaders on
&lt;time datetime="1099-07-15" calendar="Julian"&gt;15 July 1099&lt;/time&gt;,
and a great slaughter was perpetrated among its
inhabitants of all races and creeds.&lt;/p&gt;
</pre>
                            <h3>
                                Easter
                            </h3>
                            <p>
                                <a href="http://en.wikipedia.org/wiki/Easter">Easter</a> is an important date; in fact during most of church history it was the most important holiday of the year. It’s not a fixed feast; it is celebrated on the first Sunday after the full moon after the first new moon that falls on or after the March equinox. (The actual calculation is somewhat more complicated, but this definition will do for now.)
                            </p>
                            <p>
                                Thus, the definition of Easter depends on the definition of the March equinox. In the Gregorian calendar it’s 21 March, and in the Julian calendar it’s also 21 March, but of course the two 21 Marches are several days apart, and if a new moon occurs in the gap between them, the Julian and Gregorian Easter dates will not match even after the Julian one is mapped to Gregorian. (This rule still holds for the Orthodox church.)
                            </p>
                            <p>
                                Because it was so hard to calculate this most important date of the year, considerable ingenuity was applied to the job throughout late antiquity and the middle ages. In fact, the very survival of chronological knowledge in the dark ages can be ascribed to the need to calculate Easter.
                            </p>
                            <p>
                                Every church had its paschal tables, which showed the dates for Easter (as well as chronologically related feasts such as Good Friday and Pentecost). When individual priests or monks started adding extra notes about important events to these tables, chronicles were born.
                            </p>
                            <p>
                                Concern over the slowly shifting date of Easter was what prompted Gregory XIII to institute his calendar reforms. He wanted to make sure the modern Church celebrated Easter on the dates prescribed by the Council of Nicaea in 325.
                            </p>
                            <h4>
                                Easter is an exact date
                            </h4>
                            <p>
                                Let’s jump four more centuries back and take a look at a practical example.
                            </p>
                            <p>
                                On Easter 675, a land dispute between Praejectus, bishop of Clermont, and Hector, count of Marseille, was heard before the royal court.
                            </p>
                            <p>
                                In order to properly mark up <code>Easter 675</code> we have to first calculate <em>Julian</em> Easter 675 and then map this date to the proleptic Gregorian one. A new moon may have occurred between Julian and Gregorian 21 March 675, after all.
                            </p>
                            <p>
                                This calculation is not impossible, but the question is on whom the onus should rest. The author, or some kind of centralised date system? (I, in any case, have not attempted to calculate the precise date.)
                            </p>
                            <p>
                                I feel the onus should be removed from the historian who wants to write about poor Praejectus and his murder and is not interested in HTML5 chronology.
                            </p>
                            <p>
                                Besides, “Easter 675” is an exact date: both modern historians and people who actually lived in 675 will reach the same result when they calculate it.
                            </p>
                            <p>
                                The problem is that it’s so very hard calculate, especially when you insist on the proleptic Gregorian date. And once you’ve found the correct result, it turns out nobody is interested. So let’s save ourselves a tough job and just do this:
                            </p>
                            <pre>
&lt;p&gt;On &lt;time datetime="0675-Easter" calendar="Julian"&gt;Easter 675&lt;/time&gt;,
a land dispute between Praejectus, bishop of Clermont, and Hector,
count of Marseille, was heard before the royal court.&lt;/p&gt;
</pre>
                            <h3>
                                Incomplete dates
                            </h3>
                            <p>
                                This is how early medieval chronological reconstructions work:
                            </p>
                            <p>
                                The murder of bishop Praejectus probably took place on 26 January 676. We know for a fact he was still alive on Easter 675, and his successor as bishop of Clermont is said to have ruled “for fifteen years and a bit,” and to have died in the reign of king Theodoric III.<br>
                                <br>
                                Since Theodoric III died in April 691, Praejectus’ successor became bishop in early 676 at the latest. Besides, St. Praejectus’ feast is celebrated on 26 January; and it is not unreasonable to assume it took place on the anniversary of his murder.
                            </p>
                            <p>
                                Early medieval historians are quite happy when they can pin such an exact date on an event; and never mind that the date is Julian.
                            </p>
                            <p>
                                Now how are we going to mark up all this? There are several problems here:
                            </p>
                            <ol>
                                <li>26 January 676 for the murder is a conjectural date (and Julian besides).
                                </li>
                                <li>The exact date of death of king Theodoric III is unknown, but we know it took place in April 691.
                                </li>
                                <li>Praejectus’s feast was celebrated every year on 26 January Julian, but after the switch to the Gregorian calendar it was celebrated on 26 January Gregorian.
                                </li>
                            </ol>
                            <p>
                                The first date should be marked up fully. After all it refers to an exact, specific date. The third date would probably have to be marked up by a <code>&lt;time&gt;</code> element without a <code>datetime</code> attribute.
                            </p>
                            <p>
                                As to the second date, we MUST use <code>&lt;time datetime="0691-04" calendar="Julian"&gt;</code>, and never mind that that date is incomplete.
                            </p>
                            <p>
                                The fact that we know the month of Theodoric III’s death makes this date more precise than most dates from that era. Any machine-generated historical timeline tool MUST mention “April 691” as the date of Theodoric’s death, because the fact might be important to chronological research such as determining when Praejectus was martyred.
                            </p>
                            <h3>
                                The Roman calendar
                            </h3>
                            <p>
                                Let’s go another eight hundred years back and land just in time to see Hannibal victorious against the Romans at Cannae. This historical battle, sources assure us, took place on 2 August 216 BC. We don’t have a prayer of re-mapping this date to a proleptic Gregorian or a Julian one.
                            </p>
                            <p>
                                The ancient Roman year had 355 days, and in theory every second year ought to have a so-called intercalary month of 22 or 23 days. The problem was that these months were inserted irregularly, and no chronologist ancient or modern has ever taken the trouble to track down the exact use of the intercalary month. (Besides, the sources are just not there.)
                            </p>
                            <p>
                                This means that we will never know exactly on which proleptic Gregorian date the battle of Cannae took place. The best we can say is that it took place in high summer; probably in July or August.
                            </p>
                            <p>
                                However, if a source would say that a certain event happened on 5 August 216 BC, we <em>can</em> be certain that it took place three days after the battle of Cannae. The Romans saw the use of a reliable chronology and were generally accurate within the constraints of their weird calendar.
                            </p>
                            <p>
                                Thus, the date of the battle of Cannae should be marked up as:
                            </p>
                            <pre>
&lt;time datetime="-216-08-02"
        calendar="Ancient Roman"&gt;2 August 216 BC&lt;/time&gt;
</pre>
                            <p>
                                With this final example we’ve discussed the need for a <code>calendar</code> attribute sufficiently.
                            </p>
                            <p>
                                Apart from the <code>calendar</code> attribute, this code example contains something else an HTML5 validator would get extremely upset about: the negative year.
                            </p>
                            <p>
                                The restriction that BC years may not be used is of course totally absurd in a historical context.
                            </p>
                            <h3>
                                The names of the years
                            </h3>
                            <p>
                                That brings us to the second problem: the names of the years, and especially the use of different naming systems.
                            </p>
                            <p>
                                If you’re into ancient chronology, it’s best to see years as having <em>names</em>, not numbers. Essentially our modern numbering of years from the Incarnation provides a common <em>naming</em> system; not a numbering system.
                            </p>
                            <p>
                                In JavaScript terms, the name of the current year is the string <code>"2009"</code> and not the number <code>2009</code>.
                            </p>
                            <h4>
                                Regnal years
                            </h4>
                            <p>
                                Until the waning of the middle ages, all monarchies used naming systems based on the regnal year of the king or emperor. Although we talk about 12 August 1274, a contemporary document would not use the name “1274,” but would instead say “the second year of king Edward” for the English, or “the fourth year of king Philip” for the French.
                            </p>
                            <p>
                                (Of course historians first have to figure out these documents refer to Edward I and Philip III, and not, for instance, Edward III and Philip VI. Medieval chronology is <em>such</em> fun.)
                            </p>
                            <h4>
                                Christian years
                            </h4>
                            <p>
                                In addition to this traditional naming system, that has been in use since the dawn of history, the Middle Ages used the naming system of years since the Incarnation that the devoutly Christian historians of the age considered the defining moment of human history.
                            </p>
                            <p>
                                The Book of Revelations clearly states that the Antichrist would be locked up for a thousand years before being allowed to briefly rule the Earth. The use of the Christian era naming system allowed everybody to get duly upset around the year 1000, and widespread confusion was sowed.
                            </p>
                            <p>
                                The Christian naming system was invented by <a href="http://en.wikipedia.org/wiki/Dionysius_Exiguus">Dionysius Exiguus</a>, a monk living in Rome. Exactly why he thought that the year that he published his system was the 525th since Christ’s birth is not known, but his counting has been used ever since.
                            </p>
                            <div>
                                <p style="border:none">
                                    It is commonly said that Dionysius made a four-year mistake and that Christ was born in 4 BC. Matthew tells how Herod the Great tried to murder baby Jesus in the slaughter of the innocents, and Herod died in 4 BC. Thus, Christ must have been born in that year at the latest.
                                </p>
                                <p style="border:none;padding:0">
                                    Matthew’s story is probably pious nonsense. He’s the least reliable evangelist historically speaking, writing 150 years after the events, and the others gospels do not mention the killing of the innocents. Therefore it’s very well possible that Dionysius was right after all.
                                </p>
                                <p style="border:none;padding:0">
                                    Nonetheless, Christ is usually dated as having lived from 4 BC to 30 AD, for a total of thirty three years.
                                </p>
                            </div>
                            <h3>
                                Consular years
                            </h3>
                            <p>
                                Before Dionysius introduced his reform, people used the old Roman system, in which every year was named after its two consuls.
                            </p>
                            <p>
                                After the Romans had discarded their monarchy in 509 BC they were forced to stop using regnal years. They needed a new naming system, and they decided to allow their two chief magistrates, the consuls, to give their names to the year.
                            </p>
                            <p>
                                Thus, “in the consulate of <abbr title="Gnaeus">Cn.</abbr> Pompeius Magnus and <abbr title="Marcus">M.</abbr> Licinius Crassus Dives” is a historically valid alternative to “70 BC.” In fact, BC or AD years may be considered a convenient shorthand for the “semantically” more correct consular years.
                            </p>
                            <p>
                                Although the consuls lost all political power after Augustus founded the Empire in 27 BC, the title was still given out to aristocrats who’d deserved a plum, as wel as to the Emperor himself, until the office was abolished in 541 AD. The consuls continued to give their names to the year. (In return they were graciously allowed to squander their fortunes on organising circus games.)
                            </p>
                            <p>
                                Modern historians have mapped consular years to Christian ones, and have established <a href="http://imperiumromanum.com/geschichte/zeittafeln/konsularlisten_01.htm">lookup tables</a>. The ancient historian Dionysius of Halicarnassus has carefully mapped Greek history to Roman consular years. (He may have made mistakes, but if he did we’re not in a position to find out. We <em>must</em> accept his chronology.)
                            </p>
                            <p>
                                Thus the Roman consular years give us a common naming system (a namespace, if you wish) for 1049 years of Greek, Roman, and early Medieval history. This naming system can be combined with the Christian one to give us a more-or-less reliable chronology going back about 2,500 years.
                            </p>
                            <p>
                                The last eight hundred or so of the Roman consular years are universally accepted as historically reliable. In the more uncertain first two hundred years, even the most radical reviser proposes a shift of eight years at most, so across the centuries this naming system remained pretty reliable.
                            </p>
                            <h4>
                                300 BC: the first certain year
                            </h4>
                            <p>
                                300 BC is the earliest year that we can map with complete accuracy; i.e. we can say with certainty that the consulate of <abbr title="Marcus">M.</abbr> Valerius Maximus Corvus for the fifth time and <abbr title="Quintus">Q.</abbr> Appuleius Pansa occurred exactly 2308 years before the present time.
                            </p>
                            <p>
                                For this reason among others, breaking off chronology at 1 AD, as HTML5 proposes, is pure nonsense. We’d miss out on another three hundred years of perfectly good, historically and arithmetically valid chronology.
                            </p>
                            <h4>
                                The year 0 and the start of leap years
                            </h4>
                            <p>
                                The year 0 does not exist. The consulate of Cossus Cornelius Lentulus and <abbr title="Lucius">L.</abbr> Calpurnius Piso, which we call “1 BC, ” was directly followed by the consulate of <abbr title="Gaius">C.</abbr> Caesar and <abbr title="Lucius">L.</abbr> Aemilius Paullus, which we call “1 AD.”
                            </p>
                            <p>
                                Emperor Augustus ruled from 27 BC to 14 AD, and that’s a reign of 40 years, not 41.
                            </p>
                            <p>
                                While we’re on the subject of Augustus, he was also responsible for finally setting down a regular pattern of one leap year per four years. The first leap year in the new system was the consulate of <abbr title="Sextus">S.</abbr> Aelius Catus and <abbr title="Gaius">C.</abbr> Sentius Saturninus, and because we happen to call that year “4 AD” we’ve grown used to thinking that a leap year must necessarily be divisible by four.
                            </p>
                            <h3>
                                Varronian years
                            </h3>
                            <p>
                                The Roman consular lists, the <em>fasti consulares</em>, have been preserved in several versions. The standard version is the one created during Augustus’ rule by the historian <abbr title="Marcus">M.</abbr> Terentius Varro and set up on the Forum Romanum to serve as a public calendar. It was dutifully updated every year.
                            </p>
                            <p>
                                Because these fasti were moved to the Capitol after being excavated in the 16th century, they’re known as the Capitoline Fasti.
                            </p>
                            <p>
                                Historians are pretty certain that some errors have crept into the Capitoline Fasti. The first problematic year is 301 BC, when the Capitoline Fasti say a dictator was appointed instead of consuls. Although this was allowed under the Roman constitution, dictatorships are quite rare, and this particular one is not mentioned in any other source. Therefore, modern historians have concluded, this dictatorship never actually took place.
                            </p>
                            <p>
                                Thus the consulate of <abbr title="Marcus">M.</abbr> Livius Denter and <abbr title="Marcus">M.</abbr> Aemilius Paullus, which we call “302 BC,” was directly followed by the consulate of <abbr title="Marcus">M.</abbr> Valerius Maximus Corvus for the fifth time and <abbr title="Quintus">Q.</abbr> Appuleius Pansa, which we call “300 BC.”
                            </p>
                            <p>
                                There are several such problematic years in the Capitoline Fasti before 300 BC. Unfortunately historians disagree on some of these cases, and therefore they’ve decided to follow Varro’s system anyway, warts and all. Years from 509 to 301 BC are called “Varronian years,” and about three to eight of them have never existed.
                            </p>
                            <p>
                                Therefore Christian years before 300 BC are <em>names</em>, and not numbers, and MUST NOT be used for arithmetic operations.
                            </p>
                            <p>
                                Varronian years are still being used in history books. If we say that “the Greeks defeated the Persian navy in 480 BC at Salamis, and the Persian army in 479 BC at Plataea” we’re using Varronian years.
                            </p>
                            <p>
                                Historians are pretty certain that these dates are in fact three to eight years off, and that we cannot say that the battle of Salamis took place exactly 2488 before the present year. It’s more in the order of somewhere between 2480 and 2485 — probably.
                            </p>
                            <p>
                                Nonetheless, it does not make sense to say the battle of Salamis occurred anywhere from 477 to 472 BC. All history books say “480 BC,” and people (as well as chronological search systems) would get confused if we did anything else. We MUST continue to use the Varronian year.
                            </p>
                            <p>
                                So the example has to be marked up as:
                            </p>
                            <pre>
The Greeks defeated the Persian navy in
&lt;time datetime="-480" yearNames="Varronian"&gt;480 BC&lt;/time&gt;,
and the Persian army in
&lt;time datetime="-479" yearNames="Varronian"&gt;479 BC&lt;/time&gt;
</pre>
                            <h3>
                                Before 509 BC
                            </h3>
                            <p>
                                More-or-less reliable chronology starts with the consulate of <abbr title="Lucius">L.</abbr> Iunius Brutus and <abbr title="Lucius">L.</abbr> Tarquinius Collatinus, Varronian year “509 BC.” All dates before 509 BC are educated guesswork at best. As we go further back in time the guesswork increases at the expense of the education.
                            </p>
                            <p>
                                Sure, you’ll often encounter earlier dates, but these have been painstakingly reconstructed by both ancient and modern historians, and there’s simply no way we can tell whether they’re right or wrong.
                            </p>
                            <p>
                                That’s the historians’ problem. Nonetheless, a history-compatible implementation of <code>&lt;time&gt;</code> MUST allow an arbitrary year-naming system to be specified. (The actual mapping of such a system to the consular/Christian system is a problem for historians; not for spec writers. If an historian would use his own system, he’d be responsible for creating lookup tables.)
                            </p>
                            <p>
                                An example will show why this is necessary.
                            </p>
                            <h4>
                                The so-called “First Dark Ages”
                            </h4>
                            <p>
                                It is my personal belief that the so-called “First Dark Ages,” traditionally dated from 1200 to 800 BC, have never existed; i.e. 1200 BC was the same year as 800 BC (roughly speaking, of course).
                            </p>
                            <p>
                                I also feel that earlier chronology is a mess wrongly based on the so-called Thirty Dynasties of Egypt scheme of the historian Manetho, whose work is almost completely lost, and who wrote in a time when Alexander the Great’s rapacious successors were trying to outdo each other in bragging about the venerable antiquity of the people they were exploiting. Egyptian and Mesopotamian chronology thus became a tool in a propaganda war, and it has never recovered.
                            </p>
                            <p>
                                As a result, I think that the Egyptian and Mesopotamian monarchies developed a few centuries later than is generally assumed.
                            </p>
                            <p>
                                I also think that Egyptian chronology has serious defects and should be re-thought from the ground up. (Especially the fact that the XXII dynasty was a priestly one concurrent with the last native dynasty, the Persians, and the Ptolemies ought to be recognised.)
                            </p>
                            <p>
                                Since all other ancient chronologies are based on the Egyptian one, this would have far-reaching consequences.
                            </p>
                            <p>
                                This opinion is not popular in historical circles; in fact most professional historians of the age will hotly defend the First Dark Ages and their painstakingly created chronologies. That’s fine; since I’m the challenger I have to prove my challenge by doing some research.
                            </p>
                            <p>
                                The point is that in order to mark up my research in HTML I’d have to create my own year-naming system, while also using the year-naming systems that are currently in use among historians. To make matters more complex, most Ancient Near East chronologies have a high, a middle, and a low variant (all of which are wrong, in my opinion).
                            </p>
                            <p>
                                In other words, I have to be very careful to specify which year-naming system a particular <code>&lt;time&gt;</code> element belongs to. I also have to be able to denote years belonging to my own chronological theory. Thus, I MUST be able to invent a value for the attribute I’ve called <code>yearNames</code>.
                            </p>
                            <p>
                                (Incidentally, this research would greatly benefit from a centralised chronological system I could plug in to to automatically convert dates from other systems to my proposed system. I’d have to create lookup tables (or maybe even arithmetic operations), but once I’d have done that, I’d be able to move the onus of recalculating centuries of history to an automatic system. Now THAT would be a benefit of a history-safe <code>&lt;time&gt;</code> element!)
                            </p>
                            <h3>
                                Making <code>&lt;time&gt;</code> safe for historians
                            </h3>
                            <p>
                                This short treatment of ancient chronology highlights only a few of the most important problems, and it doesn’t even try to cover non-European civilisations. More study is clearly necessary.
                            </p>
                            <p>
                                In conclusion, making <code>&lt;time&gt;</code> safe for historians is not an easy job, and, as I said at the start, the question is whether it should be attempted at all. I hope to have given you some useful information that will allow you to take a position on this question.
                            </p>
                            <h3>
                                Bibliography
                            </h3>
                            <ul>
                                <li>The Wikipedia entries on the <a href="http://en.wikipedia.org/wiki/Roman_calendar">Roman calendar</a>, the <a href="http://en.wikipedia.org/wiki/Julian_calendar">Julian calendar</a>, the <a href="http://en.wikipedia.org/wiki/Gregorian_calendar">Gregorian calendar</a>, and <a href="http://en.wikipedia.org/wiki/Easter">Easter</a> were especially helpful.
                                </li>
                                <li>St. Praejectus is taken from Paul Fouracre and Richard Gerberding, <cite>Late Merovingian France; History and hagiography 640-720</cite>, Manchester University Press, 1996.
                                </li>
                                <li>For consular names of the year I heavily rely on T. J. Cornell, <cite>The Beginnings of Rome</cite>, Routledge, 1995, especially the Appendix.
                                </li>
                            </ul>
                        </blockquote>
                    </div>
                    <p class="bookmark-source">
                        Source: <a href="http://www.quirksmode.org/blog/archives/2009/04/making_time_saf.html">http://www.quirksmode.org/blog/archives/2009/04/making_time_saf.html</a>
                    </p>
                </div>
            </article>
            <nav id="post-nav"></nav><script id="discus-javascript">
    var disqus_shortname = 'improbable';

                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                    document.getElementsByTagName('body')[0].appendChild(dsq);
                })();
            </script><a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
            <div id="disqus_thread"></div>
        </section>
        <footer id="site-footer" class="nocontent">
            <p>
                This site is purely my personal work and does not reflect the views of my employer.
            </p>
            <p class="license">
                <a class="icon" rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png"></a> This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.
            </p>
        </footer><script async="" defer src="/static/js/common.js">
</script><script id="google-analytics">
    var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-2097834-1']);
            _gaq.push(['_setDomainName', 'improbable.org']);
            _gaq.push(['_trackPageview']);

            (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();
        </script>
    </body>
</html>
