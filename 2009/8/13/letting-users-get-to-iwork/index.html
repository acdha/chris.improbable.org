<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>
            Letting users get to (i)Work
        </title>
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <link rel="stylesheet" href="/static/css/main.min.css" type="text/css" media="all"><!--[if lte IE 8]>
            <link rel="stylesheet" href="/static/css/ie-fixes.css" type="text/css" media="all">
            <script src="/static/js/html5shiv.js"></script>
        <![endif]-->
        <meta http-equiv="last-modified" content="Thu, 13 Aug 2009 14:15:51 GMT">
        <link rel="alternate" type="application/atom+xml" title="All Posts (Atom)" href="/feeds/all.atom">
        <link rel="alternate" type="application/rss+xml" title="All Posts (RSS)" href="/feeds/all.rss">
        <link rel="icon" type="image/jpeg" sizes="287x287" href="/static/img/favicon-287x287.jpg">
        <link rel="icon" type="image/jpeg" sizes="128x128" href="/static/img/favicon-128x128.jpg">
        <script type="application/javascript">
var _prum={id:"5166be01e6e53d1007000001"};var PRUM_EPISODES=PRUM_EPISODES||{};PRUM_EPISODES.q=[];PRUM_EPISODES.mark=function(b,a){PRUM_EPISODES.q.push(["mark",b,a||new Date().getTime()])};PRUM_EPISODES.measure=function(b,a,b){PRUM_EPISODES.q.push(["measure",b,a,b||new Date().getTime()])};PRUM_EPISODES.done=function(a){PRUM_EPISODES.q.push(["done",a])};PRUM_EPISODES.mark("firstbyte");(function(){var b=document.getElementsByTagName("script")[0];var a=document.createElement("script");a.type="text/javascript";a.async=true;a.charset="UTF-8";a.src="//rum-static.pingdom.net/prum.min.js";b.parentNode.insertBefore(a,b)})();
        </script>
    </head>
    <body class="blog post_detail" itemscope itemtype="http://schema.org/BlogPosting">
        <nav id="site-nav">
            <header id="about">
                <h1>
                    <a href="/about/">Chris Adams</a>
                </h1>
                <h2>
                    Programmer, cyclist, photographer
                </h2>
            </header>
            <ul class="links">
                <li>
                    <a href="/">Home</a>
                </li>
                <li>
                    <a href="/about/">About</a>
                </li>
                <li>
                    <a href="/feeds/all.atom" title="Site Feed">Site Feed</a>
                </li>
            </ul>
            <ul class="social-networks">
                <li>
                    <a href="https://github.com/acdha" rel="me">Github</a>
                </li>
                <li>
                    <a href="http://bitbucket.org/acdha" rel="me">Bitbucket</a>
                </li>
                <li>
                    <a href="http://delicious.com/acdha" rel="me">del.icio.us</a>
                </li>
                <li>
                    <a href="http://twitter.com/acdha" rel="me">Twitter</a>
                </li>
                <li>
                    <a href="https://plus.google.com/116562742092842686896?rel=author" rel="me">Google+</a>
                </li>
                <li>
                    <a href="http://www.flickr.com/photos/acdha" rel="me">Flickr</a>
                </li>
                <li>
                    <a href="http://www.linkedin.com/in/acdha" rel="me">LinkedIn</a>
                </li>
                <li>
                    <a href="http://connect.garmin.com/explore?owner=acdha" rel="me">Garmin Connect</a>
                </li>
            </ul>
            <div id="site-search"></div>
        </nav>
        <section id="main">
            <article class="post">
                <header>
                    <meta itemprop="dateCreated" content="2009-08-13T10:15:51-04:00">
                    <meta itemprop="dateModified" content="2009-08-13T10:15:51-04:00"><time class="date" itemprop="datePublished" datetime="2009-08-13T14:15:51+00:00">Aug 13</time>
                    <h2 itemprop="title">
                        Letting users get to (i)Work
                    </h2>
                </header>
                <div class="body" itemprop="articleBody">
                    <div class="googlereader description" data-google-id="tag:google.com,2005:reader/item/233c7f0dcad48b6b">
                        <blockquote>
                            <p>
                                iLife and iWork can throw up an awful lot of update dialogs and welcome screens for people who first launch them. For users on my network I wanted to prevent those from coming up
                            </p>
                            <p>
                                There are a number of defaults that can be set to make these not appear. The preferred way is to manage these with MCX, but for now I’ve deployed these as a login script (its lazy-easy because its all in just one text file)
                            </p>
                            <p>
                                This will set defaults so that iWork and iLife don’t bug the user. There are also defaults to turn off auto update check in perian, disable the welcome movie for Safari 4 and to set the standard file format for iWork 09 to use the iWork 08 package style file format which is more efficient when saving over the network. Finally there is a default to tell iTunes not to look for shared music.
                            </p>
                            <p>
                                Most of these should be pretty straight forward to read – if you have others, please post them in the comments.
                            </p>
                            <p>
                                TODO: make these into MCX manifests?
                            </p>
                            <pre>
<code># !/bin/bash
echo Setting iPrefs...

sudo -u $1 defaults write org.perian.Perian NextRunDate -date '4000-12-31 16:00:00 -0800'

# iWork

sudo -u $1 defaults -currentHost write com.apple.iWork SFLDefaultsAutoUpdateCheck -bool FALSE
defaults write /Library/Preferences/com.apple.iWork09 DisplayedRegistrationWindowCount -int 3
defaults write /Library/Preferences/com.apple.iWork09 ShouldNotSendRegistration -bool TRUE
chown admin:admin /Library/Preferences/com.apple.iWork09.plist
chmod 644 /Library/Preferences/com.apple.iWork09.plist

sudo -u $1 defaults write com.apple.iWork.Keynote DisplayedRegistrationWindowCount -int 2
sudo -u $1 defaults write com.apple.iWork.Keynote RegistrationHasBeenSent -bool TRUE
sudo -u $1 defaults -currentHost write com.apple.iWork.Keynote FirstRunFlag -bool TRUE
sudo -u $1 defaults write com.apple.iWork.Keynote dontShowWhatsNew -bool TRUE
sudo -u $1 defaults write com.apple.iWork.Keynote DisableSingleFileFormat -bool TRUE

sudo -u $1 defaults write com.apple.iWork.Pages DisplayedRegistrationWindowCount -int 2
sudo -u $1 defaults write com.apple.iWork.Pages RegistrationHasBeenSent -bool TRUE
sudo -u $1 defaults -currentHost write com.apple.iWork.Pages FirstRunFlag -bool TRUE
sudo -u $1 defaults write com.apple.iWork.Pages dontShowWhatsNew -bool TRUE
sudo -u $1 defaults write com.apple.iWork.Pages DisableSingleFileFormat -bool TRUE

sudo -u $1 defaults write com.apple.iWork.Numbers DisplayedRegistrationWindowCount -int 2
sudo -u $1 defaults write com.apple.iWork.Numbers RegistrationHasBeenSent -bool TRUE
sudo -u $1 defaults -currentHost write com.apple.iWork.Numbers FirstRunFlag -bool TRUE
sudo -u $1 defaults write com.apple.iWork.Numbers dontShowWhatsNew -bool TRUE
sudo -u $1 defaults write com.apple.iWork.Numbers DisableSingleFileFormat -bool TRUE

# Garageband
sudo -u $1 defaults write com.apple.garageband dontShowWhatsNew -bool TRUE
sudo -u $1 defaults write com.apple.garageband DfPrefs_NoDocumentPanel -bool TRUE
sudo -u $1 defaults write com.apple.garageband DfPrefs_NextUpgradeCheck -date 'Aug 10, 2012 12:00:00 PM'
sudo -u $1 defaults write com.apple.garageband DfPrefs_AskAboutUpgrades -dict '5.1' 'NO'

# iMovie
sudo -u $1 defaults write com.apple.iMovie8 dontShowWhatsNew -bool TRUE
sudo -u $1 defaults write com.apple.iMovie8 AutoUpgradeCheck -bool FALSE
sudo -u $1 defaults write com.apple.iMovie8 NextUpgradeCheck -date 'Aug 10, 2012 12:00:00 PM'
# no proof that this one is recognized - but it is in the others
sudo -u $1 defaults write com.apple.iMovie8 SFLDefaultsAutoUpdateCheck -bool FALSE

# iPhoto
sudo -u $1 defaults write com.apple.iPhoto CheckForUpdates -bool FALSE
sudo -u $1 defaults write com.apple.iPhoto dontShowWhatsNew -bool TRUE
sudo -u $1 defaults write com.apple.iPhoto GeocodeLookupPreference -int 0
sudo -u $1 defaults write com.apple.iPhoto NextUpgradeCheck -date 'Aug 10, 2012 12:00:00 PM'
# not so sure about these:
sudo -u $1 defaults write com.apple.iPhoto SFLDefaultsAutoUpdateCheck -bool FALSE
sudo -u $1 defaults write com.apple.iPhoto UpdateSplash -int 8

# iTunes
sudo -u $1 defaults write com.apple.iTunes lookForSharedMusic -bool FALSE

# iWeb
sudo -u $1 defaults write com.apple.iWeb dontShowWhatsNew -bool TRUE
sudo -u $1 defaults write com.apple.iWeb dismissDotMacUpsellWindow -bool TRUE
sudo -u $1 defaults write com.apple.iWeb SFLDefaultsAutoUpdateCheck -bool FALSE
sudo -u $1 defaults -currentHost write com.apple.iWeb FirstRunFlag -bool TRUE 

# Safari
sudo -u $1 defaults write com.apple.Safari LastDisplayedWelcomePageVersionString '4.0'
</code>
</pre>
                        </blockquote>
                    </div>
                    <p class="bookmark-source">
                        Source: <a href="http://ptone.com/dablog/2009/08/letting-users-get-to-iwork/">http://ptone.com/dablog/2009/08/letting-users-get-to-iwork/</a>
                    </p>
                </div>
            </article>
            <nav id="post-nav"></nav><script id="discus-javascript">
    var disqus_shortname = 'improbable';

                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                    document.getElementsByTagName('body')[0].appendChild(dsq);
                })();
            </script><a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
            <div id="disqus_thread"></div>
        </section>
        <footer id="site-footer">
            <p>
                This site is purely my personal work and does not reflect the views of my employer.
            </p>
            <p class="license">
                <a class="icon" rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png"></a> This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.
            </p>
        </footer><script async="" defer src="/static/js/common.js">
</script><script id="google-analytics">
    var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-2097834-1']);
            _gaq.push(['_setDomainName', 'improbable.org']);
            _gaq.push(['_trackPageview']);

            (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();
        </script>
    </body>
</html>
