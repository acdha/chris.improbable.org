<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>IE9 Compat Inspector</title>
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <link rel="stylesheet" href="/static/css/main.min.css" type="text/css" media="all">
        <!--[if lte IE 8]>
            <link
                rel="stylesheet"
                href="/static/css/ie-fixes.css"
                type="text/css"
                media="all"
            />
            <script src="/static/js/html5shiv.js"></script>
        <![endif]-->

        <meta http-equiv="last-modified" content="Wed, 27 Apr 2011 15:46:37 GMT">
        <link rel="alternate" type="application/atom+xml" title="All Posts (Atom)" href="/feeds/all.atom">
        <link rel="alternate" type="application/rss+xml" title="All Posts (RSS)" href="/feeds/all.rss">
        <link rel="icon" type="image/jpeg" sizes="287x287" href="/static/img/favicon-287x287.jpg">
        <link rel="icon" type="image/jpeg" sizes="128x128" href="/static/img/favicon-128x128.jpg">
    </head>
    <body class="blog post_detail" itemscope itemtype="http://schema.org/BlogPosting">
        <nav id="site-nav">
            <header id="about">
                <h1><a href="/about/">Chris Adams</a></h1>
                <h2>Programmer, cyclist, photographer</h2>
            </header>
            <ul class="links">
                <li>
                    <a href="/">Home</a>
                </li>
                <li>
                    <a href="/about/">About</a>
                </li>
                <li>
                    <a href="/feeds/all.atom" title="Site Feed">Site Feed</a>
                </li>
            </ul>
            <ul class="social-networks">
                <li>
                    <a rel="me" href="https://code4lib.social/@acdha">Mastodon</a>
                </li>
                <li>
                    <a href="https://github.com/acdha" rel="me">Github</a>
                </li>
                <li>
                    <a href="https://bitbucket.org/acdha" rel="me">Bitbucket</a>
                </li>
                <li>
                    <a href="https://pinboard.in/u:acdha/" rel="me">Pinboard</a>
                </li>
                <li>
                    <a href="https://www.flickr.com/photos/acdha" rel="me">Flickr</a>
                </li>
                <li>
                    <a href="https://www.linkedin.com/in/acdha" rel="me">LinkedIn</a>
                </li>
            </ul>
            <div id="site-search"></div>
        </nav>
        <section id="main">
            <article class="post">
                <header>
                    <meta itemprop="dateCreated" content="2011-04-27T11:46:37-04:00">
                    <meta itemprop="dateModified" content="2011-04-27T11:46:37-04:00">
                    <time class="date" itemprop="datePublished" datetime="2011-04-27T15:46:37+00:00">Apr 27</time>
                    <h2 class="" itemprop="title">IE9 Compat Inspector</h2>
                </header>

                <div class="body" itemprop="articleBody"><div class="googlereader description" data-google-id="tag:google.com,2005:reader/item/a5cc181380a4e6f3">
                        <blockquote>
                            <p>
                                With <a href="http://blogs.msdn.com/b/ie/archive/2011/03/14/ie9-release-globally-available-for-consumers-and-businesses.aspx">IE9 now released</a>, we want you to serve IE the same markup as you do for other browsers, and make sure your site works great running in IE9 standards mode. We recently blogged about <a href="http://blogs.msdn.com/b/ie/archive/2011/03/18/preparing-your-site-for-ie9.aspx">preparing your site for IE9</a>, and you can check out the <a href="http://msdn.microsoft.com/en-us/library/ff986083(v=VS.85).aspx">Internet Explorer 9 Compatibility Cookbook</a> for lists of changes that may impact your site or the <a href="http://msdn.microsoft.com/en-us/ie/ff468705.aspx">Internet Explorer 9 Guide for Developers</a> for a more complete list of what's changed. Today we are introducing a new resource that can help speed up the process of preparing your site: Compat Inspector.
                            </p>
                            <h2>
                                About Compat Inspector
                            </h2>
                            <p>
                                Compat Inspector is a JavaScript-based testing tool that analyzes your site while it runs. Compat Inspector reports patterns of interaction which cause issues in standards mode. This allows you to identify problems quickly without memorizing a bunch of documentation or searching through the entirety of your site's code. We developed Compat Inspector during the course of IE9 to speed up the process of recognizing common issues across different sites. Along the way many members of the IE team contributed to the set of test cases that make up the rules in Compat Inspector. Now we're making it all available to you. Check out the <a href="http://ie.microsoft.com/testdrive/HTML5/CompatInspector/">Compat Inspector Test Drive</a> to try it out before using it on your own site.
                            </p>
                            <p>
                                Compat Inspector is designed to help sites migrating to IE9 Standards Mode, not those running in legacy modes. You may still need to refer to the above documentation for some issues. The best pattern is to use Compat Inspector first, then fall back to the documentation if nothing is found.
                            </p>
                            <h2>
                                How do I use it?
                            </h2>
                            <p>
                                To use Compat Inspector, add the following script <b><i>before</i></b> all other scripts on each page you want to test:
                            </p>
                            <p style="font-family:Consolas, Courier New, Monospace;font-size:10pt;margin-left:0.25in">
                                &lt;script src="http://ie.microsoft.com/testdrive/HTML5/CompatInspector/inspector.js"&gt;&lt;/script&gt;
                            </p>
                            <p style="margin-left:0.25in">
                                <i><b>Note:</b> If you have <a href="http://fiddler2.com/fiddler2/">Fiddler</a>, you can automatically load Compat Inspector on all pages you visit by adding <a href="http://ie.microsoft.com/testdrive/HTML5/CompatInspector/help/snippet.txt">this snippet</a> to your <a href="http://www.fiddlertool.com/fiddler/dev/scriptsamples.asp">FiddlerScript</a> (which is particularly helpful if your page uses frames). I recommend installing the <a href="http://www.fiddler2.com/fiddler/fse.asp">FiddlerScript Editor extension</a> if you don’t already have it.</i>
                            </p>
                            <p>
                                After you have the above script in place, open your page in IE9 and start using it. Explicitly test any interactions known to be working incorrectly (only executed code is analyzed). Compat Inspector will keep a running total of all errors and warnings associated with detected issues. A summary view in the upper right hand corner of the page displays the results:
                            </p>
                            <p style="text-align:center">
                                <img alt="A screenshot of the Compat Inspector summary view showing one error, zero warnings, and zero info messages." style="max-width:95%" src="http://ieblog.members.winisp.net/images/20110426-ici-image1.png">
                            </p>
                            <p>
                                Click on this view to expand it and obtain detailed information about each detected issue with links to relevant documentation:
                            </p>
                            <p style="text-align:center">
                                <img alt="A screenshot of the Compat Inspector details view. The view has three tabs: &quot;Message Log&quot;, &quot;Tests&quot;, and &quot;Verifiers&quot;. It also contains a link for &quot;Help&quot;. The &quot;Message Log&quot; tab is focused. It contains four checkboxes labeled &quot;Show Errors&quot;, &quot;Show Warnings&quot;, &quot;Show Info Messages&quot;, and &quot;Show Duplicates&quot;. All checkboxes are checked except for &quot;Show Duplicates&quot;. In the content area below the checkboxes one error message is displayed. The message reads &quot;ERROR: The createElement API no longer accepts angle brackets '&lt;&gt;'. This is a deliberate change made in IE9 Standards Mode for interoperability with other web browsers and compliance with DOM Level 3 Core.&quot; Additionally the message contains links to resources to help resolve the issue and two unchecked checkboxes labeled &quot;Verify&quot; and &quot;Debug&quot;." style="max-width:95%" src="http://ieblog.members.winisp.net/images/20110426-ici-image2.png">
                            </p>
                            <p>
                                Most errors and warnings also provide two additional actions for further investigation: "Verify" and "Debug."
                            </p>
                            <h3>
                                "Verify" Workflow
                            </h3>
                            <p>
                                Some test cases have built-in "verifiers" that emulate legacy behavior. This allows you to confirm the root cause of an issue before making any changes to your code.
                            </p>
                            <p>
                                <b>Prerequisite:</b> Compat Inspector is opened in the detailed information view and displaying an error or warning message containing a checkbox labeled "Verify."
                            </p>
                            <ol>
                                <li style="margin-top:1em">Click the "Verify" checkbox for the issue you want to confirm<br>
                                    <img alt='Another screenshot of the "createElement" error message. This time the checkbox labeled "Verify" is checked.' style="margin-left:0.25in;margin-top:0.5em" src="http://ieblog.members.winisp.net/images/20110426-ici-image3.png">
                                </li>
                                <li style="margin-top:1em">Refresh the page (You'll see a notification that the verifier has been enabled)<br>
                                    <img alt="A screenshot of an informational message stating &quot;INFO: The verifier The createElement API no longer accepts angle brackets '&lt;&gt;'. has been enabled. This message contains a single checkbox labeled &quot;Verify&quot; which is checked." style="margin-left:0.25in;margin-top:0.5em" src="http://ieblog.members.winisp.net/images/20110426-ici-image4.png">
                                </li>
                                <li style="margin-top:1em">Repeat the steps that originally triggered the error or warning
                                </li>
                                <li style="margin-top:1em">If the issue still occurs
                                    <ol style="list-style-type:lower-alpha">
                                        <li style="margin-top:0.5em">If error or warning messages are still displayed, repeat steps 1-4 for each remaining message
                                        </li>
                                        <li style="margin-top:0.5em">Otherwise, Compat Inspector cannot fully identify this issue. Refer to the IE9 documentation for additional help.
                                        </li>
                                    </ol>
                                </li>
                                <li style="margin-top:1em">Otherwise, you've identified the root cause of the issue
                                    <ol style="list-style-type:lower-alpha">
                                        <li style="margin-top:0.5em">Uncheck all "Verify" checkboxes<br>
                                            <img alt='Another screenshot of the "createElement" informational message. This time the checkbox labeled "Verify" is unchecked.' style="margin-left:0.25in;margin-top:0.5em" src="http://ieblog.members.winisp.net/images/20110426-ici-image5.png">
                                        </li>
                                        <li style="margin-top:0.5em">Refresh the page
                                        </li>
                                        <li style="margin-top:0.5em">Follow the "Debug" Workflow below to locate the source of each message in your code
                                        </li>
                                        <li style="margin-top:0.5em">Follow the instructions in the displayed error/warn messages to resolve the issue
                                        </li>
                                        <li style="margin-top:0.5em;list-style-type:none">
                                            <i>Note: Also look for any "if IE" checks controlling the execution of the problematic code. IE9 typically works best when given the same code as other modern browsers.</i>
                                        </li>
                                    </ol>
                                </li>
                            </ol>
                            <h3>
                                "Debug" Workflow
                            </h3>
                            <p>
                                Compat Inspector can also help you isolate where in your code things went wrong via the "debug" feature.
                            </p>
                            <p>
                                <b>Prerequisite:</b> Compat Inspector is opened in the detailed information view and displaying an error or warning message containing a checkbox labeled "Debug."
                            </p>
                            <ol>
                                <li style="margin-top:1em">Click the "Debug" checkbox for the issue you want to investigate<br>
                                    <img alt='Another screenshot of the "createElement" error message. This time the checkbox labeled "Debug" is checked.' style="margin-left:0.25in;margin-top:0.5em" src="http://ieblog.members.winisp.net/images/20110426-ici-image6.png">
                                </li>
                                <li style="margin-top:1em">Open the F12 developer tools by pressing the F12 key<br>
                                    <img alt="A screenshot showing the initial view of the F12 tools." style="margin-left:0.25in;margin-top:0.5em" src="http://ieblog.members.winisp.net/images/20110426-ici-image7.png">
                                </li>
                                <li style="margin-top:1em">Switch to the "Script" tab<br>
                                    <img alt='A screenshot showing the "Script" tab as focused in the F12 tools.' style="margin-left:0.25in;margin-top:0.5em" src="http://ieblog.members.winisp.net/images/20110426-ici-image8.png">
                                </li>
                                <li style="margin-top:1em">Click "Start debugging"<br>
                                    <img alt='A screenshot showing the "Start Debugging" button as focused in the F12 tools.' style="margin-left:0.25in;margin-top:0.5em" src="http://ieblog.members.winisp.net/images/20110426-ici-image9.png">
                                </li>
                                <li style="margin-top:1em">Repeat the steps that originally triggered the error or warning (This will invoke the script debugger)<br>
                                    <img alt='A screenshot showing a snippet of JavaScript paused in the F12 tools. The code contains the JavaScript statement "debugger;" with a comment informing readers that the break point was triggered by Compat Inspector with instructions to look at the next item up in the call stack.' style="margin-left:0.25in;margin-top:0.5em" src="http://ieblog.members.winisp.net/images/20110426-ici-image10.png">
                                </li>
                                <li style="margin-top:1em">Switch to the "Call stack" sub-tab located in the right half of the F12 developer tools<br>
                                    <img alt='A screenshot of the "Call stack" sub-tab of the "Script" tab in the F12 tools. The call stack contains two entries (from top to bottom): "inspectorFunction" and "JScript global code". The entry "inspectorFunction" is selected.' style="margin-left:0.25in;margin-top:0.5em" src="http://ieblog.members.winisp.net/images/20110426-ici-image11.png">
                                </li>
                                <li style="margin-top:1em">Double-click the entry visually below the highlighted entry in the call stack<br>
                                    <img alt='Another screenshot of the "Call stack" sub-tab of the "Script" tab in the F12 tools. This time the entry "JScript global code" is selected.' style="margin-left:0.25in;margin-top:0.5em" src="http://ieblog.members.winisp.net/images/20110426-ici-image12.png">
                                </li>
                                <li style="margin-top:1em">Look over at the left hand side of the F12 developer tools to see the code that triggered the error or warning<br>
                                    <img alt='A screenshot showing the JavaScript code: document.createElement("&lt;div&gt;").' style="margin-left:0.25in;margin-top:0.5em" src="http://ieblog.members.winisp.net/images/20110426-ici-image13.png">
                                </li>
                            </ol>
                            <h2>
                                How does it work?
                            </h2>
                            <p>
                                Compat Inspector uses features introduced in IE9. At its core, Compat Inspector overrides native APIs using <a href="http://www.ecma-international.org/publications/standards/Ecma-262.htm">ECMAScript 5th edition</a> getters/setters and depends on the browser to correctly expose APIs per <a href="http://dev.w3.org/2006/webapi/WebIDL/">WebIDL</a>. Compat Inspector then uses these overrides to track interactions between the page and the native platform. This allows it to report issues at runtime as the problem code is executed.
                            </p>
                            <p>
                                The rest of the Compat Inspector infrastructure makes use of various other new features as needed. Some examples include <a href="http://msdn.microsoft.com/en-us/ie/ff468705.aspx#_DOM_Core_and_Views">DOM Level 3 Core APIs</a>, <a href="http://blogs.msdn.com/b/ie/archive/2010/03/26/dom-level-3-events-support-in-ie9.aspx">DOM Level 3 Events APIs</a>, and <a href="http://blogs.msdn.com/b/ie/archive/2010/03/19/the-css-corner-about-css-corners.aspx">CSS3 Border Radius</a>. Compat Inspector also depends on features introduced in IE8 such as <a href="http://msdn.microsoft.com/en-us/library/cc197062%28VS.85%29.aspx">HTML5 Local Storage</a>, <a href="http://msdn.microsoft.com/library/cc197057.aspx">HTML5 Cross-Document Messaging</a>, <a href="http://msdn.microsoft.com/en-us/library/cc836458(VS.85).aspx">native JSON support</a>, and <a href="http://msdn.microsoft.com/en-us/library/cc288326(VS.85).aspx">Selectors API</a>.
                            </p>
                            <h2>
                                My site works, now what?
                            </h2>
                            <p>
                                Remove the Compat Inspector script from all your pages before publishing. Compat Inspector is a test tool and should not be used in production. After that, keep an eye on the IE blog; we may have new test cases to share in the future.
                            </p>
                            <p>
                                —Tony Ross, Program Manager, Internet Explorer
                            </p>
                            <div style="clear:both"></div><img src="http://blogs.msdn.com/aggbug.aspx?PostID=10158666" width="1" height="1">
                        </blockquote>
                    </div>
                    <p class="bookmark-source">
                        Source: <a href="http://blogs.msdn.com/b/ie/archive/2011/04/27/ie9-compat-inspector.aspx">http://blogs.msdn.com/b/ie/archive/2011/04/27/ie9-compat-inspector.aspx</a>
                    </p>
                </div>
            </article>

            <nav id="post-nav">


            </nav>
        </section>

        <footer id="site-footer" class="nocontent">
            <p>
                This site is purely my personal work and does not reflect the
                views of my employer.
            </p>
            <p class="license">
                <a class="icon" rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width: 0" src="https://i.creativecommons.org/l/by-sa/3.0/88x31.png"></a>
                This work is licensed under a
                <a rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US">Creative Commons Attribution-ShareAlike 3.0 Unported
                    License</a>.
            </p>
        </footer>

        <script async src="/static/js/common.js"></script>
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/run_prettify.min.js" integrity="sha256-hj+5FRlAuvAFANiefn0PpJYCkV1X4QT9EgiPd+6QnCw=" crossorigin="anonymous"></script>
    </body>
</html>
