<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>
            Open Compute Mechanical System Design
        </title>
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <link rel="stylesheet" href="/static/css/main.min.css" type="text/css" media="all"><!--[if lte IE 8]>
            <link rel="stylesheet" href="/static/css/ie-fixes.css" type="text/css" media="all">
            <script src="/static/js/html5shiv.js"></script>
        <![endif]-->
        <meta http-equiv="last-modified" content="Sat, 09 Apr 2011 17:43:40 GMT">
        <link rel="alternate" type="application/atom+xml" title="All Posts (Atom)" href="/feeds/all.atom">
        <link rel="alternate" type="application/rss+xml" title="All Posts (RSS)" href="/feeds/all.rss">
        <link rel="icon" type="image/jpeg" sizes="287x287" href="/static/img/favicon-287x287.jpg">
        <link rel="icon" type="image/jpeg" sizes="128x128" href="/static/img/favicon-128x128.jpg">
        <script type="application/javascript">
var _prum={id:"5166be01e6e53d1007000001"};var PRUM_EPISODES=PRUM_EPISODES||{};PRUM_EPISODES.q=[];PRUM_EPISODES.mark=function(b,a){PRUM_EPISODES.q.push(["mark",b,a||new Date().getTime()])};PRUM_EPISODES.measure=function(b,a,b){PRUM_EPISODES.q.push(["measure",b,a,b||new Date().getTime()])};PRUM_EPISODES.done=function(a){PRUM_EPISODES.q.push(["done",a])};PRUM_EPISODES.mark("firstbyte");(function(){var b=document.getElementsByTagName("script")[0];var a=document.createElement("script");a.type="text/javascript";a.async=true;a.charset="UTF-8";a.src="//rum-static.pingdom.net/prum.min.js";b.parentNode.insertBefore(a,b)})();
        </script>
    </head>
    <body class="blog post_detail" itemscope itemtype="http://schema.org/BlogPosting">
        <nav id="site-nav">
            <header id="about">
                <h1>
                    <a href="/about/">Chris Adams</a>
                </h1>
                <h2>
                    Programmer, cyclist, photographer
                </h2>
            </header>
            <ul class="links">
                <li>
                    <a href="/">Home</a>
                </li>
                <li>
                    <a href="/about/">About</a>
                </li>
                <li>
                    <a href="/feeds/all.atom" title="Site Feed">Site Feed</a>
                </li>
            </ul>
            <ul class="social-networks">
                <li>
                    <a href="https://github.com/acdha" rel="me">Github</a>
                </li>
                <li>
                    <a href="http://bitbucket.org/acdha" rel="me">Bitbucket</a>
                </li>
                <li>
                    <a href="http://delicious.com/acdha" rel="me">del.icio.us</a>
                </li>
                <li>
                    <a href="http://twitter.com/acdha" rel="me">Twitter</a>
                </li>
                <li>
                    <a href="https://plus.google.com/116562742092842686896?rel=author" rel="me">Google+</a>
                </li>
                <li>
                    <a href="http://www.flickr.com/photos/acdha" rel="me">Flickr</a>
                </li>
                <li>
                    <a href="http://www.linkedin.com/in/acdha" rel="me">LinkedIn</a>
                </li>
                <li>
                    <a href="http://connect.garmin.com/explore?owner=acdha" rel="me">Garmin Connect</a>
                </li>
            </ul>
            <div id="site-search"></div>
        </nav>
        <section id="main">
            <article class="post">
                <header>
                    <meta itemprop="dateCreated" content="2011-04-09T13:43:40-04:00">
                    <meta itemprop="dateModified" content="2011-04-09T13:43:40-04:00"><time class="date" itemprop="datePublished" datetime="2011-04-09T17:43:40+00:00">Apr 09</time>
                    <h2 itemprop="title">
                        Open Compute Mechanical System Design
                    </h2>
                </header>
                <div class="body" itemprop="articleBody">
                    <div class="googlereader description" data-google-id="tag:google.com,2005:reader/item/fe2ea06b19be240b">
                        <blockquote>
                            <p style="margin:0in 0in 0pt">
                                <font color="#000000" size="3" face="Calibri">Last week Facebook announced the Open Compute Project (</font><a href="http://perspectives.mvdirona.com/2011/04/07/OpenComputeProject.aspx"><font color="#0000FF" size="3" face="Calibri">Perspectives</font></a><font color="#000000" size="3" face="Calibri">,</font> <a href="http://opencompute.org/"><font color="#0000FF" size="3" face="Calibri">Facebook</font></a><font color="#000000" size="3" face="Calibri">). I linked to the detailed specs in my general notes on</font> <a href="http://perspectives.mvdirona.com/2011/04/07/OpenComputeProject.aspx"><font color="#0000FF" size="3" face="Calibri">Perspectives</font></a> <font color="#000000"><font size="3"><font face="Calibri">and said I would follow up with more detail on key components and design decisions I thought were particularly noteworthy.<span>&nbsp;</span> In this post we’ll go through the mechanical design in detail.</font></font></font>
                            </p>
                            <p style="margin:0in 0in 0pt">
                                <font color="#000000" size="3" face="Calibri">&nbsp;</font>
                            </p>
                            <p style="margin:0in 0in 0pt">
                                <font color="#000000" size="3" face="Calibri">As long time readers of this blog will know, PUE has many issues (</font><a href="http://perspectives.mvdirona.com/2010/05/25/PUEIsStillBrokenAndIStillUseIt.aspx"><font color="#0000FF" size="3" face="Calibri">PUE is still broken and I still use it</font></a><font color="#000000" size="3" face="Calibri">) and is mercilessly gamed in marketing literature (</font><a href="http://perspectives.mvdirona.com/2009/06/15/PUEAndTotalPowerUsageEfficiencyTPUE.aspx"><font color="#0000FF" size="3" face="Calibri">PUE and tPUE</font></a><font size="3"><font color="#000000"><font face="Calibri">). The Facebook published literature predicts that this center will deliver a PUE of 1.07. Ignoring the power requirements of the mechanical systems, just delivering power to the servers at a 7% loss is a considerable challenge. I’m slightly skeptical of this number as a fully loaded, annual PUE number but I can say with confidence that it is one of the nicest mechanical designs I have come across. Hats off to Jay Park and the rest of the Facebook DC design team.</font></font></font>
                            </p>
                            <p style="margin:0in 0in 0pt">
                                <font color="#000000" size="3" face="Calibri">&nbsp;</font>
                            </p>
                            <p style="margin:0in 0in 0pt">
                                <font size="3"><font color="#000000"><font face="Calibri">Perhaps the best way to understand the mechanical design is to first walk through the mechanical system diagram and then step through the actual deployment in pictures.</font></font></font>
                            </p>
                            <p>
                                <img border="0" src="http://perspectives.mvdirona.com/content/binary/FacebookPrinevilleMechanicalSystem.jpg">
                            </p>
                            <p style="margin:0in 0in 0pt">
                                <font size="3"><font color="#000000"><font face="Calibri">In the mechanical system diagram you will first note there is no process based cooling (no air conditioning) and no chilled water loop. It’s a 100% air cooled with all IT equipment cooling via outside air which is particularly effective with the favorable weather conditions experienced in central Oregon.<span>&nbsp;</span></font></font></font>
                            </p>
                            <p style="margin:0in 0in 0pt">
                                <font color="#000000" size="3" face="Calibri">&nbsp;</font>
                            </p>
                            <p style="margin:0in 0in 0pt">
                                <font size="3"><font color="#000000"><font face="Calibri">The outside air is pulled in from outside, mixed with a controlled volume of return air to avoid over-cooling in winter, filtered, evaporative cooled, and run through a fan wall before being returned to the cold aisles below. <span>&nbsp;</span></font></font></font>
                            </p>
                            <p style="margin:0in 0in 0pt">
                                <font color="#000000" size="3" face="Calibri">&nbsp;</font>
                            </p>
                            <p style="margin:0in 0in 0pt">
                                <b><span style="font-size:14pt"><font color="#000000"><font face="Calibri">Air Intake</font></font></span></b>
                            </p>
                            <p style="margin:0in 0in 0pt">
                                <font size="3"><font color="#000000"><font face="Calibri">The cooling system takes up the entire second floor of the facility with the IT equipment and office space on the first floor. In the picture below, you’ll see the building air intake on the left running the full width of the facility. This intake area in the picture is effectively “outside” so includes water drains in the floor. In the picture to the right towards the top, you’ll see the air path to the remainder of the air handling system. To the right at the bottom, you’ll see the white sheet metal sections covering the passage where hot exhaust air is brought up from the hot aisle below to be mixed with outside air to prevent over-cooling on cold days.</font></font></font>
                            </p>
                            <p>
                                &nbsp;
                            </p>
                            <p>
                                <img border="0" src="http://perspectives.mvdirona.com/content/binary/FacebookPrinevilleAirIntake.jpg">
                            </p>
                            <p style="margin:0in 0in 0pt">
                                <b><span style="font-size:14pt"><font color="#000000"><font face="Calibri">Mixing Plenum &amp; Filtration:</font></font></span></b>
                            </p>
                            <p style="margin:0in 0in 0pt">
                                <font size="3"><font color="#000000"><font face="Calibri">In the next picture, you can see the next part of the full building air handling system. On the left the louvers at the top are bringing in outside air from the outside air intake room.<span>&nbsp;</span> On the left at the bottom, there are thermostatically controlled louvers allowing hot exhaust air to come up from the IT equipment hot aisle. The hot and outside air are mixed in this full room plenum before passing through the filtration wall visible on the right side of the picture.</font></font></font>
                            </p>
                            <p style="margin:0in 0in 0pt">
                                <font color="#000000" size="3" face="Calibri">&nbsp;</font>
                            </p>
                            <p style="margin:0in 0in 0pt">
                                <font size="3"><font color="#000000"><font face="Calibri">The facility grounds are still being worked upon so the filtration system includes an extra set of disposable paper filters to increase the life of the more aggressive filtration media not visible behind.</font></font></font>
                            </p>
                            <p>
                                &nbsp;
                            </p>
                            <p>
                                <img border="0" src="http://perspectives.mvdirona.com/content/binary/FacebookPrinevilleAirMixingFiltration.jpg">
                            </p>
                            <p style="margin:0in 0in 0pt">
                                <b><span style="font-size:14pt"><font color="#000000"><font face="Calibri">Misting Evaporative Cooling</font></font></span></b>
                            </p>
                            <p style="margin:0in 0in 0pt">
                                <font size="3"><font color="#000000"><font face="Calibri">In the next picture below you’ll see the temperature and humidity controlled high-pressure water misting system again running the full width of the facility. Most evaporative cooling systems used in data center applications use wet media. This system used high pressure water with stainless steel nozzles to produce an atomized mist. These designs produce excellent cooling (high delta-T) but are prone to calcification and maintenance without aggressive filtration which brings some expense. But they are very effective.</font></font></font>
                            </p>
                            <p style="margin:0in 0in 0pt">
                                <font color="#000000" size="3" face="Calibri">&nbsp;</font>
                            </p>
                            <p style="margin:0in 0in 0pt">
                                <font size="3"><font color="#000000"><font face="Calibri">Just beyond the misters, you’ll see what looks like filtration media. This media is there to ensure no airborne water makes it out of the cooling room.</font></font></font>
                            </p>
                            <p>
                                &nbsp;
                            </p>
                            <p>
                                <img border="0" src="http://perspectives.mvdirona.com/content/binary/FacebookPrinevilleMistCooler.jpg">
                            </p>
                            <p style="margin:0in 0in 0pt">
                                <b><span style="font-size:14pt"><font color="#000000"><font face="Calibri">Exhaust System</font></font></span></b>
                            </p>
                            <p style="margin:0in 0in 0pt">
                                <font size="3"><font color="#000000"><font face="Calibri">In the final picture below, you’ll see we have now got to the other side of the building where the exhaust fans are found. We bring air in on one side, filter, cool it, and pump it, and then just before the exhaust fans visible in the picture, huge openings in the floor alow treated, cooled air to be brough down to the IT equipment cold aisle below.</font></font></font>
                            </p>
                            <p style="margin:0in 0in 0pt">
                                <font color="#000000" size="3" face="Calibri">&nbsp;</font>
                            </p>
                            <p style="margin:0in 0in 0pt">
                                <font size="3"><font color="#000000"><font face="Calibri">The exhaust fans visible in the picture control pressure by exhausting air not needed back outside.</font></font></font>
                            </p>
                            <p>
                                &nbsp;
                            </p>
                            <p>
                                <img border="0" src="http://perspectives.mvdirona.com/content/binary/FacebookPrinevilleAirExhaust.jpg">
                            </p>
                            <p style="margin:0in 0in 0pt">
                                <font color="#000000" size="3" face="Calibri">The Facebook facility has considerable similarity to the design</font> <a href="http://www.ecocooling.co.uk/"><font color="#0000FF" size="3" face="Calibri">EcoCooling</font></a> <font color="#000000" size="3" face="Calibri">mechanical design I posted last Monday (</font><a href="http://perspectives.mvdirona.com/2011/04/04/ExampleOfEfficientMechanicalDesign.aspx"><font color="#0000FF" size="3" face="Calibri">Example of Efficient Mechanical System Design</font></a><font color="#000000" size="3" face="Calibri">). Both approaches use the entire building as the air ducting system and both designs use</font> <a href="http://en.wikipedia.org/wiki/Evaporative_cooler"><font color="#0000FF" size="3" face="Calibri">evaporative cooling</font></a><font size="3"><font color="#000000"><font face="Calibri">. The notable differences are: 1) EcoCooling design is based upon wet media whereas Facebook is using a high pressure water misting system, and 2) the EcoCooling design is running the mechanical systems beside the compute floor whereas the Facebook design uses the second floor above the IT rooms for all mechanical system.</font></font></font>
                            </p>
                            <p style="margin:0in 0in 0pt">
                                <font color="#000000" size="3" face="Calibri">&nbsp;</font>
                            </p>
                            <p style="margin:0in 0in 0pt">
                                <font size="3"><font color="#000000"><font face="Calibri">The most interesting aspects of the Facebook mechanical design: 1) full building ducting with huge plenum areas, 2) no-process based cooling, 3) mist-based evaporative cooling, 4) large, efficient impellers with variable frequency drive, and 4) full wall, low-resistance filtration.</font></font></font>
                            </p>
                            <p>
                                &nbsp;
                            </p>
                            <p>
                                <img border="0" src="http://perspectives.mvdirona.com/content/binary/FacebookPrinevilleDataCenter.jpg">
                            </p>
                            <p style="margin:0in 0in 0pt">
                                <font size="3"><font color="#000000"><font face="Calibri">I’ve been saying for years that mechanical systems are where the largest opportunities for improvement lie and are the area where most innovation is most required. The Facebook Prineville Facility is most of the way there and one of the most efficient mechanical system designs I’ve come across. Very elegant and very efficient.</font></font></font>
                            </p>
                            <p style="margin:0in 0in 0pt">
                                <font color="#000000" size="3" face="Calibri">&nbsp;</font>
                            </p>
                            <p style="margin:0in 0in 0pt">
                                <font size="3"><font color="#000000"><font face="Calibri"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> --jrh</font></font></font>
                            </p>
                            <p style="margin:0in 0in 0pt">
                                <font color="#000000" size="3" face="Calibri">&nbsp;</font>
                            </p>
                            <p style="margin:0in 0in 0pt">
                                <a name="_MailAutoSig" id="_MailAutoSig"><span style="font-size:9pt"><font color="#000000"><font face="Calibri">James Hamilton</font></font></span></a>
                            </p>
                            <p style="margin:0in 0in 0pt">
                                <span><span style="font-size:9pt"><font color="#000000" face="Calibri">e:</font></span></span> <a href="mailto:jrh@mvdirona.com"><font face="Calibri"><span><span style="color:blue;font-size:9pt">jrh@mvdirona.com</span></span></font></a>
                            </p>
                            <p style="margin:0in 0in 0pt">
                                <span><span style="font-size:9pt"><font color="#000000" face="Calibri">w:</font></span></span> <a href="http://www.mvdirona.com/"><font face="Calibri"><span><span style="color:blue;font-size:9pt">http://www.mvdirona.com</span></span></font></a>
                            </p>
                            <p style="margin:0in 0in 0pt">
                                <span><span style="font-size:9pt"><font color="#000000" face="Calibri">b:</font></span></span> <a href="http://blog.mvdirona.com/"><font face="Calibri"><span><span style="color:blue;font-size:9pt">http://blog.mvdirona.com</span></span></font></a> <span><span style="font-size:9pt"><font color="#000000" face="Calibri">/</font></span></span> <a href="http://perspectives.mvdirona.com/"><font face="Calibri"><span><span style="color:blue;font-size:9pt">http://perspectives.mvdirona.com</span></span></font></a>
                            </p>
                            <p style="margin:0in 0in 0pt">
                                <font color="#000000" size="3" face="Calibri">&nbsp;</font>
                            </p><img width="0" height="0" src="http://perspectives.mvdirona.com/aggbug.ashx?id=11fe23b7-c866-4374-9ff3-4dd98a82b4b2"><br>
                            <hr>
                            From <a href="http://perspectives.mvdirona.com">Perspectives</a>.
                        </blockquote>
                    </div>
                    <p class="bookmark-source">
                        Source: <a href="http://perspectives.mvdirona.com/2011/04/09/OpenComputeMechanicalSystemDesign.aspx">http://perspectives.mvdirona.com/2011/04/09/OpenComputeMechanicalSystemDesign.aspx</a>
                    </p>
                </div>
            </article>
            <nav id="post-nav"></nav><script id="discus-javascript">
    var disqus_shortname = 'improbable';

                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                    document.getElementsByTagName('body')[0].appendChild(dsq);
                })();
            </script><a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
            <div id="disqus_thread"></div>
        </section>
        <footer id="site-footer" class="nocontent">
            <p>
                This site is purely my personal work and does not reflect the views of my employer.
            </p>
            <p class="license">
                <a class="icon" rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png"></a> This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.
            </p>
        </footer><script async="" defer src="/static/js/common.js">
</script><script id="google-analytics">
    var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-2097834-1']);
            _gaq.push(['_setDomainName', 'improbable.org']);
            _gaq.push(['_trackPageview']);

            (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();
        </script>
    </body>
</html>
