<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Thoughts on Python and Python Cookbook Recipes to Whet Your Appetite</title>
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <link rel="stylesheet" href="/static/css/main.min.css" type="text/css" media="all">
        <!--[if lte IE 8]>
            <link rel="stylesheet" href="/static/css/ie-fixes.css" type="text/css" media="all">
            <script src="/static/js/html5shiv.js"></script>
        <![endif]-->

        <meta http-equiv="last-modified" content="Fri, 10 Jun 2011 03:33:42 GMT">
        <link rel="alternate" type="application/atom+xml" title="All Posts (Atom)" href="/feeds/all.atom">
        <link rel="alternate" type="application/rss+xml" title="All Posts (RSS)" href="/feeds/all.rss">
        <link rel="icon" type="image/jpeg" sizes="287x287" href="/static/img/favicon-287x287.jpg">
        <link rel="icon" type="image/jpeg" sizes="128x128" href="/static/img/favicon-128x128.jpg">
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-2097834-1', 'auto');
            ga('send', 'pageview');
        </script>
    </head>
    <body class="blog post_detail" itemscope itemtype="http://schema.org/BlogPosting">
        <nav id="site-nav">
            <header id="about">
                <h1><a href="/about/">Chris Adams</a></h1>
                <h2>Programmer, cyclist, photographer</h2>
            </header>
            <ul class="links">
                <li>
                    <a href="/">Home</a>
                </li>
                <li>
                    <a href="/about/">About</a>
                </li>
                <li>
                    <a href="/feeds/all.atom" title="Site Feed">Site Feed</a>
                </li>
            </ul>
            <ul class="social-networks">
                <li>
                    <a href="https://github.com/acdha" rel="me">Github</a>
                </li>
                <li>
                    <a href="https://bitbucket.org/acdha" rel="me">Bitbucket</a>
                </li>
                <li>
                    <a href="https://pinboard.in/u:acdha/" rel="me">Pinboard</a>
                </li>
                <li>
                    <a href="https://twitter.com/acdha" rel="me">Twitter</a>
                </li>
                <li>
                    <a href="https://www.flickr.com/photos/acdha" rel="me">Flickr</a>
                </li>
                <li>
                    <a href="https://www.linkedin.com/in/acdha" rel="me">LinkedIn</a>
                </li>
            </ul>
            <div id="site-search"></div>
        </nav>
        <section id="main">
            <article class="post">
                <header>
                    <meta itemprop="dateCreated" content="2011-06-09T23:33:42-04:00">
                    <meta itemprop="dateModified" content="2011-06-09T23:33:42-04:00">
                    <time class="date" itemprop="datePublished" datetime="2011-06-10T03:33:42+00:00">Jun 10</time>
                    <h2 class="" itemprop="title">Thoughts on Python and Python Cookbook Recipes to Whet Your Appetite</h2>
                </header>

                <div class="body" itemprop="articleBody"><div class="googlereader description" data-google-id="tag:google.com,2005:reader/item/063df335088e3f44">
                        <blockquote>
                            <p>
                                Dave Beazley and myself are, at this point, waist deep into producing Python Cookbook 3rd Edition. We haven’t really taken the approach of going chapter by chapter, in order. Rather, we’ve hopped around to tackle chapters one or the other finds interesting or in-line with what either of us happens to be working with a lot currently.
                            </p>
                            <p>
                                For me, it’s testing (chapter 8, for those following along with the 2nd edition), and for Dave, well, I secretly think Dave touches every aspect of Python at least every two weeks whether he needs to or not. He’s just diabolical that way. He’s working on processes and threads at the moment, though (chapter 9 as luck would have it).
                            </p>
                            <p>
                                In both chapters (also a complete coincidence), we’ve decided to toss every scrap of content and start from scratch.
                            </p>
                            <h2>
                                Why on Earth Would You Do That?
                            </h2>
                            <p>
                                Consider this: when the last edition (2nd ed) of the Python Cookbook was released, it went up to Python 2.4. Here’s a woefully incomplete list of the superamazing awesomeness that didn’t even exist when the 2nd Edition was released:
                            </p>
                            <ul>
                                <li>Modules:
                                    <ul>
                                        <li>ElementTree
                                        </li>
                                        <li>ctypes
                                        </li>
                                        <li>sqlite3
                                        </li>
                                        <li>functools
                                        </li>
                                        <li>cProfile
                                        </li>
                                        <li>spwd
                                        </li>
                                        <li>uuid
                                        </li>
                                        <li>hashlib
                                        </li>
                                        <li>wsgiref
                                        </li>
                                        <li>json
                                        </li>
                                        <li>multiprocessing
                                        </li>
                                        <li>fractions
                                        </li>
                                        <li>plistlib
                                        </li>
                                        <li>argparse
                                        </li>
                                        <li>importlib
                                        </li>
                                        <li>sysconfig
                                        </li>
                                    </ul>
                                </li>
                                <li>Other Stuff
                                    <ul>
                                        <li>The ‘with’ statement and context managers*
                                        </li>
                                        <li>The ‘any’ and ‘all’ built-in functions
                                        </li>
                                        <li>collections.defaultdict
                                        </li>
                                        <li>advanced string formatting (the ‘format()’ method)
                                        </li>
                                        <li>class decorators
                                        </li>
                                        <li>collections.OrderedDict
                                        </li>
                                        <li>collections.Counter
                                        </li>
                                        <li>collections.namedtuple()
                                        </li>
                                        <li>the ability to send data *into* a generator (yield as an expression)
                                        </li>
                                        <li>heapq.merge()
                                        </li>
                                        <li>itertools.combinations
                                        </li>
                                        <li>itertools.permutations
                                        </li>
                                        <li>operator.methodcaller()
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                            <p>
                                * If memory serves, the ‘with’ statement was available in 2.4 via future import.
                            </p>
                            <p>
                                Again, woefully incomplete, and that’s only the stuff that’s in the 2.x version! I don’t even mention 3.x-only things like concurrent.futures. From this list alone, though, you can probably discern that the way we think about solving problems in Python, and what our code looks like these days, is fundamentally altered forever in comparison to the 2.4 days.
                            </p>
                            <p>
                                To give a little more perspective: Python core development moved from CVS to Subversion well after the 2nd edition of the book hit the shelves. They’re now on Mercurial. We skipped the entire Subversion era of Python development.
                            </p>
                            <p>
                                The addition of any() and all() to the language by themselves made at least 3-4 recipes in chapter 1 (strings) one-liners. I had to throw at least one recipe away because people just don’t need three recipes on how to use any() and all(). The idea that you have a chapter covering processes and threads without a multiprocessing module is just weird to think about these days. The with statement, context managers, class decorators, and enhanced generators have fundamentally changed how we think about certain operations.
                            </p>
                            <p>
                                Also something to consider: I haven’t mentioned a single third-party module! Mock, tox, and nosetests all support Python 3. At least Mock and tox didn’t exist in the old days (I don’t know about nose off-hand). Virtualenv and pip didn’t exist (both also support Python 3). So, not only has our <em>code</em> changed, but <em>how</em> we code, test, deploy, and generally do our jobs with Python has also changed.
                            </p>
                            <p>
                                Event-based frameworks aside from Twisted are not covered in the 2nd edition if they existed at all, and Twisted does not support Python 3.
                            </p>
                            <p>
                                WSGI, and all it brought with it, did not exist to my knowledge in the 2.4 days.
                            </p>
                            <p>
                                We need a <a href="http://www.beloit.edu/mindset/">Mindset List</a> for Python programmers!
                            </p>
                            <h2>
                                So, What’s Your Point
                            </h2>
                            <p>
                                My point is that I suspect some people have been put off of submitting Python 3 recipes, because they don’t program in Python 3, and if you’re one of them, you need to know that there’s a lot of ground to cover between the 2nd and 3rd editions of the book. If you have a recipe that happens to be written in Python 2.6 using features of the language that didn’t exist in Python 2.4, submit it. You don’t even have to port it to Python 3 if you don’t want to or don’t have the time or aren’t interested or whatever.
                            </p>
                            <h2>
                                Are You Desperate for Recipes or Something?
                            </h2>
                            <p>
                                Well, not really. I mean, if you all want to wait around while Dave and I crank out recipe after recipe, the book will still kick ass, but it’ll take longer, and the book’s world view will be pretty much limited to how Dave and I see things. I think everyone loses if that’s the case. Having been an editor of a couple of different technical publications, I can say that my two favorite things about tech magazines are A) The timeliness of the articles (if Python Magazine were still around, we would’ve covered tox by now), and B) The broad perspective it offers by harvesting the wisdom and experiences of a vast sea of craftspeople.
                            </p>
                            <h2>
                                What Other Areas Are In Need?
                            </h2>
                            <p>
                                Network programming and system administration. For whatever reason, the 2nd edition’s view of system administration is stuff like checking your Windows sound system and spawning an editor from a script. I guess you can argue that these are tasks for a sysadmin, but it’s just not the meat of what sysadmins do for a living. I’ll admit to being frustrated by this because I spent some time searching around for Python 3-compatible modules for SNMP and LDAP and came up dry, but there’s still all of that sar data sitting around that nobody ever seems to use and is amazing, and is easy to parse with Python. There are also terminal logging scripts that would be good.
                            </p>
                            <p>
                                Web programming and fat client GUIs also need some love. The GUI recipes that don’t use tkinter mostly use wxPython, which isn’t Python 3-compatible. Web programming is CGI in the 2nd edition, along with RSS feed aggregation, Nevow, etc. I’d love to see someone write a stdlib-only recipe for posting an image to a web server, and then maybe more than one recipe on how to easily implement a server that accepts them.
                            </p>
                            <p>
                                Obviously, any recipes that solve a problem that others are likely to have that use any of the aforementioned modules &amp; stuff that didn’t exist in the last edition would really rock.
                            </p>
                            <h2>
                                How Do I Submit?
                            </h2>
                            <ol>
                                <li>Post the code and an explanation of the problem it solves somewhere on the internet, or send it (or a link to it) via email to PythonCookbook@oreilly.com or to @bkjones on Twitter.
                                </li>
                                <li>That’s it.
                                </li>
                            </ol>
                            <p>
                                We’ll take care of the rest. “The rest” is basically us pinging O’Reilly, who will contact you to sign something that says it’s cool if we use your code in the book. You’ll be listed in the credits for that recipe, following the same pattern as previous editions. If it goes in relatively untouched, you’ll be the only name in the credits (also following the pattern of previous editions).
                            </p>
                            <h2>
                                What Makes a Good Recipe?
                            </h2>
                            <p>
                                A perfect recipe that is almost sure to make it into the cookbook would ideally meet most of the criteria set out in my <a href="http://www.protocolostomy.com/2010/12/20/the-makings-of-a-great-python-cookbook-recipe/">earlier blog post on that very topic</a>. Keep in mind that the ability to illustrate a language feature in code takes precedence over the eloquence of any surrounding prose.
                            </p>
                            <h2>
                                What If…
                            </h2>
                            <p>
                                I sort of doubt this will come up, but if we’ve already covered whatever is in your recipe, we’ll weigh that out based on the merits of the recipes. I want to say we’ll give new authors an edge in the decision, but for an authoritative work, a meritocracy seems the only valid methodology.
                            </p>
                            <p>
                                If you think you’re not a good writer, then write the code, and a 2-line description of the problem it solves, and a 2-line description of how it works. We’ll flesh out the text if need be.
                            </p>
                            <p>
                                If you just can’t think of a good recipe, grep your code tree(s) for just the import statements, and look for ideas by answering questions on Stackoverflow or the various mailing lists.
                            </p>
                            <p>
                                If you think whatever you’re doing with the language isn’t very cool, then stop thinking that a cookbook is about being cool. It’s about being practical, and showing programmers possibly less senior than yourself an approach to a problem that isn’t completely insane or covered in warts, even if the problem is relatively simple.
                            </p>
                            <div>
                                <a href="http://feeds.feedburner.com/~ff/MusingsOfAnAnonymousGeek?a=OM6OPJHfrcg:Bcd01F8_C-M:yIl2AUoC8zA"><img src="http://feeds.feedburner.com/~ff/MusingsOfAnAnonymousGeek?d=yIl2AUoC8zA" border="0"></a> <a href="http://feeds.feedburner.com/~ff/MusingsOfAnAnonymousGeek?a=OM6OPJHfrcg:Bcd01F8_C-M:bcOpcFrp8Mo"><img src="http://feeds.feedburner.com/~ff/MusingsOfAnAnonymousGeek?d=bcOpcFrp8Mo" border="0"></a> <a href="http://feeds.feedburner.com/~ff/MusingsOfAnAnonymousGeek?a=OM6OPJHfrcg:Bcd01F8_C-M:V_sGLiPBpWU"><img src="http://feeds.feedburner.com/~ff/MusingsOfAnAnonymousGeek?i=OM6OPJHfrcg:Bcd01F8_C-M:V_sGLiPBpWU" border="0"></a>
                            </div><img src="http://feeds.feedburner.com/~r/MusingsOfAnAnonymousGeek/~4/OM6OPJHfrcg" height="1" width="1">
                        </blockquote>
                    </div>
                    <p class="bookmark-source">
                        Source: <a href="http://www.protocolostomy.com/2011/06/09/thoughts-on-python-and-python-cookbook-recipes-to-whet-your-appetite/?utm_source=feedburner&amp;utm_medium=feed&amp;utm_campaign=Feed%3A+MusingsOfAnAnonymousGeek+%28Musings+of+an+anonymous+geek%29">http://www.protocolostomy.com/2011/06/09/thoughts-on-python-and-python-cookbook-recipes-to-whet-your-appetite/?utm_source=feedburner&amp;utm_medium=feed&amp;utm_campaign=Feed%3A+MusingsOfAnAnonymousGeek+%28Musings+of+an+anonymous+geek%29</a>
                    </p>
                </div>
            </article>

            <nav id="post-nav">


            </nav>

            <script id="discus-javascript">
                var disqus_shortname = 'improbable';

                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
                    document.getElementsByTagName('body')[0].appendChild(dsq);
                })();
            </script>

            <a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
            <div id="disqus_thread"></div>
        </section>

        <footer id="site-footer" class="nocontent">
            <p>
                This site is purely my personal work and does not reflect the views of my employer.
            </p>
            <p class="license">
                <a class="icon" rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/3.0/88x31.png"></a>
                This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.
            </p>
        </footer>

        <script async src="/static/js/common.js"></script>
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/run_prettify.min.js" integrity="sha256-hj+5FRlAuvAFANiefn0PpJYCkV1X4QT9EgiPd+6QnCw=" crossorigin="anonymous"></script>
    </body>
</html>
