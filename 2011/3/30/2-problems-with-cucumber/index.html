<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>
            2 problems with Cucumber
        </title>
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <link rel="stylesheet" href="/static/css/main.min.css" type="text/css" media="all"><!--[if lte IE 8]>
            <link rel="stylesheet" href="/static/css/ie-fixes.css" type="text/css" media="all">
            <script src="/static/js/html5shiv.js"></script>
        <![endif]-->
        <meta http-equiv="last-modified" content="Wed, 30 Mar 2011 22:42:43 GMT">
        <link rel="alternate" type="application/atom+xml" title="All Posts (Atom)" href="/feeds/all.atom">
        <link rel="alternate" type="application/rss+xml" title="All Posts (RSS)" href="/feeds/all.rss">
        <link rel="icon" type="image/jpeg" sizes="287x287" href="/static/img/favicon-287x287.jpg">
        <link rel="icon" type="image/jpeg" sizes="128x128" href="/static/img/favicon-128x128.jpg">
        <script type="application/javascript">
var _prum={id:"5166be01e6e53d1007000001"};var PRUM_EPISODES=PRUM_EPISODES||{};PRUM_EPISODES.q=[];PRUM_EPISODES.mark=function(b,a){PRUM_EPISODES.q.push(["mark",b,a||new Date().getTime()])};PRUM_EPISODES.measure=function(b,a,b){PRUM_EPISODES.q.push(["measure",b,a,b||new Date().getTime()])};PRUM_EPISODES.done=function(a){PRUM_EPISODES.q.push(["done",a])};PRUM_EPISODES.mark("firstbyte");(function(){var b=document.getElementsByTagName("script")[0];var a=document.createElement("script");a.type="text/javascript";a.async=true;a.charset="UTF-8";a.src="//rum-static.pingdom.net/prum.min.js";b.parentNode.insertBefore(a,b)})();
        </script>
    </head>
    <body class="blog post_detail" itemscope itemtype="http://schema.org/BlogPosting">
        <nav id="site-nav">
            <header id="about">
                <h1>
                    <a href="/about/">Chris Adams</a>
                </h1>
                <h2>
                    Programmer, cyclist, photographer
                </h2>
            </header>
            <ul class="links">
                <li>
                    <a href="/">Home</a>
                </li>
                <li>
                    <a href="/about/">About</a>
                </li>
                <li>
                    <a href="/feeds/all.atom" title="Site Feed">Site Feed</a>
                </li>
            </ul>
            <ul class="social-networks">
                <li>
                    <a href="https://github.com/acdha" rel="me">Github</a>
                </li>
                <li>
                    <a href="http://bitbucket.org/acdha" rel="me">Bitbucket</a>
                </li>
                <li>
                    <a href="http://delicious.com/acdha" rel="me">del.icio.us</a>
                </li>
                <li>
                    <a href="http://twitter.com/acdha" rel="me">Twitter</a>
                </li>
                <li>
                    <a href="https://plus.google.com/116562742092842686896?rel=author" rel="me">Google+</a>
                </li>
                <li>
                    <a href="http://www.flickr.com/photos/acdha" rel="me">Flickr</a>
                </li>
                <li>
                    <a href="http://www.linkedin.com/in/acdha" rel="me">LinkedIn</a>
                </li>
                <li>
                    <a href="http://connect.garmin.com/explore?owner=acdha" rel="me">Garmin Connect</a>
                </li>
            </ul>
            <div id="site-search"></div>
        </nav>
        <section id="main">
            <article class="post">
                <header>
                    <meta itemprop="dateCreated" content="2011-03-30T18:42:43-04:00">
                    <meta itemprop="dateModified" content="2011-03-30T18:42:43-04:00"><time class="date" itemprop="datePublished" datetime="2011-03-30T22:42:43+00:00">Mar 30</time>
                    <h2 itemprop="title">
                        2 problems with Cucumber
                    </h2>
                </header>
                <div class="body" itemprop="articleBody">
                    <div class="googlereader description" data-google-id="tag:google.com,2005:reader/item/050a209c770bbda0">
                        <p class="annotation">
                            This is the part I've never understood about Cucumber: the number of non-developers I've worked with who can write tests at that level is perhaps 1-2; the effort ends up feeling strongly like COBOL's promise that managers and business people would write code. It feels like there'd be a lot more value in making it easier for developers to maintain tests rather than making so many compromises in the hope that they won't need to.
                        </p>
                        <blockquote>
                            The most popular technology for acceptance testing in Rails applications is Cucumber.<br>
                            <br>
                            I used to be a big fan of Cucumber. We've been using it in every project for our customers.<br>
                            <br>
                            From my point of view Cucumber delivers 2 important features:<br>
                            <ul>
                                <li>A special language readable to non-programmers (Gherkin)
                                </li>
                                <li>Acceptance tests - embedded browser driver - Webrat/Capybara etc
                                </li>
                            </ul>When I started using Cucumber (and prior to that I used Rspec Stories) it was mostly because of the acceptance tests part. Cucumber offered the whole philosophy in the framework, a philosophy based on the <b>importance of communication with customers</b> through the scenarios. The communication was based on a language called Gherkin.<br>
                            <br>
                            Cucumber became a whole <b>framework for managing requirements</b>. The implementation is based on step definitions which we could implement in Ruby. Cucumber also gives us tools for running the acceptance tests, tools like tagging, features like documentation etc.<br>
                            <br>
                            Thanks to tags we could run only the tests that are responsible for a specific part of the system. Another use case is to tag new scenarios with @wip and those are not run.<br>
                            <br>
                            The biggest Cucumber project we have at the moment contains almost <b>600 scenarios</b>. The biggest project I'm aware of has 2000 scenarios. <b>It's a lot of "code".</b><br>
                            <br>
                            With every new project I hoped that Cucumber can become one of the communication tools between our team and the customer. <b>Only once I managed to get the customer write the scenarios</b>, however the quality wasn't good and they had to be rewritten by a developer.<br>
                            <br>
                            Every now and then we could send the scenario to the customer to get their approval that they are correct. In this cases the customer was able to read them easily. However, <b>it was difficult to convince the customer to review the scenarios on a daily basis</b>. They preferred writing a document or using a ticketing system like Redmine. The result is that we have requirements in 2 places - tickets and scenarios. It's not perfect, but it works well enough.<br>
                            <br>
                            My conclusion for now is:<br>
                            <br>
                            <b>1. It's difficult to get the customer to write/read Cucumber scenarios</b><br>
                            <br>
                            We gain a lot from the acceptance tests feature of Cucumber. Every functionality is covered by scenarios and it creates a nice regression weapon in cases where we need to change something in the application. Upgrading from Rails 2 to Rails 3 was one of such occasions. Unit tests would not be enough.<br>
                            <br>
                            Recently I noticed that it's getting harder to manage the scenarios written the Cucumber way. There are many patterns how to keep the steps definitions, how to split the scenario etc.<br>
                            <br>
                            I realized that it's the same kind of problem when you write a procedural code with no objects.<br>
                            <br>
                            <b>2. Cucumber scenarios most of the time are procedural programming.&nbsp;</b><br>
                            <br>
                            With procedural programming it's hard to keep data and&nbsp;behaviour&nbsp;together. For simpler apps procedural programming is fine but for a bigger codebase I personally prefer object-oriented programing. I suppose it would be possible to include some object-orientation into Cucumber but I'm not sure if it would feel right and if it's worth the effort.<br>
                            <br>
                            <b>Summary</b><br>
                            <br>
                            I see two problems with Cucumber and its usage in our projects:<br>
                            It's hard to get customer working with scenarios and it's hard for developers to work with a bigger Cucumber codebase.<br>
                            <br>
                            If you have customers working with Cucumber - congratulations! If you manage to deal with the procedural style of Cucumber - congratulations!<br>
                            <br>
                            <b>Is there any solution?&nbsp;</b><br>
                            <b><br></b><br>
                            I started experimenting with a new way of acceptance testing based on Capybara and an object-oriented approach. It spread very quickly among the Wroc≈Çaw Rails developers so it seems to be an idea worth investigating. I will present how it works in my next blog post. Stay tuned.<br>
                            <br>
                            If you read this far you should <a href="http://www.twitter.com/andrzejkrzywda" rel="nofollow"><img alt="Follow andrzejkrzywda on Twitter" src="http://twitter-badges.s3.amazonaws.com/follow_me-a.png"></a> and <a href="http://feeds.feedburner.com/andrzejkrzywda">subscribe to my RSS</a>
                            <div>
                                <img width="1" height="1" src="https://blogger.googleusercontent.com/tracker/7821856652257554779-4851054849657508719?l=andrzejonsoftware.blogspot.com" alt="">
                            </div>
                        </blockquote>
                    </div>
                    <p class="bookmark-source">
                        Source: <a href="http://andrzejonsoftware.blogspot.com/2011/03/2-problems-with-cucumber.html">http://andrzejonsoftware.blogspot.com/2011/03/2-problems-with-cucumber.html</a>
                    </p>
                </div>
            </article>
            <nav id="post-nav"></nav><script id="discus-javascript">
    var disqus_shortname = 'improbable';

                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                    document.getElementsByTagName('body')[0].appendChild(dsq);
                })();
            </script><a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
            <div id="disqus_thread"></div>
        </section>
        <footer id="site-footer">
            <p>
                This site is purely my personal work and does not reflect the views of my employer.
            </p>
            <p class="license">
                <a class="icon" rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png"></a> This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.
            </p>
        </footer><script async="" defer src="/static/js/common.js">
</script><script id="google-analytics">
    var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-2097834-1']);
            _gaq.push(['_setDomainName', 'improbable.org']);
            _gaq.push(['_trackPageview']);

            (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();
        </script>
    </body>
</html>
