<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Python development switches to Mercurial source control</title>
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <link rel="stylesheet" href="/static/css/main.min.css" type="text/css" media="all">
        <!--[if lte IE 8]>
            <link rel="stylesheet" href="/static/css/ie-fixes.css" type="text/css" media="all">
            <script src="/static/js/html5shiv.js"></script>
        <![endif]-->

        <meta http-equiv="last-modified" content="Fri, 18 Mar 2011 08:59:07 GMT">
        <link rel="alternate" type="application/atom+xml" title="All Posts (Atom)" href="/feeds/all.atom">
        <link rel="alternate" type="application/rss+xml" title="All Posts (RSS)" href="/feeds/all.rss">
        <link rel="icon" type="image/jpeg" sizes="287x287" href="/static/img/favicon-287x287.jpg">
        <link rel="icon" type="image/jpeg" sizes="128x128" href="/static/img/favicon-128x128.jpg">
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-2097834-1', 'auto');
            ga('send', 'pageview');
        </script>
    </head>
    <body class="blog post_detail" itemscope itemtype="http://schema.org/BlogPosting">
        <nav id="site-nav">
            <header id="about">
                <h1><a href="/about/">Chris Adams</a></h1>
                <h2>Programmer, cyclist, photographer</h2>
            </header>
            <ul class="links">
                <li>
                    <a href="/">Home</a>
                </li>
                <li>
                    <a href="/about/">About</a>
                </li>
                <li>
                    <a href="/feeds/all.atom" title="Site Feed">Site Feed</a>
                </li>
            </ul>
            <ul class="social-networks">
                <li>
                    <a href="https://github.com/acdha" rel="me">Github</a>
                </li>
                <li>
                    <a href="https://bitbucket.org/acdha" rel="me">Bitbucket</a>
                </li>
                <li>
                    <a href="https://pinboard.in/u:acdha/" rel="me">Pinboard</a>
                </li>
                <li>
                    <a href="https://twitter.com/acdha" rel="me">Twitter</a>
                </li>
                <li>
                    <a href="https://www.flickr.com/photos/acdha" rel="me">Flickr</a>
                </li>
                <li>
                    <a href="https://www.linkedin.com/in/acdha" rel="me">LinkedIn</a>
                </li>
            </ul>
            <div id="site-search"></div>
        </nav>
        <section id="main">
            <article class="post">
                <header>
                    <meta itemprop="dateCreated" content="2011-03-18T04:59:07-04:00">
                    <meta itemprop="dateModified" content="2011-03-18T04:59:07-04:00">
                    <time class="date" itemprop="datePublished" datetime="2011-03-18T08:59:07+00:00">Mar 18</time>
                    <h2 class="" itemprop="title">Python development switches to Mercurial source control</h2>
                </header>

                <div class="body" itemprop="articleBody"><div class="googlereader description" data-google-id="tag:google.com,2005:reader/item/abe03c52fbe0be4d">
                        <blockquote>
                            <p>
                                The official CPython core development team has finally switched from Subversion to Mercurial, after <a href="http://www.python.org/dev/peps/pep-0374/">years</a> of <a href="http://www.python.org/dev/peps/pep-0385/">planning</a>. This is very good news for both core developers and casual contributors.
                            </p>
                            <div align="center">
                                <img alt="http://eli.thegreenplace.net/wp-content/uploads/2011/03/pythonmercurial.png" src="http://eli.thegreenplace.net/wp-content/uploads/2011/03/pythonmercurial.png">
                            </div>
                            <p>
                                Working with Subversion when you can’t commit changes is very frustrating, because you’re basically without source control. For experienced developers accustomed to having a VCS to protect them at all times, this is hard to get used to. Personally, before I became a core Python developer I was using <a href="http://eli.thegreenplace.net/2010/07/23/contributing-to-python/">my own Mercurial clone</a> to work on patches locally before submitting them to the Issue tracker.
                            </p>
                            <p>
                                Now, everyone interested contributing to Python can clone the repository and do his work locally, committing changes to his heart’s wishes and enjoying all the benefits of source control. I think this makes the contribution process easier and has a chance to attract more contributors to the project, which would be great. Not to mention that Mercurial is IMHO a better and more powerful VCS than Subversion in general.
                            </p>
                            <p>
                                Core developers also benefit from the power of Mercurial vs. Subversion, especially when working on non-trivial patches that take longer than a couple of hours to develop. These changes can be managed either by commits to a local repo (with a collapse of all commits to a single one before pushing), or using the <a href="http://mercurial.selenic.com/wiki/MqExtension">mq extension</a> (which is recommended by the new developer guide).
                            </p>
                            <p>
                                The full local repo is also a blessing in at least two other use cases:
                            </p>
                            <ol>
                                <li>Perusing the repo logs and diffing old revisions is now almost instant, since the whole repo is local – this is an important time-saver when doing some archaeological research on the code-base (which has to be done quite often in complex long-running projects).
                                </li>
                                <li>You have all the history and can commit changes even when offline.
                                </li>
                            </ol>
                            <p>
                                Mercurial manages these repositories in a highly space-efficient manner. On my Ubuntu machine, a Mercurial repo of py3k (the latest development revision) with the executables and docs built is only 50% larger than the corresponding Subversion working directory. Not much of an overhead for having the full project history locally. Mercurial’s local clones use hard links, so having multiple clones of the same repo locally is almost free in terms of disk space.
                            </p>
                            <p>
                                Moving to Mercurial is also a kind-of dogfooding for Python, since Mercurial is one of the best known pure-Python projects. Being written in Python means that it’s very easy to develop plugins and custom extensions for Mercurial. In fact, the Python core devs have already implemented a few useful plugins – for example one that sends automatic messages to the issue tracker once a commit is made that mentions some issue. This is very useful for "done, committed in revision XXX" notes on the tracker, which one used to have to remember adding, and now are done automatically.
                            </p><img src="http://eli.thegreenplace.net/?ak_action=api_record_view&amp;id=2459&amp;type=feed" alt="">
                            <p>
                                Related posts:
                            </p>
                            <ol>
                                <li>
                                    <a href="http://eli.thegreenplace.net/2010/07/23/contributing-to-python/" rel="bookmark" title="Permanent Link: Contributing to Python">Contributing to Python</a> <small>Update (13.01.2011): Last week I was granted commit rights to...</small>
                                </li>
                                <li>
                                    <a href="http://eli.thegreenplace.net/2010/05/22/migrating-my-personal-projects-to-mercurial/" rel="bookmark" title="Permanent Link: Migrating my personal projects to Mercurial">Migrating my personal projects to Mercurial</a> <small>Introduction My first acquaintance with version control was soon...</small>
                                </li>
                                <li>
                                    <a href="http://eli.thegreenplace.net/2008/12/06/book-review-beginning-game-development-with-python-and-pygame-by-will-mcgugan/" rel="bookmark" title="Permanent Link: Book review: “Beginning game development with Python and Pygame” by Will McGugan">Book review: “Beginning game development with Python and Pygame” by Will McGugan</a> <small>This is a small book (280 pages of core material...</small>
                                </li>
                            </ol>
                        </blockquote>
                    </div>
                    <p class="bookmark-source">
                        Source: <a href="http://eli.thegreenplace.net/2011/03/18/python-development-switches-to-mercurial-source-control/">http://eli.thegreenplace.net/2011/03/18/python-development-switches-to-mercurial-source-control/</a>
                    </p>
                </div>
            </article>

            <nav id="post-nav">


            </nav>

            <script id="discus-javascript">
                var disqus_shortname = 'improbable';

                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
                    document.getElementsByTagName('body')[0].appendChild(dsq);
                })();
            </script>

            <a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
            <div id="disqus_thread"></div>
        </section>

        <footer id="site-footer" class="nocontent">
            <p>
                This site is purely my personal work and does not reflect the views of my employer.
            </p>
            <p class="license">
                <a class="icon" rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/3.0/88x31.png"></a>
                This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.
            </p>
        </footer>

        <script async src="/static/js/common.js"></script>
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/run_prettify.min.js" integrity="sha256-hj+5FRlAuvAFANiefn0PpJYCkV1X4QT9EgiPd+6QnCw=" crossorigin="anonymous"></script>
    </body>
</html>
