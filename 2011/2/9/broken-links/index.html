<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Broken Links</title>
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <link rel="stylesheet" href="/static/css/main.min.css" type="text/css" media="all">
        <!--[if lte IE 8]>
            <link
                rel="stylesheet"
                href="/static/css/ie-fixes.css"
                type="text/css"
                media="all"
            />
            <script src="/static/js/html5shiv.js"></script>
        <![endif]-->

        <meta http-equiv="last-modified" content="Sat, 12 Feb 2011 00:08:08 GMT">
        <link rel="alternate" type="application/atom+xml" title="All Posts (Atom)" href="/feeds/all.atom">
        <link rel="alternate" type="application/rss+xml" title="All Posts (RSS)" href="/feeds/all.rss">
        <link rel="icon" type="image/jpeg" sizes="287x287" href="/static/img/favicon-287x287.jpg">
        <link rel="icon" type="image/jpeg" sizes="128x128" href="/static/img/favicon-128x128.jpg">
    </head>
    <body class="blog post_detail" itemscope itemtype="http://schema.org/BlogPosting">
        <nav id="site-nav">
            <header id="about">
                <h1><a href="/about/">Chris Adams</a></h1>
                <h2>Programmer, cyclist, photographer</h2>
            </header>
            <ul class="links">
                <li>
                    <a href="/">Home</a>
                </li>
                <li>
                    <a href="/about/">About</a>
                </li>
                <li>
                    <a href="/feeds/all.atom" title="Site Feed">Site Feed</a>
                </li>
            </ul>
            <ul class="social-networks">
                <li>
                    <a rel="me" href="https://code4lib.social/@acdha">Mastodon</a>
                </li>
                <li>
                    <a href="https://github.com/acdha" rel="me">Github</a>
                </li>
                <li>
                    <a href="https://bitbucket.org/acdha" rel="me">Bitbucket</a>
                </li>
                <li>
                    <a href="https://pinboard.in/u:acdha/" rel="me">Pinboard</a>
                </li>
                <li>
                    <a href="https://www.flickr.com/photos/acdha" rel="me">Flickr</a>
                </li>
                <li>
                    <a href="https://www.linkedin.com/in/acdha" rel="me">LinkedIn</a>
                </li>
            </ul>
            <div id="site-search"></div>
        </nav>
        <section id="main">
            <article class="post">
                <header>
                    <meta itemprop="dateCreated" content="2011-02-09T15:00:00-04:00">
                    <meta itemprop="dateModified" content="2011-02-09T15:00:00-04:00">
                    <time class="date" itemprop="datePublished" datetime="2011-02-09T19:00:00+00:00">Feb 09</time>
                    <h2 class="" itemprop="title">Broken Links</h2>
                </header>

                <div class="body" itemprop="articleBody"><div class="googlereader description" data-google-id="tag:google.com,2005:reader/item/3bdb79d820e5b070">
                        <blockquote>
                            <div>
                                <p>
                                    I’ve been getting madder and madder about the increasing use of dorky web links; for example, <a href="http://twitter.com/timbray">twitter.com/timbray</a> has become <a href="http://twitter.com/#!/timbray">twitter.com/#!/timbray</a>. Others have too; see <a href="http://isolani.co.uk/blog/javascript/BreakingTheWebWithHashBangs">Breaking the Web with hash-bangs</a> and <a href="http://adactio.com/journal/4346/">Going Postel</a>. It dawns on me that a word of explanation might be in order for those who normally don’t worry about all the bits and pieces lurking inside a Web address.
                                </p>
                                <h2>
                                    How It Works
                                </h2>
                                <p>
                                    Suppose I point my browser at <code>http://twitter.com/timbray</code>. What happens is:
                                </p>
                                <ol>
                                    <li>
                                        <p>
                                            The browser connects to <code>twitter.com</code> over the Internet and sends a query whose payload is the string <code>/timbray</code>.
                                        </p>
                                    </li>
                                    <li>
                                        <p>
                                            Twitter’s server knows what <code>/timbray</code> means and sends back the HTML which represents my tweetstream.
                                        </p>
                                    </li>
                                    <li>
                                        <p>
                                            The browser soaks up that HTML and displays it. The HTML will contain links to all sorts of graphics and chunks of Javascript, which the browser uses to decorate and enhance the display.
                                        </p>
                                    </li>
                                </ol>
                                <p>
                                    On the other hand, when I point the browser at <code>http://twitter.com/#!/timbray</code>, here’s what happens:
                                </p>
                                <ol>
                                    <li>
                                        <p>
                                            The browser pulls apart that address, saving the part after the “#”, namely <code>!/timbray</code>, locally. This part is technically called the “fragment identifier”, but let’s say “hashbang”.
                                        </p>
                                    </li>
                                    <li>
                                        <p>
                                            It connects to <code>twitter.com</code> and sends a more-or-less empty query, because the address was all hashbang.
                                        </p>
                                    </li>
                                    <li>
                                        <p>
                                            The server doesn’t know whose tweetstream is being asked for because that information was in the hashbang. But what it does send includes a link to a (probably large and complex) chunk of JavaScript.
                                        </p>
                                    </li>
                                    <li>
                                        <p>
                                            The browser fetches the JavaScript and runs that code.
                                        </p>
                                    </li>
                                    <li>
                                        <p>
                                            The JavaScript fishes the hashbang (<code>!/timbray</code>, remember?) out of browser memory and, based on its value, pulls down a bunch more bits and pieces from the server and constructs something that looks like my tweetstream.
                                        </p>
                                    </li>
                                </ol>
                                <h2>
                                    How To Be Found
                                </h2>
                                <p>
                                    Web pages are retrieved by lots of things that aren’t browsers. The most obvious examples are search-engine crawlers like Google’s. These things also peel off the hashbang, and since they typically don’t run JavaScript, if you’re not careful, your site just vanished from the world’s search engines.
                                </p>
                                <p>
                                    It turns out that you can arrange to do this and still have a way to be indexed and searched; <a href="http://code.google.com/web/ajaxcrawling/docs/getting-started.html">Google provides instructions</a>. I would describe this process as a hideous kludge; not because the Googlers who cooked it up went off the road, but because the misguided rocket scientists drove these links so far off the road that there wasn’t an unkludgey way back onto it.
                                </p>
                                <h2>
                                    Contracts
                                </h2>
                                <p>
                                    Before events took this bad turn, the contract represented by a link was simple: “Here’s a string, send it off to a server and the server will figure out what it identifies and send you back a representation.” Now it’s along the lines of: “Here’s a string, save the hashbang, send the rest to the server, and rely on being able to run the code the server sends you to use the hashbang to generate the representation.”
                                </p>
                                <p>
                                    Do I need to explain why this is less robust and flexible? This is what we call “tight coupling” and I thought that anyone with a Computer Science degree ought to have been taught to avoid it.
                                </p>
                                <h2>
                                    History
                                </h2>
                                <p>
                                    There was a time when there was a Web but there weren’t search engines. As you might imagine, the Web was much less useful. Because everything was tied together using simple links, when people first had the idea of crawling and indexing, there was nothing getting in the way of building the first search engines. I know because I was one of the people who first had those ideas and built one.
                                </p>
                                <p>
                                    So, my question is: what is the next great Web app that nobody’s built yet that depends on the simple link-identifies-a-resource paradigm, but that now we won’t be seeing?
                                </p>
                                <h2>
                                    Why?
                                </h2>
                                <p>
                                    There is no piece of dynamic AJAXy magic that requires beating the Web to a bloody pulp with a sharp-edged hashbang. Please stop doing it.
                                </p>
                            </div>
                        </blockquote>
                    </div>
                    <p class="bookmark-source">
                        Source: <a href="http://www.tbray.org/ongoing/When/201x/2011/02/09/Hash-Blecch">http://www.tbray.org/ongoing/When/201x/2011/02/09/Hash-Blecch</a>
                    </p>
                </div>
            </article>

            <nav id="post-nav">


            </nav>
        </section>

        <footer id="site-footer" class="nocontent">
            <p>
                This site is purely my personal work and does not reflect the
                views of my employer.
            </p>
            <p class="license">
                <a class="icon" rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width: 0" src="https://i.creativecommons.org/l/by-sa/3.0/88x31.png"></a>
                This work is licensed under a
                <a rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US">Creative Commons Attribution-ShareAlike 3.0 Unported
                    License</a>.
            </p>
        </footer>

        <script async src="/static/js/common.js"></script>
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/run_prettify.min.js" integrity="sha256-hj+5FRlAuvAFANiefn0PpJYCkV1X4QT9EgiPd+6QnCw=" crossorigin="anonymous"></script>
    </body>
</html>
