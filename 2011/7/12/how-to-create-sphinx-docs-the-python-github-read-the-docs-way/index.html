<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>
            How to create Sphinx docs the Python / Github / Read the Docs way
        </title>
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <link rel="stylesheet" href="/static/css/main.min.css" type="text/css" media="all"><!--[if lte IE 8]>
            <link rel="stylesheet" href="/static/css/ie-fixes.css" type="text/css" media="all">
            <script src="/static/js/html5shiv.js"></script>
        <![endif]-->
        <meta http-equiv="last-modified" content="Tue, 12 Jul 2011 05:41:00 GMT">
        <link rel="alternate" type="application/atom+xml" title="All Posts (Atom)" href="/feeds/all.atom">
        <link rel="alternate" type="application/rss+xml" title="All Posts (RSS)" href="/feeds/all.rss">
        <link rel="icon" type="image/jpeg" sizes="287x287" href="/static/img/favicon-287x287.jpg">
        <link rel="icon" type="image/jpeg" sizes="128x128" href="/static/img/favicon-128x128.jpg">
        <script type="application/javascript">
var _prum={id:"5166be01e6e53d1007000001"};var PRUM_EPISODES=PRUM_EPISODES||{};PRUM_EPISODES.q=[];PRUM_EPISODES.mark=function(b,a){PRUM_EPISODES.q.push(["mark",b,a||new Date().getTime()])};PRUM_EPISODES.measure=function(b,a,b){PRUM_EPISODES.q.push(["measure",b,a,b||new Date().getTime()])};PRUM_EPISODES.done=function(a){PRUM_EPISODES.q.push(["done",a])};PRUM_EPISODES.mark("firstbyte");(function(){var b=document.getElementsByTagName("script")[0];var a=document.createElement("script");a.type="text/javascript";a.async=true;a.charset="UTF-8";a.src="//rum-static.pingdom.net/prum.min.js";b.parentNode.insertBefore(a,b)})();
        </script>
    </head>
    <body class="blog post_detail" itemscope itemtype="http://schema.org/BlogPosting">
        <nav id="site-nav">
            <header id="about">
                <h1>
                    <a href="/about/">Chris Adams</a>
                </h1>
                <h2>
                    Programmer, cyclist, photographer
                </h2>
            </header>
            <ul class="links">
                <li>
                    <a href="/">Home</a>
                </li>
                <li>
                    <a href="/about/">About</a>
                </li>
                <li>
                    <a href="/feeds/all.atom" title="Site Feed">Site Feed</a>
                </li>
            </ul>
            <ul class="social-networks">
                <li>
                    <a href="https://github.com/acdha" rel="me">Github</a>
                </li>
                <li>
                    <a href="http://bitbucket.org/acdha" rel="me">Bitbucket</a>
                </li>
                <li>
                    <a href="http://delicious.com/acdha" rel="me">del.icio.us</a>
                </li>
                <li>
                    <a href="http://twitter.com/acdha" rel="me">Twitter</a>
                </li>
                <li>
                    <a href="https://plus.google.com/116562742092842686896?rel=author" rel="me">Google+</a>
                </li>
                <li>
                    <a href="http://www.flickr.com/photos/acdha" rel="me">Flickr</a>
                </li>
                <li>
                    <a href="http://www.linkedin.com/in/acdha" rel="me">LinkedIn</a>
                </li>
                <li>
                    <a href="http://connect.garmin.com/explore?owner=acdha" rel="me">Garmin Connect</a>
                </li>
            </ul>
            <div id="site-search"></div>
        </nav>
        <section id="main">
            <article class="post">
                <header>
                    <meta itemprop="dateCreated" content="2011-07-12T01:41:00-04:00">
                    <meta itemprop="dateModified" content="2011-07-12T01:41:00-04:00"><time class="date" itemprop="datePublished" datetime="2011-07-12T05:41:00+00:00">Jul 12</time>
                    <h2 itemprop="title">
                        How to create Sphinx docs the Python / Github / Read the Docs way
                    </h2>
                </header>
                <div class="body" itemprop="articleBody">
                    <div class="googlereader description" data-google-id="tag:google.com,2005:reader/item/26b220b76ac2bacd">
                        <blockquote>
                            <p>
                                This is a full walkthrough of how to document a Python package, using&nbsp;<a href="https://github.com/audreyr/django-startcbv">https://github.com/audreyr/django-startcbv</a>&nbsp;as the sample package to be documented. &nbsp;It probably works for non-Python packages too.
                            </p>
                            <div>
                                Follow along with documenting a Python package of your own. &nbsp;Or try it with one of those poor, undocumented, lonely Python packages out there!
                            </div>
                            <div>
                                At the command line:
                            </div>
                            <div>
                                <div>
                                    <table cellspacing="0" cellpadding="0">
                                        <tr>
                                            <td>
                                                <pre>
<span rel="#L1">1</span>
<span rel="#L2">2</span>
<span rel="#L3">3</span>
<span rel="#L4">4</span>
</pre>
                                            </td>
                                            <td width="100%">
                                                <div>
                                                    <div>
                                                        pip install Sphinx==1.0.7 (or whatever the latest version is)
                                                    </div>
                                                    <div>
                                                        mkdir docs
                                                    </div>
                                                    <div>
                                                        cd docs
                                                    </div>
                                                    <div>
                                                        sphinx-quickstart
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                            <div>
                                <div>
                                    Enter something like the following at the prompts:
                                </div>
                                <div>
                                    <div>
                                        <table cellspacing="0" cellpadding="0">
                                            <tr>
                                                <td>
                                                    <pre>
<span rel="#L1">1</span>
<span rel="#L2">2</span>
<span rel="#L3">3</span>
<span rel="#L4">4</span>
<span rel="#L5">5</span>
<span rel="#L6">6</span>
<span rel="#L7">7</span>
<span rel="#L8">8</span>
<span rel="#L9">9</span>
<span rel="#L10">10</span>
<span rel="#L11">11</span>
<span rel="#L12">12</span>
<span rel="#L13">13</span>
<span rel="#L14">14</span>
<span rel="#L15">15</span>
<span rel="#L16">16</span>
<span rel="#L17">17</span>
<span rel="#L18">18</span>
<span rel="#L19">19</span>
<span rel="#L20">20</span>
</pre>
                                                </td>
                                                <td width="100%">
                                                    <div>
                                                        <div>
                                                            &gt; Root path for the documentation [.]:
                                                        </div>
                                                        <div>
                                                            &gt; Separate source and build directories (y/N) [n]:
                                                        </div>
                                                        <div>
                                                            &gt; Name prefix for templates and static dir [_]:
                                                        </div>
                                                        <div>
                                                            &gt; Project name: django-startcbv
                                                        </div>
                                                        <div>
                                                            &gt; Author name(s): Audrey Roy
                                                        </div>
                                                        <div>
                                                            &gt; Project version: 0.1
                                                        </div>
                                                        <div>
                                                            &gt; Project release [0.1]:
                                                        </div>
                                                        <div>
                                                            &gt; Source file suffix [.rst]:
                                                        </div>
                                                        <div>
                                                            &gt; Name of your master document (without suffix) [index]:
                                                        </div>
                                                        <div>
                                                            &gt; autodoc: automatically insert docstrings from modules (y/N) [n]: y
                                                        </div>
                                                        <div>
                                                            &gt; doctest: automatically test code snippets in doctest blocks (y/N) [n]:
                                                        </div>
                                                        <div>
                                                            &gt; intersphinx: link between Sphinx documentation of different projects (y/N) [n]:
                                                        </div>
                                                        <div>
                                                            &gt; todo: write "todo" entries that can be shown or hidden on build (y/N) [n]:
                                                        </div>
                                                        <div>
                                                            &gt; coverage: checks for documentation coverage (y/N) [n]:
                                                        </div>
                                                        <div>
                                                            &gt; pngmath: include math, rendered as PNG images (y/N) [n]:
                                                        </div>
                                                        <div>
                                                            &gt; jsmath: include math, rendered in the browser by JSMath (y/N) [n]:
                                                        </div>
                                                        <div>
                                                            &gt; ifconfig: conditional inclusion of content based on config values (y/N) [n]:
                                                        </div>
                                                        <div>
                                                            &gt; viewcode: include links to the source code of documented Python objects (y/N) [n]: y
                                                        </div>
                                                        <div>
                                                            &gt; Create Makefile? (Y/n) [y]:
                                                        </div>
                                                        <div>
                                                            &gt; Create Windows command file? (Y/n) [y]:
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <div>
                                At the command line:
                            </div>
                            <div>
                                <div>
                                    <table cellspacing="0" cellpadding="0">
                                        <tr>
                                            <td>
                                                <pre>
<span rel="#L1">1</span>
</pre>
                                            </td>
                                            <td width="100%">
                                                <div>
                                                    <div>
                                                        make html
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                            <div>
                                Add to docs/conf.py:
                            </div>
                            <div>
                                <div>
                                    <table cellspacing="0" cellpadding="0">
                                        <tr>
                                            <td>
                                                <pre>
<span rel="#L1">1</span>
<span rel="#L2">2</span>
<span rel="#L3">3</span>
<span rel="#L4">4</span>
<span rel="#L5">5</span>
<span rel="#L6">6</span>
</pre>
                                            </td>
                                            <td width="100%">
                                                <div>
                                                    <div>
                                                        sys.path.insert(0, os.path.abspath('../startcbv'))
                                                    </div>
                                                    <div>
                                                        sys.path.insert(0, os.path.abspath('../test_project'))
                                                    </div>
                                                    <div>
                                                        <br>
                                                    </div>
                                                    <div>
                                                        import settings
                                                    </div>
                                                    <div>
                                                        from django.core.management import setup_environ
                                                    </div>
                                                    <div>
                                                        setup_environ(settings)
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                            <div>
                                Add to your .gitignore file:
                            </div>
                            <div>
                                <div>
                                    <div>
                                        <table cellspacing="0" cellpadding="0">
                                            <tr>
                                                <td>
                                                    <pre>
<span rel="#L1">1</span>
<span rel="#L2">2</span>
<span rel="#L3">3</span>
</pre>
                                                </td>
                                                <td width="100%">
                                                    <div>
                                                        <div>
                                                            _templates
                                                        </div>
                                                        <div>
                                                            _static
                                                        </div>
                                                        <div>
                                                            _build
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <div>
                                Create docs/ref_startcbv.rst:
                            </div>
                            <div>
                                <div>
                                    <div>
                                        <table cellspacing="0" cellpadding="0">
                                            <tr>
                                                <td>
                                                    <pre>
<span rel="#L1">1</span>
<span rel="#L2">2</span>
<span rel="#L3">3</span>
<span rel="#L4">4</span>
<span rel="#L5">5</span>
<span rel="#L6">6</span>
<span rel="#L7">7</span>
<span rel="#L8">8</span>
<span rel="#L9">9</span>
<span rel="#L10">10</span>
<span rel="#L11">11</span>
<span rel="#L12">12</span>
</pre>
                                                </td>
                                                <td width="100%">
                                                    <div>
                                                        <div>
                                                            ==========================
                                                        </div>
                                                        <div>
                                                            Reference for startcbv app
                                                        </div>
                                                        <div>
                                                            ==========================
                                                        </div>
                                                        <div>
                                                            <br>
                                                        </div>
                                                        <div>
                                                            The startcbv app gives you the management command "python manage.py startcbv things".
                                                        </div>
                                                        <div>
                                                            <br>
                                                        </div>
                                                        <div>
                                                            <br>
                                                        </div>
                                                        <div>
                                                            ``startcbv management command``
                                                        </div>
                                                        <div>
                                                            ===============================
                                                        </div>
                                                        <div>
                                                            .. automodule:: management.commands.startcbv
                                                        </div>
                                                        <div>
                                                            &nbsp;&nbsp;&nbsp;&nbsp;:members:
                                                        </div>
                                                        <div>
                                                            &nbsp;&nbsp;&nbsp;&nbsp;:undoc-members:
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <div>
                                    Copy and paste your installation and usage instructions from README.rst into docs/installation.rst and docs/usage.rst. &nbsp;I know it's annoying. &nbsp;There's no good way to symlink your Github readme content to your Read the Docs Sphinx readme content (yet).&nbsp;
                                </div>
                            </div>
                            <div>
                                Add to docs/index.rst so that it looks something like:
                            </div>
                            <div>
                                <div>
                                    <table cellspacing="0" cellpadding="0">
                                        <tr>
                                            <td>
                                                <pre>
<span rel="#L1">1</span>
<span rel="#L2">2</span>
<span rel="#L3">3</span>
<span rel="#L4">4</span>
<span rel="#L5">5</span>
<span rel="#L6">6</span>
<span rel="#L7">7</span>
<span rel="#L8">8</span>
<span rel="#L9">9</span>
<span rel="#L10">10</span>
<span rel="#L11">11</span>
<span rel="#L12">12</span>
<span rel="#L13">13</span>
<span rel="#L14">14</span>
<span rel="#L15">15</span>
<span rel="#L16">16</span>
<span rel="#L17">17</span>
<span rel="#L18">18</span>
<span rel="#L19">19</span>
<span rel="#L20">20</span>
<span rel="#L21">21</span>
<span rel="#L22">22</span>
<span rel="#L23">23</span>
<span rel="#L24">24</span>
<span rel="#L25">25</span>
<span rel="#L26">26</span>
<span rel="#L27">27</span>
<span rel="#L28">28</span>
<span rel="#L29">29</span>
<span rel="#L30">30</span>
<span rel="#L31">31</span>
</pre>
                                            </td>
                                            <td width="100%">
                                                <div>
                                                    <div>
                                                        .. django-startcbv documentation master file, created by
                                                    </div>
                                                    <div>
                                                        &nbsp;&nbsp;&nbsp;sphinx-quickstart on Mon Jul 11 21:34:47 2011.
                                                    </div>
                                                    <div>
                                                        &nbsp;&nbsp;&nbsp;You can adapt this file completely to your liking, but it should at least
                                                    </div>
                                                    <div>
                                                        &nbsp;&nbsp;&nbsp;contain the root `toctree` directive.
                                                    </div>
                                                    <div>
                                                        <br>
                                                    </div>
                                                    <div>
                                                        Welcome to django-startcbv's documentation!
                                                    </div>
                                                    <div>
                                                        ===========================================
                                                    </div>
                                                    <div>
                                                        <br>
                                                    </div>
                                                    <div>
                                                        Contents
                                                    </div>
                                                    <div>
                                                        -----------
                                                    </div>
                                                    <div>
                                                        <br>
                                                    </div>
                                                    <div>
                                                        .. toctree::
                                                    </div>
                                                    <div>
                                                        &nbsp;&nbsp;&nbsp;:maxdepth: 2
                                                    </div>
                                                    <div>
                                                        &nbsp;&nbsp;&nbsp;
                                                    </div>
                                                    <div>
                                                        &nbsp;&nbsp;&nbsp;installation
                                                    </div>
                                                    <div>
                                                        &nbsp;&nbsp;&nbsp;usage
                                                    </div>
                                                    <div>
                                                        &nbsp;&nbsp;&nbsp;
                                                    </div>
                                                    <div>
                                                        API/Reference Docs
                                                    </div>
                                                    <div>
                                                        --------------------
                                                    </div>
                                                    <div>
                                                        <br>
                                                    </div>
                                                    <div>
                                                        .. toctree::
                                                    </div>
                                                    <div>
                                                        &nbsp;&nbsp;&nbsp;:maxdepth: 2
                                                    </div>
                                                    <div>
                                                        <br>
                                                    </div>
                                                    <div>
                                                        &nbsp;&nbsp;&nbsp;ref_startcbv
                                                    </div>
                                                    <div>
                                                        <br>
                                                    </div>
                                                    <div>
                                                        Indices and tables
                                                    </div>
                                                    <div>
                                                        ==================
                                                    </div>
                                                    <div>
                                                        <br>
                                                    </div>
                                                    <div>
                                                        * :ref:`genindex`
                                                    </div>
                                                    <div>
                                                        * :ref:`modindex`
                                                    </div>
                                                    <div>
                                                        * :ref:`search`
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                            <div>
                                Commit and push it all to Github:
                            </div>
                            <div>
                                <div>
                                    <table cellspacing="0" cellpadding="0">
                                        <tr>
                                            <td>
                                                <pre>
<span rel="#L1">1</span>
<span rel="#L2">2</span>
<span rel="#L3">3</span>
<span rel="#L4">4</span>
</pre>
                                            </td>
                                            <td width="100%">
                                                <div>
                                                    <div>
                                                        cd ~/code/django-startcbv
                                                    </div>
                                                    <div>
                                                        git add .
                                                    </div>
                                                    <div>
                                                        git commit -m "Added Sphinx docs."
                                                    </div>
                                                    <div>
                                                        git push
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                            <div>
                                Go to <a href="http://readthedocs.com">readthedocs.com</a> and create an account. &nbsp;
                            </div>
                            <div>
                                Go to&nbsp;<a href="http://readthedocs.org/dashboard/import/">http://readthedocs.org/dashboard/import/</a>
                            </div>
                            <div>
                                Enter something like the following:
                            </div>
                            <div>
                                <div>
                                    <table cellspacing="0" cellpadding="0">
                                        <tr>
                                            <td>
                                                <pre>
<span rel="#L1">1</span>
<span rel="#L2">2</span>
<span rel="#L3">3</span>
<span rel="#L4">4</span>
<span rel="#L5">5</span>
<span rel="#L6">6</span>
<span rel="#L7">7</span>
<span rel="#L8">8</span>
<span rel="#L9">9</span>
<span rel="#L10">10</span>
</pre>
                                            </td>
                                            <td width="100%">
                                                <div>
                                                    <div>
                                                        Name: django-startcbv
                                                    </div>
                                                    <div>
                                                        Repo: http://github.com/audreyr/django-startcbv.git
                                                    </div>
                                                    <div>
                                                        Repo type: Git
                                                    </div>
                                                    <div>
                                                        Description: Management command to start an app with class-based views. You use "python manage.py startcbv &lt;appname&gt;". It's very fresh and unstable, so use at your own risk, but it does work!
                                                    </div>
                                                    <div>
                                                        Project URL: https://github.com/audreyr/django-startcbv
                                                    </div>
                                                    <div>
                                                        Tags: "class-based views", Django, management
                                                    </div>
                                                    <div>
                                                        Default branch: (blank)
                                                    </div>
                                                    <div>
                                                        Use virtualenv: (unchecked)
                                                    </div>
                                                    <div>
                                                        Requirements file: (blank)
                                                    </div>
                                                    <div>
                                                        Documentation type: Sphinx HTML
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                            <div>
                                Click Submit.
                            </div>
                            <div>
                                Now go to your project on Github (something like&nbsp;<a href="https://github.com/audreyr/django-startcbv">https://github.com/audreyr/django-startcbv</a>) and click Admin &gt; Service Hooks &gt; ReadTheDocs. &nbsp;Scroll up. &nbsp;Check "Active". &nbsp;Click "Update Settings". &nbsp;From now on, whenever you do a "git push", your <a href="http://readthedocs.com">readthedocs.com</a> / <a href="http://rtfd.org">rtfd.org</a> docs will be auto-updated.
                            </div>
                            <div>
                                That's it. &nbsp;You're done.
                            </div>
                            <div>
                                Note: you may have also heard of hosting your docs on&nbsp;<a href="http://packages.python.org/">http://packages.python.org/</a>. &nbsp;It's another place to host docs but requires manual updating by the PyPI staff. &nbsp;Personally, I like using ReadTheDocs instead, though, because:
                            </div>
                            <div>
                                <ul>
                                    <li>the Github hooks keep my docs up-to-date without manual intervention. &nbsp;Whenever I update my .rst files, I don't have to re-upload my docs!
                                    </li>
                                    <li>the docs are easier to find via search engines
                                    </li>
                                </ul>Also, whatever you do, don't use a wiki or a blog post for your package's official docs. &nbsp;Informally taking notes on your blog like this is fine, but if you're writing up docs for your Python package, take the extra step of copying and pasting the text into ReStructuredText files and generating Sphinx docs. &nbsp;Why? People will be more likely to use your package, and your users will all thank you for your diligent documentation efforts.
                            </div>
                            <div>
                                Finally, whenever you do something complicated without documenting it, imagine the documentation donkey (a cross between the Django pony and the Shrek donkey) kicking you the next time you can't figure out how to retrace your steps.
                            </div>
                            <p>
                                <a href="http://audreyr.posterous.com/how-to-create-sphinx-docs-the-python-github-r">Permalink</a> | <a href="http://audreyr.posterous.com/how-to-create-sphinx-docs-the-python-github-r#comment">Leave a comment&nbsp;&nbsp;»</a>
                            </p><img src="http://feeds.feedburner.com/~r/audreyr/~4/JtYSkEwj0RM" height="1" width="1">
                        </blockquote>
                    </div>
                    <p class="bookmark-source">
                        Source: <a href="http://audreyr.posterous.com/how-to-create-sphinx-docs-the-python-github-r?utm_source=feedburner&amp;utm_medium=feed&amp;utm_campaign=Feed%3A+audreyr+%28Audrey+M.+Roy%27s+Posterous%29">http://audreyr.posterous.com/how-to-create-sphinx-docs-the-python-github-r?utm_source=feedburner&amp;utm_medium=feed&amp;utm_campaign=Feed%3A+audreyr+%28Audrey+M.+Roy%27s+Posterous%29</a>
                    </p>
                </div>
            </article>
            <nav id="post-nav"></nav><script id="discus-javascript">
    var disqus_shortname = 'improbable';

                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                    document.getElementsByTagName('body')[0].appendChild(dsq);
                })();
            </script><a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
            <div id="disqus_thread"></div>
        </section>
        <footer id="site-footer" class="nocontent">
            <p>
                This site is purely my personal work and does not reflect the views of my employer.
            </p>
            <p class="license">
                <a class="icon" rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png"></a> This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.
            </p>
        </footer><script async="" defer src="/static/js/common.js">
</script><script id="google-analytics">
    var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-2097834-1']);
            _gaq.push(['_setDomainName', 'improbable.org']);
            _gaq.push(['_trackPageview']);

            (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();
        </script>
    </body>
</html>
