<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Firefox 4: OpenType font feature support</title>
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <link rel="stylesheet" href="/static/css/main.min.css" type="text/css" media="all">
        <!--[if lte IE 8]>
            <link
                rel="stylesheet"
                href="/static/css/ie-fixes.css"
                type="text/css"
                media="all"
            />
            <script src="/static/js/html5shiv.js"></script>
        <![endif]-->

        <meta http-equiv="last-modified" content="Wed, 10 Nov 2010 01:32:30 GMT">
        <link rel="alternate" type="application/atom+xml" title="All Posts (Atom)" href="/feeds/all.atom">
        <link rel="alternate" type="application/rss+xml" title="All Posts (RSS)" href="/feeds/all.rss">
        <link rel="icon" type="image/jpeg" sizes="287x287" href="/static/img/favicon-287x287.jpg">
        <link rel="icon" type="image/jpeg" sizes="128x128" href="/static/img/favicon-128x128.jpg">
    </head>
    <body class="blog post_detail" itemscope itemtype="http://schema.org/BlogPosting">
        <nav id="site-nav">
            <header id="about">
                <h1><a href="/about/">Chris Adams</a></h1>
                <h2>Programmer, cyclist, photographer</h2>
            </header>
            <ul class="links">
                <li>
                    <a href="/">Home</a>
                </li>
                <li>
                    <a href="/about/">About</a>
                </li>
                <li>
                    <a href="/feeds/all.atom" title="Site Feed">Site Feed</a>
                </li>
            </ul>
            <ul class="social-networks">
                <li>
                    <a rel="me" href="https://code4lib.social/@acdha">Mastodon</a>
                </li>
                <li>
                    <a href="https://github.com/acdha" rel="me">Github</a>
                </li>
                <li>
                    <a href="https://bitbucket.org/acdha" rel="me">Bitbucket</a>
                </li>
                <li>
                    <a href="https://pinboard.in/u:acdha/" rel="me">Pinboard</a>
                </li>
                <li>
                    <a href="https://www.flickr.com/photos/acdha" rel="me">Flickr</a>
                </li>
                <li>
                    <a href="https://www.linkedin.com/in/acdha" rel="me">LinkedIn</a>
                </li>
            </ul>
            <div id="site-search"></div>
        </nav>
        <section id="main">
            <article class="post">
                <header>
                    <meta itemprop="dateCreated" content="2010-11-09T20:32:30-04:00">
                    <meta itemprop="dateModified" content="2010-11-09T20:32:30-04:00">
                    <time class="date" itemprop="datePublished" datetime="2010-11-10T00:32:30+00:00">Nov 10</time>
                    <h2 class="" itemprop="title">Firefox 4: OpenType font feature support</h2>
                </header>

                <div class="body" itemprop="articleBody"><div class="googlereader description" data-google-id="tag:google.com,2005:reader/item/457936fae795511e">
                        <blockquote>
                            <p>
                                When <a href="https://developer.mozilla.org/en/css/@font-face">@font-face</a> support was introduced in Firefox 3.5, web authors were suddenly given a way of dramatically enhancing the typography used on their sites.  With all major browsers slated to soon support WOFF fonts offered by many font vendors, the range of fonts available on the web is far wider than it was just two years ago.
                            </p>
                            <p style="margin:0;padding:0">
                                <br>
                                <br>
                                <br>
                            </p>
                            <p>
                                The OpenType format has long provided font designers ways of including a rich set of variations in their fonts, from ligatures and swashes to small caps and tabular figures. The OpenType specification describes these features, identifying each with a unique feature tag but they have typically only been available to those using professional publishing applications such as Adobe InDesign. When glyphs are selected for a particular sequence of characters and positioned for rendering, these features affect both glyph selection and positioning. Firefox currently renders using a font’s default feature settings; it would be much more interesting to provide web authors with a way of controlling these font features via CSS.
                            </p>
                            <p>
                                Included among the many new features in Firefox 4 is the next step, support for controlling OpenType font features directly via CSS.  The <a href="https://developer.mozilla.org/en/CSS/-moz-font-feature-settings">-moz-font-feature-settings CSS property</a> permits control over kerning, ligatures, alternates, real small caps and stylistic sets to name just a few.
                            </p>
                            <p>
                                The CSS3 Fonts specification contains a number of <a href="http://dev.w3.org/csswg/css3-fonts/#font-variant-ligatures-prop">new subproperties of font-variant</a>.  These will eventually provide much better author control over font features but for Firefox 4 only the low-level <a href="https://developer.mozilla.org/en/CSS/-moz-font-feature-settings">-moz-font-feature-settings CSS property</a> is supported.  With this authors can enable and disable OpenType font features directly:
                            </p>
                            <div>
                                <div>
                                    <pre style="font-family:monospace">
<span style="color:#6666ff">.altstyles</span> <span style="color:#00AA00">{</span>
  <span style="color:#808080;font-style:italic">/* format: feature-tag=[0,1] with 0 to disable, 1 to enable */</span>
  <span style="color:#808080;font-style:italic">/* dlig = discretionary ligatures, ss01 = stylistic set 1 */</span>
  -moz-font-feature-settings<span style="color:#00AA00">:</span> <span style="color:#ff0000">"dlig=1,ss01=1"</span><span style="color:#00AA00">;</span>
<span style="color:#00AA00">}</span>
</pre>
                                </div>
                            </div>
                            <p>
                                For reference, a complete list of registered OpenType features can be found <a href="http://www.microsoft.com/typography/otspec/featurelist.htm">here</a>. The folks at FontFont provide a <a href="http://www.fontfont.com/opentype/FF_OT_UserGuide_v2.pdf">nice visual guide to OpenType features</a>.
                            </p>
                            <h4>
                                Ligatures and Contextual Alternates
                            </h4>
                            <p>
                                Font designers often include simple ligatures and kerning data in their fonts but some go beyond these and spend a lot of time creating special ligatures and contextual alternate glyphs to enhance a given design. The <a href="http://www.underware.nl/site2/index.php?id1=bello&amp;id2=features">Bello Pro script font</a> from Underware is a brush-like design that includes many special ligatures (click image to view):
                            </p>
                            <p>
                                <a href="http://people.mozilla.org/~jdaggett/webfonts/sugarspice.html"><img src="http://people.mozilla.org/~jdaggett/webfonts/sugarspice.png"></a>
                            </p>
                            <p>
                                Note the special ligatures for “and” and “by”, the use of all small caps and the use of alternate glyphs to enhance the script connection between the letters in “Smooching”.  Only font styling is used here, all the text can be selected and copied, there are no images used on the example page.
                            </p>
                            <h4>
                                Number styles
                            </h4>
                            <p>
                                Using <a href="http://typekit.com/fonts/minion-pro">Minion Pro from Adobe</a>, available via Typekit, the example below illustrates the use of tabular, monospaced number forms to display columns of data in a way that’s easy to read and analyze.  When proportional numbers are used, the width of large figures with the same number of digits will vary. Normally this would require using a different, monospaced font.  But with OpenType fonts that provide number formatting features, authors can use a single font without giving up the readibility of large data sets (click image to view):
                            </p>
                            <p>
                                <a href="http://people.mozilla.org/~jdaggett/webfonts/salestable.html"><img src="http://people.mozilla.org/~jdaggett/webfonts/salestable.png"></a>
                            </p>
                            <p>
                                Fonts may use either tabular or proportional number forms by default; providing access to these features allows authors to use both proportional figures for inline text and tabular figures for tabular data without the need to switch fonts.
                            </p>
                            <h4>
                                Automatic fractions
                            </h4>
                            <p>
                                Recipes for American dishes often use fractional amounts.  These can easily be rendered using the automatic fraction feature in OpenType (click image to view):
                            </p>
                            <p>
                                <a href="http://people.mozilla.org/~jdaggett/webfonts/tiramisu.html"><img src="http://people.mozilla.org/~jdaggett/webfonts/tiramisu.png"></a>
                            </p>
                            <p>
                                Each of the fractions above is written in simple text form, (e.g. 2 1/2), no special Unicode codepoints are used.  For fonts that support automatic fractions, an OpenType layout engine will automatically generate fractional forms for numbers separated by a slash.  These are typically limited to simple fractions, for more complex math expressions markup languages like <a href="https://developer.mozilla.org/en/Mathml">MathML</a> should be used instead.
                            </p>
                            <h4>
                                Language sensitivity
                            </h4>
                            <p>
                                Many languages often use a common script and over time differences in usage naturally arise.  Serbian, Macedonian and Bulgarian all use the Cyrillic script but with slightly different glyph forms for some common characters.  OpenType fonts support the ability to specify script-specific and language-specific glyph handling so given the correct lang attribute in the markup of a page, Firefox 4 can now render text in a language-specific way (click image to view):
                            </p>
                            <p>
                                <a href="http://people.mozilla.org/~jdaggett/webfonts/serbianglyphs.html"><img src="http://people.mozilla.org/~jdaggett/webfonts/serbianglyphs.png"></a>
                            </p>
                            <h4>
                                Arbitrary features
                            </h4>
                            <p>
                                OpenType defines font feature support using an underlying set of primitives. This allows font designers the ability to create their own features, either for a specialized purpose or as a general feature to be included in a future version of the OpenType specification.  Since the syntax of -moz-font-feature-settings allows for the use of arbitrary feature tags, these can be accessed via CSS.
                            </p>
                            <p>
                                In the example below, font designer Erik van Blokland of <a href="http://letterror.com/">LettError</a> uses a custom designed set of feature properties to create an interesting animation effect when hovering over text on the page (click image to view):
                            </p>
                            <p>
                                <a href="http://letterror.com/develop/css3/kosmik/"><img src="http://people.mozilla.org/~jdaggett/webfonts/images/ticklemekosmik.png"></a>
                            </p>
                            <h4>
                                HarfBuzz, an OpenType shaping engine
                            </h4>
                            <p>
                                The process of selecting and positioning glyphs used to display text runs has in the past always been done via platform libraries such as Uniscribe on Windows and CoreText on OSX.  To assure more robust and consistent text rendering across platforms, Firefox 4 will use the open source <a href="http://www.freedesktop.org/wiki/Software/HarfBuzz">HarfBuzz OpenType shaping engine</a> on all platforms. In the future this will allow us to integrate support for complex Indic and Southeast Asian scripts that have often been ignored or supported inconsistently in the past.
                            </p>
                            <h4>
                                A Note About Typekit Use
                            </h4>
                            <p>
                                All of the Adobe fonts available via the Typekit webfont service provide access to the full range of OpenType features found in the original fonts.  But to access those features you’ll need to explicitly enable “All Characters” under the “Language Support” category in the kit editor dialog before publishing.
                            </p>
                            <h4>
                                Other examples
                            </h4>
                            <p>
                                (Updated from a <a href="http://hacks.mozilla.org/2009/10/font-control-for-designers/">blog post last year</a>):
                            </p>
                            <ul>
                                <li>
                                    <a href="http://people.mozilla.com/~jkew/feature-samples/MEgalopolis.html">Use of contextual alternates and ornaments</a>
                                </li>
                                <li>
                                    <a href="http://people.mozilla.com/~jkew/feature-samples/cooking.html">Another recipe example</a>
                                </li>
                                <li>
                                    <a href="http://people.mozilla.com/~jkew/feature-samples/forex.html">Tabular data example</a>
                                </li>
                                <li>
                                    <a href="http://people.mozilla.com/~jkew/feature-samples/udhr-turkish.html">Language specific rendering of Turkish</a>
                                </li>
                                <li>
                                    <a href="http://people.mozilla.org/~jdaggett/webfonts/historicaltext.html">Rendering historical text</a>
                                </li>
                            </ul>
                            <p>
                                <em>Update: the content of the examples is now editable! Edit the text of each example to experiment with the different font features.</em>
                            </p>
                        </blockquote>
                    </div>
                    <p class="bookmark-source">
                        Source: <a href="http://hacks.mozilla.org/2010/11/firefox-4-font-feature-support/">http://hacks.mozilla.org/2010/11/firefox-4-font-feature-support/</a>
                    </p>
                </div>
            </article>

            <nav id="post-nav">


            </nav>
        </section>

        <footer id="site-footer" class="nocontent">
            <p>
                This site is purely my personal work and does not reflect the
                views of my employer.
            </p>
            <p class="license">
                <a class="icon" rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width: 0" src="https://i.creativecommons.org/l/by-sa/3.0/88x31.png"></a>
                This work is licensed under a
                <a rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US">Creative Commons Attribution-ShareAlike 3.0 Unported
                    License</a>.
            </p>
        </footer>

        <script async src="/static/js/common.js"></script>
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/run_prettify.min.js" integrity="sha256-hj+5FRlAuvAFANiefn0PpJYCkV1X4QT9EgiPd+6QnCw=" crossorigin="anonymous"></script>
    </body>
</html>
