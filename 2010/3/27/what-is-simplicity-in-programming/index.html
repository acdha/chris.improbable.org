<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>
            What is “simplicity” in programming?
        </title>
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <link rel="stylesheet" href="/static/css/main.min.css" type="text/css" media="all"><!--[if lte IE 8]>
            <link rel="stylesheet" href="/static/css/ie-fixes.css" type="text/css" media="all">
            <script src="/static/js/html5shiv.js"></script>
        <![endif]-->
        <meta http-equiv="last-modified" content="Sun, 28 Mar 2010 01:45:53 GMT">
        <link rel="alternate" type="application/atom+xml" title="All Posts (Atom)" href="/feeds/all.atom">
        <link rel="alternate" type="application/rss+xml" title="All Posts (RSS)" href="/feeds/all.rss">
        <link rel="icon" type="image/jpeg" sizes="287x287" href="/static/img/favicon-287x287.jpg">
        <link rel="icon" type="image/jpeg" sizes="128x128" href="/static/img/favicon-128x128.jpg">
        <script type="application/javascript">
var _prum={id:"5166be01e6e53d1007000001"};var PRUM_EPISODES=PRUM_EPISODES||{};PRUM_EPISODES.q=[];PRUM_EPISODES.mark=function(b,a){PRUM_EPISODES.q.push(["mark",b,a||new Date().getTime()])};PRUM_EPISODES.measure=function(b,a,b){PRUM_EPISODES.q.push(["measure",b,a,b||new Date().getTime()])};PRUM_EPISODES.done=function(a){PRUM_EPISODES.q.push(["done",a])};PRUM_EPISODES.mark("firstbyte");(function(){var b=document.getElementsByTagName("script")[0];var a=document.createElement("script");a.type="text/javascript";a.async=true;a.charset="UTF-8";a.src="//rum-static.pingdom.net/prum.min.js";b.parentNode.insertBefore(a,b)})();
        </script>
    </head>
    <body class="blog post_detail" itemscope itemtype="http://schema.org/BlogPosting">
        <nav id="site-nav">
            <header id="about">
                <h1>
                    <a href="/about/">Chris Adams</a>
                </h1>
                <h2>
                    Programmer, cyclist, photographer
                </h2>
            </header>
            <ul class="links">
                <li>
                    <a href="/">Home</a>
                </li>
                <li>
                    <a href="/about/">About</a>
                </li>
                <li>
                    <a href="/feeds/all.atom" title="Site Feed">Site Feed</a>
                </li>
            </ul>
            <ul class="social-networks">
                <li>
                    <a href="https://github.com/acdha" rel="me">Github</a>
                </li>
                <li>
                    <a href="http://bitbucket.org/acdha" rel="me">Bitbucket</a>
                </li>
                <li>
                    <a href="http://delicious.com/acdha" rel="me">del.icio.us</a>
                </li>
                <li>
                    <a href="http://twitter.com/acdha" rel="me">Twitter</a>
                </li>
                <li>
                    <a href="https://plus.google.com/116562742092842686896?rel=author" rel="me">Google+</a>
                </li>
                <li>
                    <a href="http://www.flickr.com/photos/acdha" rel="me">Flickr</a>
                </li>
                <li>
                    <a href="http://www.linkedin.com/in/acdha" rel="me">LinkedIn</a>
                </li>
                <li>
                    <a href="http://connect.garmin.com/explore?owner=acdha" rel="me">Garmin Connect</a>
                </li>
            </ul>
            <div id="site-search"></div>
        </nav>
        <section id="main">
            <article class="post">
                <header>
                    <meta itemprop="dateCreated" content="2010-03-27T21:45:53-04:00">
                    <meta itemprop="dateModified" content="2010-03-27T21:45:53-04:00"><time class="date" itemprop="datePublished" datetime="2010-03-28T01:45:53+00:00">Mar 28</time>
                    <h2 itemprop="title">
                        What is “simplicity” in programming?
                    </h2>
                </header>
                <div class="body" itemprop="articleBody">
                    <div class="googlereader description" data-google-id="tag:google.com,2005:reader/item/fc3575c54416c581">
                        <blockquote>
                            <div>
                                <p>
                                    We all agree that we want our programs to be simple: in the memorable words attributed to Einstein, “as simple as possible, but no simpler”. &nbsp;Kernighan and Pike’s most recent book, 1999′s <em>The Practice of Programming</em> [<a href="http://www.amazon.com/exec/obidos/ASIN/020161586X/thedinosaurrea0a">amazon.com</a>, <a href="http://www.amazon.co.uk/exec/obidos/ASIN/020161586X/thedinosaurreadi">amazon.co.uk</a>], has three key words written on a whiteboard on its cover: Simplicity, Clarity, Generality; and the greatest of these is Simplicity.
                                </p>
                                <p>
                                    <a href="http://reprog.files.wordpress.com/2010/03/practice-of-programming.jpeg"><img title="practice-of-programming" src="http://reprog.files.wordpress.com/2010/03/practice-of-programming.jpeg?w=233&amp;h=300" alt="" width="233" height="300"></a>
                                </p>
                                <p>
                                    But what is “simple”?
                                </p>
                                <p>
                                    I thought, or rather assumed, that we all agreed on this. &nbsp;But I’ve had a minor epiphany in the last couple of days.
                                </p>
                                <p>
                                    I’ve been reading Martin Fowler’s 1999 classic <em>Refactoring: Improving the Design of Existing Code</em> [<a href="http://www.amazon.com/exec/obidos/ASIN/0201485672/thedinosaurrea0a">amazon.com</a>, <a href="http://www.amazon.co.uk/exec/obidos/ASIN/0201485672/thedinosaurreadi">amazon.co.uk</a>], which I got largely on the strength of Steve Yegge’s <a href="http://sites.google.com/site/steveyegge2/ten-great-books">super-enthusiastic review</a>. &nbsp;Steve described it as “a wonderful book about <em>how to write good code</em>, and there aren’t many books like it. None, maybe.” &nbsp;So I was really keen to read this …
                                </p>
                                <p>
                                    <a href="http://reprog.files.wordpress.com/2010/03/refactoring-improvingthedesignofexistingcode.png"><img title="Refactoring-Improving+the+Design+of+Existing+Code" src="http://reprog.files.wordpress.com/2010/03/refactoring-improvingthedesignofexistingcode.png?w=234&amp;h=300" alt="" width="234" height="300"></a>
                                </p>
                                <p>
                                    … and I have to say that so far, it’s been a big disappointment. &nbsp;I’m on page 169, which is less than half way through; but I’ve read all the discursive, expositional chapters, and enough of the Catalog Of Refactorings to have a good flavour of how the rest of it is going to be. &nbsp;And while I appreciate the clarity of thought that’s gone into both the ideas themselves and their presentation in the book, I can’t help noticing that nearly all of Fowler’s refactorings make the code <em>more complicated</em> by introducing more methods, more method invocations and more classes.
                                </p>
                                <p>
                                    Chapter 1, (<em>Refactoring, a First Example</em>) is the most enlightening part of the book, because as usual an ounce of example is worth a ton of explanation. &nbsp;In this chapter, Fowler starts with a program to calculate rental fees in a video store (yes, this dates the book!) &nbsp;The program consists of three classes (Movie, Rental and Customer), but the first two of these are pure data classes, consisting only of constant definitions, data members and accessor functions — what we C programmers in fact call structs. &nbsp;The third class, Customer, has a couple of members and accessors, and a single method that actually does any work: statement(). &nbsp;That is not a particularly pleasant method, for sure, but it’s clear enough, and would be clearer still if clarified by some “micro-refactorings”. &nbsp;By the time Fowler has finished improving this program, the logic is split across seven methods in six classes (four of which form an inheritance hierarchy).
                                </p>
                                <p>
                                    Now I am not saying that the revised code is not better in some ways. &nbsp;Certainly each method is easier to read than the big one we started with; and the allocation of responsibility is cleaner. &nbsp;But look at the cost: to understand how rentals are calculated, we now have to read six classes instead of one method; and because of Java’s dumb source-code conventions, those classes have to be in <em>six separate source files</em>. &nbsp;And I would rather read one method than six complete files, thanks very much.
                                </p>
                                <p>
                                    It reminds me of the 1980s British comedy <a href="http://www.youtube.com/watch?v=pIXH3-A8zMI&amp;feature=related">Yes Minister</a> — surely the funniest show ever made about three middle-aged men in suits sitting around in an office talking about politics. &nbsp;Whenever Jim Hacker, the government minister, wants to slim down the Civil Service, his Civil-Service aide Sir Humphrey Appleby responds by recruiting additonal civil servants to form committees whose task is to look into the possibility of setting up working groups with a remit to establish terms of reference for proposals to set up meetings to consider strategies for reducing the size of the Civil Service. &nbsp;In the same way, Fowler’s response to code complexity seems to be to introduce more classes and delegate the living heck out of everything.
                                </p>
                                <p>
                                    <a href="http://reprog.files.wordpress.com/2010/03/fs_pg_776311614.jpg"><img title="fs_pg_776311614" src="http://reprog.files.wordpress.com/2010/03/fs_pg_776311614.jpg?w=500&amp;h=209" alt="" width="500" height="209"></a>
                                </p>
                                <p>
                                    What’s going on here? &nbsp;Is Fowler talking complete arsegravy? &nbsp;Am <em>I</em> talking complete arsegravy, which I admit seems more likely on the face of it? &nbsp;I think not, in either case. &nbsp;I think what we’re seeing is that this simplicity business is not as, well, simple as we’ve all assumed.
                                </p>
                                <p>
                                    It’s just this: I’m coming to the conclusion that <strong>one man’s simple is another man’s complex</strong>. &nbsp;Fowler evidently finds it easier to read many small methods than a few larger ones; I find the opposite. &nbsp;Going further, my colleague <a href="http://reprog.wordpress.com/2010/03/21/the-hacker-the-architect-and-the-superhero-three-completely-different-ways-to-be-an-excellent-programmer/">Adam Dickmeiss</a> seems perfectly comfortable with huge functions, so long as their complexity is limited in other ways (e.g. few temporary variables).
                                </p>
                                <p>
                                    To put it another way, both Fowler and I would like, if we could, to minimise both the <em>number</em> of methods, classes and source files, and their <em>length</em>. &nbsp;But these two measures of complexity often have to be traded off, and for me, the former is most important; for him, it’s the latter. &nbsp;I’m not going to claim that I am right and he is wrong: I’m coming round to the idea that it’s a matter of individual aptititude. &nbsp;Some people are better at long-distance running and some at sprinting; some can appreciate the nuances of classical music and some can discern substance and meaning in punk rock; <a href="http://reprog.wordpress.com/2010/03/11/the-difference-between-imperative-and-functional-programming/">some programmers grok functional code and some imperative</a>. &nbsp;In the same way, I think some programmers’ minds are wired for dealing with many small code-chunks (methods, classes, etc.) and some for grasping fewer large objects.
                                </p>
                                <p>
                                    <a style="text-decoration:none" href="http://reprog.files.wordpress.com/2010/03/gyotakugodzillaroll.jpg"><img title="Gyotaku+Godzilla+Roll" src="http://reprog.files.wordpress.com/2010/03/gyotakugodzillaroll.jpg?w=500&amp;h=200" alt="" width="500" height="200"></a>
                                </p>
                                <p>
                                    If I am right about this, then there are a few corollaries:
                                </p>
                                <ol>
                                    <li>We can stop fighting about which kind of code is better. &nbsp;If I ever meet Martin Fowler, I can peacefully buy him a drink (or, better, get him to buy me one). &nbsp;It may be that the which-kind-of-code-is-simpler argument is not much more meaningful than which colour is better, red or blue.
                                    </li>
                                    <li>We should think about whether it’s good to try to concentrate similar-aptitude people together on teams, so that they all pull in the same direction; or whether it’s better to have some many-small-methods jockeys mixed in with some few-large-methods people, so that the project benefits from multiple perspectives.
                                    </li>
                                    <li>If you do mix your teams up, then you need to beware of getting into a fruitless refactoring war, with one faction constantly attacking with Extract Method and Hide Delegate, and the other retaliating with multi-megaton loads of &nbsp;Inline Method and Remove Middle Man. &nbsp;(Now that I come to think about it, I’ve been in wars like this without even realising it.)
                                    </li>
                                </ol>
                                <p>
                                    Actually, I sort of hope I am wrong. &nbsp;I think there is something appealing about the idea of One True Way of writing simple code, and I am loathe to give it up. &nbsp;(Just so long as everyone is prepared to agree with <em>my</em> definition.) &nbsp;We’ve all seen plenty of code that is Just Plain Bad — that’s not at issue. &nbsp;But maybe there is a whole spectrum of ways to be good.
                                </p>
                                <h2>
                                    Update (28 March 2010)
                                </h2>
                                <p>
                                    The comments on this article have been particularly provocative, and I found myself wanting to write an immediate follow-up. &nbsp;So I did, and <a href="http://reprog.wordpress.com/2010/03/28/what-is-simplicity-in-programming-redux/">here it is</a>.
                                </p>
                                <p>
                                    Also: plenty of <a href="http://news.ycombinator.com/item?id=1224071">discussion of this article over on Hacker News</a>. &nbsp;Total silence on Reddit at the time of writing.
                                </p>
                            </div>
                        </blockquote>
                    </div>
                    <p class="bookmark-source">
                        Source: <a href="http://reprog.wordpress.com/2010/03/28/what-is-simplicity-in-programming">http://reprog.wordpress.com/2010/03/28/what-is-simplicity-in-programming</a>
                    </p>
                </div>
            </article>
            <nav id="post-nav"></nav><script id="discus-javascript">
    var disqus_shortname = 'improbable';

                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                    document.getElementsByTagName('body')[0].appendChild(dsq);
                })();
            </script><a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
            <div id="disqus_thread"></div>
        </section>
        <footer id="site-footer">
            <p>
                This site is purely my personal work and does not reflect the views of my employer.
            </p>
            <p class="license">
                <a class="icon" rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png"></a> This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.
            </p>
        </footer><script async="" defer src="/static/js/common.js">
</script><script id="google-analytics">
    var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-2097834-1']);
            _gaq.push(['_setDomainName', 'improbable.org']);
            _gaq.push(['_trackPageview']);

            (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();
        </script>
    </body>
</html>
