<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Pymacds is awesome.</title>
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <link rel="stylesheet" href="/static/css/main.min.css" type="text/css" media="all">
        <!--[if lte IE 8]>
            <link rel="stylesheet" href="/static/css/ie-fixes.css" type="text/css" media="all">
            <script src="/static/js/html5shiv.js"></script>
        <![endif]-->

        <meta http-equiv="last-modified" content="Sun, 24 Oct 2010 19:31:00 GMT">
        <link rel="alternate" type="application/atom+xml" title="All Posts (Atom)" href="/feeds/all.atom">
        <link rel="alternate" type="application/rss+xml" title="All Posts (RSS)" href="/feeds/all.rss">
        <link rel="icon" type="image/jpeg" sizes="287x287" href="/static/img/favicon-287x287.jpg">
        <link rel="icon" type="image/jpeg" sizes="128x128" href="/static/img/favicon-128x128.jpg">
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-2097834-1', 'auto');
            ga('send', 'pageview');
        </script>
    </head>
    <body class="blog post_detail" itemscope itemtype="http://schema.org/BlogPosting">
        <nav id="site-nav">
            <header id="about">
                <h1><a href="/about/">Chris Adams</a></h1>
                <h2>Programmer, cyclist, photographer</h2>
            </header>
            <ul class="links">
                <li>
                    <a href="/">Home</a>
                </li>
                <li>
                    <a href="/about/">About</a>
                </li>
                <li>
                    <a href="/feeds/all.atom" title="Site Feed">Site Feed</a>
                </li>
            </ul>
            <ul class="social-networks">
                <li>
                    <a href="https://github.com/acdha" rel="me">Github</a>
                </li>
                <li>
                    <a href="https://bitbucket.org/acdha" rel="me">Bitbucket</a>
                </li>
                <li>
                    <a href="https://pinboard.in/u:acdha/" rel="me">Pinboard</a>
                </li>
                <li>
                    <a href="https://twitter.com/acdha" rel="me">Twitter</a>
                </li>
                <li>
                    <a href="https://www.flickr.com/photos/acdha" rel="me">Flickr</a>
                </li>
                <li>
                    <a href="https://www.linkedin.com/in/acdha" rel="me">LinkedIn</a>
                </li>
            </ul>
            <div id="site-search"></div>
        </nav>
        <section id="main">
            <article class="post">
                <header>
                    <meta itemprop="dateCreated" content="2010-10-24T15:31:00-04:00">
                    <meta itemprop="dateModified" content="2010-10-24T15:31:00-04:00">
                    <time class="date" itemprop="datePublished" datetime="2010-10-24T19:31:00+00:00">Oct 24</time>
                    <h2 class="" itemprop="title">Pymacds is awesome.</h2>
                </header>

                <div class="body" itemprop="articleBody"><div class="googlereader description" data-google-id="tag:google.com,2005:reader/item/b0225399a1816ff4">
                        <blockquote>
                            <p>
                                If you manage Macs and pay attention to the Macenterprise list or website, you should be familiar with the name Nigel Kersten.  Nigel worked for Google and was one of the men in charge of managing their fleet of many Macs (among his other jobs).  While he was there, he authored a Python library that interfaces with Directory Services - it's tremendously handy.  This month he open-sourced the library under the Apache license and folded it into the Pymacadmin project.  This was most likely under everyone's radar, so let me point out some useful bits:
                            </p>
                            <p>
                                 
                            </p>
                            <p style="text-align:center">
                                Installing Pymacds
                            </p>
                            <p style="text-align:left">
                                If you visit the Pymacadmin Google Code repository (<a href="http://code.google.com/p/pymacadmin/downloads/list)">http://code.google.com/p/pymacadmin/downloads/list)</a> you can download an egg file for either version 2.5 or 2.6 of Python (10.5 supports Python 2.5, and 10.6 supports both 2.5 and 2.6).  Download the appropriate egg file, open up Terminal, and change to the directory to where you downloaded the file.  Next, run the following command ( all on one line ):
                            </p>
                            <p style="text-align:left">
                                 
                            </p>
                            <p style="text-align:left">
                                <strong><span style="color:#ffff00">sudo easy_install-2.5 pymacds-0.2-py2.5.egg</span></strong>
                            </p>
                            <p style="text-align:left">
                                 
                            </p>
                            <p style="text-align:left">
                                That's it, this will install pymacds on your system for usage in your Python scripts.  If you need to bundle it for deployment, you can also download the source at the Pymacadmin site.  Remember - if you deploy it you'll need to do a sys.path.append() before you import it so Python knows how to find it.  Let's look at how to use it next.
                            </p>
                            <p style="text-align:left">
                                 
                            </p>
                            <p style="text-align:left">
                                 
                            </p>
                            <p style="text-align:left"></p>
                            <p style="text-align:left">
                                 
                            </p>
                            <p style="text-align:center">
                                Using Pymacds
                            </p>
                            <p style="text-align:left">
                                 
                            </p>
                            <p style="text-align:left">
                                Pymacds can be imported into your Python scripts as soon as you install it.  There are many cool methods that handle the Directory Services legwork you usually do with the dscl command.  
                            </p>
                            <p style="text-align:left">
                                 
                            </p>
                            <p style="text-align:left">
                                GetSearchNodes() and GetContactsNodes()
                            </p>
                            <p style="text-align:left">
                                These module query Directory Service (known hereafter as DS) and will return all of the search nodes for the /Search and /Search/Contacts paths.
                            </p>
                            <p style="text-align:left">
                                 
                            </p>
                            <p style="text-align:left">
                                ConfiguredNodesLDAPv3(), ConfiguredNodesAD(), ConfiguredNodesLocal(), ConfiguredNodesBSD()
                            </p>
                            <p style="text-align:left">
                                These modules return configured nodes with regard to each path (of the 4, the LDAPv3 and AD modules are probably the most useful).  These methods are handy if you've removed nodes out of your /Search and/or /Contacts paths and need to re-add them.  Because you're still BOUND to Open Directory or Active Directory, these methods will be able to retrieve the Node Path.
                            </p>
                            <p style="text-align:left">
                                 
                            </p>
                            <p style="text-align:left">
                                AddNodeToSearchPath(node), AddNodeToContactsPath(node), DeleteNodeFromSearchPath(node), and DeleteNodeFromContactsPath(node)
                            </p>
                            <p style="text-align:left">
                                These modules will add or remove a given DS node to your /Search and /Search/Contacts paths.
                            </p>
                            <p style="text-align:left">
                                UserAttribute(username, attribute), and GroupAttribute(group, attribute)
                            </p>
                            <p style="text-align:left">
                                These modules allow you to pull specific information about local users or groups.  
                            </p>
                            <p style="text-align:left">
                                 
                            </p>
                            <p style="text-align:left">
                                 
                            </p>
                            <p style="text-align:left">
                                 
                            </p>
                            <p>
                                <a href="http://glarizza.posterous.com/pymacds-is-awesome">Permalink</a> | <a href="http://glarizza.posterous.com/pymacds-is-awesome#comment">Leave a comment  »</a>
                            </p>
                        </blockquote>
                    </div>
                    <p class="bookmark-source">
                        Source: <a href="http://glarizza.posterous.com/pymacds-is-awesome">http://glarizza.posterous.com/pymacds-is-awesome</a>
                    </p>
                </div>
            </article>

            <nav id="post-nav">


            </nav>

            <script id="discus-javascript">
                var disqus_shortname = 'improbable';

                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
                    document.getElementsByTagName('body')[0].appendChild(dsq);
                })();
            </script>

            <a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
            <div id="disqus_thread"></div>
        </section>

        <footer id="site-footer" class="nocontent">
            <p>
                This site is purely my personal work and does not reflect the views of my employer.
            </p>
            <p class="license">
                <a class="icon" rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/3.0/88x31.png"></a>
                This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.
            </p>
        </footer>

        <script async src="/static/js/common.js"></script>
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/run_prettify.min.js" integrity="sha256-hj+5FRlAuvAFANiefn0PpJYCkV1X4QT9EgiPd+6QnCw=" crossorigin="anonymous"></script>
    </body>
</html>
