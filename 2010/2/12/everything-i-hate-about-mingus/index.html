<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>
            Everything I hate about Mingus
        </title>
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <link rel="stylesheet" href="/static/css/main.min.css" type="text/css" media="all"><!--[if lte IE 8]>
            <link rel="stylesheet" href="/static/css/ie-fixes.css" type="text/css" media="all">
            <script src="/static/js/html5shiv.js"></script>
        <![endif]-->
        <meta http-equiv="last-modified" content="Fri, 12 Feb 2010 11:00:00 GMT">
        <link rel="alternate" type="application/atom+xml" title="All Posts (Atom)" href="/feeds/all.atom">
        <link rel="alternate" type="application/rss+xml" title="All Posts (RSS)" href="/feeds/all.rss">
        <link rel="icon" type="image/jpeg" sizes="287x287" href="/static/img/favicon-287x287.jpg">
        <link rel="icon" type="image/jpeg" sizes="128x128" href="/static/img/favicon-128x128.jpg">
        <script type="application/javascript">
var _prum={id:"5166be01e6e53d1007000001"};var PRUM_EPISODES=PRUM_EPISODES||{};PRUM_EPISODES.q=[];PRUM_EPISODES.mark=function(b,a){PRUM_EPISODES.q.push(["mark",b,a||new Date().getTime()])};PRUM_EPISODES.measure=function(b,a,b){PRUM_EPISODES.q.push(["measure",b,a,b||new Date().getTime()])};PRUM_EPISODES.done=function(a){PRUM_EPISODES.q.push(["done",a])};PRUM_EPISODES.mark("firstbyte");(function(){var b=document.getElementsByTagName("script")[0];var a=document.createElement("script");a.type="text/javascript";a.async=true;a.charset="UTF-8";a.src="//rum-static.pingdom.net/prum.min.js";b.parentNode.insertBefore(a,b)})();
        </script>
    </head>
    <body class="blog post_detail" itemscope itemtype="http://schema.org/BlogPosting">
        <nav id="site-nav">
            <header id="about">
                <h1>
                    <a href="/about/">Chris Adams</a>
                </h1>
                <h2>
                    Programmer, cyclist, photographer
                </h2>
            </header>
            <ul class="links">
                <li>
                    <a href="/">Home</a>
                </li>
                <li>
                    <a href="/about/">About</a>
                </li>
                <li>
                    <a href="/feeds/all.atom" title="Site Feed">Site Feed</a>
                </li>
            </ul>
            <ul class="social-networks">
                <li>
                    <a href="https://github.com/acdha" rel="me">Github</a>
                </li>
                <li>
                    <a href="http://bitbucket.org/acdha" rel="me">Bitbucket</a>
                </li>
                <li>
                    <a href="http://delicious.com/acdha" rel="me">del.icio.us</a>
                </li>
                <li>
                    <a href="http://twitter.com/acdha" rel="me">Twitter</a>
                </li>
                <li>
                    <a href="https://plus.google.com/116562742092842686896?rel=author" rel="me">Google+</a>
                </li>
                <li>
                    <a href="http://www.flickr.com/photos/acdha" rel="me">Flickr</a>
                </li>
                <li>
                    <a href="http://www.linkedin.com/in/acdha" rel="me">LinkedIn</a>
                </li>
                <li>
                    <a href="http://connect.garmin.com/explore?owner=acdha" rel="me">Garmin Connect</a>
                </li>
            </ul>
            <div id="site-search"></div>
        </nav>
        <section id="main">
            <article class="post">
                <header>
                    <meta itemprop="dateCreated" content="2010-02-12T06:00:00-04:00">
                    <meta itemprop="dateModified" content="2010-02-12T06:00:00-04:00"><time class="date" itemprop="datePublished" datetime="2010-02-12T10:00:00+00:00">Feb 12</time>
                    <h2 itemprop="title">
                        Everything I hate about Mingus
                    </h2>
                </header>
                <div class="body" itemprop="articleBody">
                    <div class="googlereader description" data-google-id="tag:google.com,2005:reader/item/715207f9bde7ed35">
                        <blockquote>
                            <div>
                                <h1>
                                    Overview
                                </h1>
                                <p>
                                    Mingus is a small Django project, created as an experiment in practicing one of the key features of Django — reusable apps. Mingus defines no models itself, but currently leverages 30+ reusable apps to provide one complete blog engine project.
                                </p>
                                <p>
                                    This article is about the obstacles faced and lessons learned managing an application that relies on so many reusable apps, and experiences in managing a small, open source project.<a href="http://djangoadvent.com/feed/#id5"><sup>1</sup></a> It has nothing to do specifically with all the awesome that exists in Django 1.2.
                                </p>
                            </div>
                            <div>
                                <h1>
                                    What is Mingus?
                                </h1>
                                <p>
                                    Mingus is a blog engine. The act of developing yet another blog engine from the ground up is a chore really. Mingus exists to do that chore for you. How nice of Mingus, no?
                                </p>
                                <p>
                                    So, why is the project a (very) small success? Four key reasons:
                                </p>
                                <ol>
                                    <li>The concept is simple — a blog engine
                                    </li>
                                    <li>The concept is intriguing — use only reusable apps to provide all of its features (blogging, commenting via Disqus, admin image cropping, inlines, WYSIWYG editor, debugging, contact form, etc.)
                                    </li>
                                    <li>It's a learning tool on how developers can leverage reusable apps in their project, and a forced introduction to virtualenv and pip.
                                    </li>
                                    <li>It has a minimal, attractive template system.
                                    </li>
                                </ol>
                                <p>
                                    There is one thing that Mingus really strives to do, and that is to take all of the combined complexity of 30+ reusable apps, and reduce it into one project that's brain dead simple to get up and running. Literally, this is what it takes to get started:
                                </p>
                                <div>
                                    <pre>
mkvirtualenv myblog —-no-site-packages
workon myblog
cdvirtualenv
git clone git://github.com/montylounge/django-mingus.git
<span>cd </span>django-mingus/mingus
pip install -r stable-requirements.txt
cp local_settings.py.template local_settings.py
./manage.py syncdb
./manage.py loaddata test_data.json
./manage.py runserver
</pre>
                                </div>
                                <p>
                                    For those not familiar, the above commands <cite>mkvirtualenv</cite>, <cite>workon</cite>, and <cite>cdvirtualenv</cite> requires you have <a href="http://www.doughellmann.com/projects/virtualenvwrapper/">virtualenvwrapper</a> installed. I included the reference to <cite>mkvirtualenv</cite> and the others as a dependency in the documentation as a way to introduce developers to the <cite>virtualenvwrapper</cite> project if they were not already familiar.<a href="http://djangoadvent.com/feed/#id6"><sup>2</sup></a> I believe it's a terrific tool that every Python developer should at least be familiar with, and I snuck in the reference so that maybe it would introduce a new user to the project. You'll see that tactic used quite often if you take a look throughout the code base.
                                </p>
                                <p>
                                    Now we know it's really easy to get started with Mingus, so let's dive in...
                                </p>
                            </div>
                            <div>
                                <h1>
                                    Be “that guy” (or girl)
                                </h1>
                                <p>
                                    If you ever started an open source project that gained even a tiny bit of momentum, then you've received feature requests of varying kinds. Eventually someone will come along who is using your project but they need a few extra features that would help him/her along. Their requests end up in your email inbox and them on your issue list quite often.
                                </p>
                                <p>
                                    As a project maintainer, this is where you need to start making some tough decisions. Are the features requested within the scope of your project's mission? Do they help make your project more complete? Or are these requests solely for the benefit of this one individual? Learning when to say "no" to a request is essential to the successful management of any project. But if the requests are practical, and if you care, then you are sensitive to things that should be done correctly and now you've added another action item to add to your to-do list.
                                </p>
                                <p>
                                    So you're a good project lead and you fix the bug or add that feature. And if you really care, while you are refactoring code and you're using your project daily<a href="http://djangoadvent.com/feed/#id7"><sup>3</sup></a>, then you start thinking like "that guy" and you start seeing ways to make your project better. So you spend more time adding new features that you know are reasonable, and relative to your project's focus. Features that you may have first overlooked, or simply shrugged off.
                                </p>
                                <p>
                                    I hate that guy because he adds to my to-do list, but I love that guy because he's making me a better developer, and he's making my project better. He's my QA. He's gathering my requirements. Mingus wouldn't be the tiny success that it is if it wasn't for that guy(s).
                                </p>
                                <p>
                                    My advice to you — be that guy (or girl) and make me hate you for it.
                                </p>
                            </div>
                            <div>
                                <h1>
                                    Don't make me restart Apache
                                </h1>
                                <p>
                                    If there was one feature that I believe the Django admin is missing I would say application wide settings management.
                                </p>
                                <p>
                                    The one request I receive on almost every single project I have every been on is the ability to manage application settings via the admin. I don't care if it's a Django project or a ASP.Net project — every single admin user has needed the ability to manage application wide settings via the admin UI. But there's no current best practice in managing application wide settings in Django. We need one, and it needs to be available via the admin.
                                </p>
                                <p>
                                    Well, actually, there is a best practice out there, but it ends up being a pain point. The current best practice is to place application settings in the <cite>settings.py</cite> file of your project. Here's an example of how to best implement retrieving that value:
                                </p>
                                <div>
                                    <pre>
<span>from</span> <span>django.conf</span> <span>import</span> <span>settings</span>
<span>post_list_count</span> <span>=</span> <span>getattr</span><span>(</span><span>settings</span><span>,</span> <span>"post_list_count"</span><span>,</span> <span>20</span><span>)</span>
</pre>
                                </div>
                                <p>
                                    The above uses <cite>getattr</cite> to retrieve the <cite>post_list_count</cite> value from the settings instance. If one doesn't exist it defaults to 20. This is terrific and follows the best practice of "sane defaults".
                                </p>
                                <p>
                                    Now, take this example, and lets assume every app in your project (Mingus for example) requires that one setting is defined per app in your settings.py — in Mingus' case you would now have 30 additional values to manage in <cite>settings.py</cite>. It's not horrible, but it could lead to an extremely complex <cite>settings.py</cite> file when we're all looking to minimize our settings files, aren't we?
                                </p>
                                <p>
                                    When following the above convention, if a settings value change is requested, a developer/sysadmin then needs access to the server to update the <cite>settings.py</cite> file themselves. Moreover, whoever handles the change request also needs to restart the web application server for the change to take affect. This is less than ideal.
                                </p>
                                <p>
                                    Lucky for us, two reusable apps attempt to provide that solution:
                                </p>
                                <ol>
                                    <li>
                                        <a href="http://github.com/sciyoshi/django-dbsettings">Django-DBSettings</a>
                                    </li>
                                    <li>
                                        <a href="http://bitbucket.org/bkroeze/django-livesettings/">Django-LiveSettings</a>
                                    </li>
                                </ol>
                                <p>
                                    I'm not sure which, but one of these solutions (or some of their shared concepts) should become the convention and ideally an approved contrib application.
                                </p>
                                <p>
                                    Sure there are simple settings value:
                                </p>
                                <div>
                                    <pre>
<span>BLOG_PAGE_SIZE</span> <span>=</span> <span>20</span>
</pre>
                                </div>
                                <p>
                                    And there are more advanced:
                                </p>
                                <div>
                                    <pre>
<span>DEBUG_TOOLBAR_PANELS</span> <span>=</span> <span>(</span>
    <span>'debug_toolbar.panels.version.VersionDebugPanel'</span><span>,</span>
    <span>'debug_toolbar.panels.timer.TimerDebugPanel'</span><span>,</span>
    <span>'debug_toolbar.panels.settings_vars.SettingsVarsDebugPanel'</span><span>,</span>
    <span>'debug_toolbar.panels.headers.HeaderDebugPanel'</span><span>,</span>
    <span>'debug_toolbar.panels.request_vars.RequestVarsDebugPanel'</span><span>,</span>
    <span>'debug_toolbar.panels.template.TemplateDebugPanel'</span><span>,</span>
    <span>'debug_toolbar.panels.sql.SQLDebugPanel'</span><span>,</span>
    <span>'debug_toolbar.panels.signals.SignalDebugPanel'</span><span>,</span>
    <span>'debug_toolbar.panels.logger.LoggingPanel'</span><span>,</span>
<span>)</span>
</pre>
                                </div>
                                <p>
                                    The solution? Beyond a simple key/value store each application could provide a handler. Django would provide default handlers of course... <cite>IntegerSettingHandler</cite>, <cite>StringSettingHandler</cite>, etc. But an application like <a href="http://robhudson.github.com/django-debug-toolbar/">django-debug-toolbar</a> would provide a <cite>DebugToolBarHandler</cite>. This will allow the Settings app to have a standard API that any application can interface with via the Settings API but each custom application provides it's own custom handler logic to execute its rules on its own. And maybe I'm just crazy?
                                </p>
                                <p>
                                    There's also the extra query factor for retrieving these values if they exist in the backend store. So a sensitivity towards performance is required.
                                </p>
                                <p>
                                    Right now if I want to add an application to Mingus I try to think about the needs of the non-technical end user. Would they want to be able to change this setting via the admin? If yes, and the reusable app defines a <cite>settings.py</cite> required value, I have a tough decision to make. Do I fork that app and add the setting to a model which can be updated in the admin<a href="http://djangoadvent.com/feed/#id8"><sup>4</sup></a> or do I just fold and give in, including the app and dropping another value into the project's <cite>settings.py</cite>?
                                </p>
                                <p>
                                    Having a contrib app that resolves these issues would reduce complexity, maintenance, needless forks of code bases, and improve app flexibility and integration.
                                </p>
                            </div>
                            <div>
                                <h1>
                                    You can get with this Setting or that Setting
                                </h1>
                                <p>
                                    As if the previous global settings management discussion wasn't exciting enough, it's now time to talk about managing those settings files.
                                </p>
                                <p>
                                    In Mingus I package two settings files:
                                </p>
                                <ol>
                                    <li>settings.py
                                    </li>
                                    <li>local_settings.py
                                    </li>
                                </ol>
                                <p>
                                    The former maintains all the application wide settings. The latter is the override, allowing the developer to override various settings on her machine, and allowing the various stages of your environment (dev, staging, production) to have their own <cite>local_settings.py</cite> file defining environment specific setting values (think database settings, filesystem settings, debugging, etc).
                                </p>
                                <p>
                                    This has been a convention I've come across a few times before when looking at other projects, so I stuck with this basic pattern.
                                </p>
                                <p>
                                    But it's not the final answer. If you were to take a look at Daniel Lindsey's blog post <a href="http://toastdriven.com/fresh/better-local-settings/">Better Local Settings</a> you'll see one proposed solution. Then read the comments of his post and you'll see a few other solutions, highlighting the fact that we need a standard. In fact, the popular <a href="http://djangodose.com">DjangoDose</a> podcast proposed their solution in their <a href="http://djangodose.com/articles/2009/09/handling-development-staging-and-production-enviro/">Handling Development, Staging, and Production Environments</a> using the FLAVOR concept. But again, take a peek at the comments and you'll see another handful of alternative solutions used by other developers.
                                </p>
                                <p>
                                    A contributer to Mingus suggested I take a look at the <a href="http://trac.transifex.org/">Transifix</a> team's documentation <a href="http://code.djangoproject.com/wiki/SplitSettings#UsingalistofconffilesTransifex">Using a list of conf files</a> on how they manage their settings files as a best practice, which looks interesting as well. The simple fact that wiki page for various solutions in managing your settings files even exists highlights the need for a standard.
                                </p>
                                <p>
                                    One project that recently found its way on my radar is <a href="http://github.com/tarequeh/django-config">Django-Config</a> from Nowell Strite, Shawn Rider and now supported by Tareque Hossain. Strite and Rider both work at PBS and recently detailed the obstacles they run into supporting the various projects and reusable apps across their infrastructure with their <a href="http://blip.tv/file/3040424">Pluggable, Reusable Django Apps: A Use Case and Proposed Solution</a> presentation at DjangoCon 2009.
                                </p>
                                <p>
                                    Django-Config defines itself as "...an easy way to maintain multiple configurations for django. It relies on the concept of having a shared configuration file (base) and a per user/ server custom configuration file (dev1/ dev2/ local/ staging). settings.py combines the base &amp; custom configuration and loads it up." I have yet to give the project a run myself but assuming the complexity of the infrastructure that PBS maintains I'm going to believe that there's a few nuggets of tested and refined goodies in there.
                                </p>
                                <p>
                                    So I'm left not knowing what to do. For now, I'll keep with the basic implementation.
                                </p>
                            </div>
                            <div>
                                <h1>
                                    Static Media? No you didn’t!
                                </h1>
                                <p>
                                    Anyone who has ever authored a Django reusable app has asked themselves the question, where do I put the static media? What do I name the directory? Do I name it /media/ or do I name it /static/? Where do I place it on my file system?
                                </p>
                                <p>
                                    A perfect example is Simon Willison's django-cropper reusable app I recently integrated into Mingus. Willison recently left this git <a href="http://github.com/simonw/django_cropper/commit/ef9e5334a333f40668dccfb9d6d00ef9ce72e0a2">commit message</a>, "Finally managed to get the package to include the template... no idea what I should do with the static file dependencies though". It's a good question. What does a developer do with static media dependencies? Do they include the files in their project? Do they tell the user to go download them from XYZ? If they do include the files, where do they place them in their app?
                                </p>
                                <p>
                                    I believe there is an answer... <a href="http://github.com/jezdez/django-staticfiles">Django-StaticFiles</a>.
                                </p>
                                <p>
                                    The project stems from the <a href="http://pinaxproject.com">Pinax</a> project that faces this same obstacle in a much larger scale. So if anyone knows a solution, the Pinax crew would. I'm not going to dive into the finer details of the project, as it provides a terrific set of features and functionality, but what it outlines in its implementation is an easy to follow standard for reusable apps and static media management. Maybe it should become a contrib app, or at least the convention we all look to?
                                </p>
                            </div>
                            <div>
                                <h1>
                                    Upload this pal
                                </h1>
                                <p>
                                    While we're here talking about media management, let's also talk about files uploaded via the Django admin. I believe we should also have a default convention here too — the /uploads/ directory off MEDIA_ROOT. Far too often I'll grab an application that has this:
                                </p>
                                <div>
                                    <pre>
<span>photo</span> <span>=</span> <span>models</span><span>.</span><span>ImageField</span><span>(</span><span>upload_to</span><span>=</span><span>"/images/"</span><span>)</span>
</pre>
                                </div>
                                <p>
                                    That helps no one. The convention should be <cite>MEDIA_ROOT + "/uploads/app_name/"</cite> as the default, and any directory defined in the <cite>upload_to</cite> parameter is appended to the default, like so (in my photobooth app):
                                </p>
                                <div>
                                    <pre>
<span>photo</span> <span>=</span> <span>models</span><span>.</span><span>ImageField</span><span>(</span><span>upload_to</span><span>=</span><span>"images"</span><span>)</span>
</pre>
                                </div>
                                <p>
                                    By default this would result in <cite>MEDIA_ROOT + /uploads/photobooth/images/</cite> file path.
                                </p>
                                <p>
                                    I'm simplifying the underlying complexity, obviously, but I do believe a sane default would provide better asset management, and again make reusable app integration less invasive for these cases.
                                </p>
                            </div>
                            <div>
                                <h1>
                                    i18n gets no respect
                                </h1>
                                <p>
                                    I'll make this as short and sweet as possible. The <a href="http://docs.djangoproject.com/en/dev/topics/i18n/">internationalization</a> features in Django are amazing. Having built one multi-lingual site from the ground up, and benefitting from the features Django provides out of the box for this i18n, it's a damn shame more reusable apps don't internationalize their app from the start (and I'm to blame here myself — let's just be honest).
                                </p>
                                <p>
                                    Here's the two simplest ways to at least lay the groundwork for internationalizing your application. Let's take a <cite>models.py</cite> for this example. All you need to do is this:
                                </p>
                                <div>
                                    <pre>
<span>from</span> <span>django.utils.translation</span> <span>import</span> <span>ugettext_lazy</span> <span>as</span> <span>_</span>
<span>...</span>

<span>class</span> <span>Post</span><span>(</span><span>models</span><span>.</span><span>Model</span><span>)</span>
    <span>description</span> <span>=</span> <span>models</span><span>.</span><span>TextField</span><span>(</span><span>_</span><span>(</span><span>'description), help_text=_('</span><span>The</span> <span>description</span> <span>of</span> <span>your</span> <span>post</span><span>'))</span>

    <span>class</span> <span>Meta</span><span>:</span>
        <span>verbose_name</span> <span>=</span> <span>_</span><span>(</span><span>'post'</span><span>)</span>
        <span>verbose_name_plural</span> <span>=</span> <span>_</span><span>(</span><span>'posts'</span><span>)</span>
<span>...</span>
</pre>
                                </div>
                                <p>
                                    Now in your templates all you need to do for the text laying around is this, example landing.html:
                                </p>
                                <div>
                                    <pre>
<span>{%</span> <span>load</span> <span>i18n</span> <span>%}</span>

<span>&lt;h4&gt;</span><span>{%</span> <span>trans</span> <span>"Blog roll"</span> <span>%}</span><span>&lt;/h4&gt;</span>
</pre>
                                </div>
                                <p>
                                    And that's about it. As always, there's a little more under the hood, so make sure to read the docs which covers everything you need to know in getting started, but for the most part the above gets your app 80-90% of the way there.
                                </p>
                                <p>
                                    And if you are deploying a multi-lingual application you will want to take a look at these apps:
                                </p>
                                <ul>
                                    <li>
                                        <a href="http://code.google.com/p/django-rosetta/">Django-Rosetta</a>
                                    </li>
                                    <li>
                                        <a href="http://github.com/citylive/django-datatrans">Django-DataTrans</a>
                                    </li>
                                </ul>
                                <p>
                                    And take a look at this excellant article which reviews a handful of reusable apps to help you with i18n integration — <a href="http://www.muhuk.com/2010/01/dynamic-translation-apps-for-django/">Dynamic Translation Apps for Django</a>. The fact is that if you are not internationalizing your app then you are a bad person. No, but seriously, if you aren't internationalizing your app you are creating a headache for another developer, and more importantly you are also limiting the potential adoption of your project. So be a good person and internationalize that bad boy.
                                </p>
                            </div>
                            <div>
                                <h1>
                                    Ain’t nothing but a Migrations thing
                                </h1>
                                <p>
                                    We have to start including South migrations in all our reusable apps we publish. Or we need my pony request to be fulfilled (discussed below). I've pitched this pony request once before in my <a href="http://blog.montylounge.com/2009/oct/21/south-and-reusable-apps/">South and Reusable Apps</a> post but I wanted to reiterate the importance of the community selecting a migration tool.
                                </p>
                                <p>
                                    As we discussed on the <a href="http://djangodose.com/blog/2009/10/reusable-application-panel/">Reusable Apps in Django Panel</a> on DjangoDose the current best-in-show migration tool is <a href="http://south.aeracode.org/">South</a>. There is currently no easy way to migrate a collection of reusable apps since migration management isn't a discipline I've found practiced in most apps. And again, I'm to blame for this as well. But no more. Moving forward I'm putting my eggs in the South basket.
                                </p>
                                <p>
                                    Now, South could provide a feature that makes this rather easy for us developers. That is the proposition I made in the aforementioned blog post. Andrew Godwin, the author of South, commented that the solution for migrating reusable apps that don't employ South themselves is already in the works in a forthcoming version of South. So all hope is not lost. This feature would allow us developers to generate South migrations for the reusable apps we leverage even if they don't make use of South themselves. Terrific!
                                </p>
                                <p>
                                    Right now Mingus provides only one migration (raw sql) and that's because it wasn't until recently that people started using Mingus as their blog engine. And knowing this it would be negligent of me to not provide migrations for these users looking to upgrade to the next Mingus release. So at least they have raw sql to work with, but it's not the right answer. The right answer is a standard migration tool we all use.
                                </p>
                            </div>
                            <div>
                                <h1>
                                    Cache Keys Rule Everything Around Me
                                </h1>
                                <p>
                                    The Django <a href="http://docs.djangoproject.com/en/dev/topics/cache/">cache framework</a> provides a tremendous amount of caching functionality and flexibility. The one thing I often hear developers reiterating is to make sure your cache keys are named properly so to avoid cache key conflicts. You want unique cache keys that can be recalled easily for cache validation/invalidation, querying, etc.
                                </p>
                                <p>
                                    So why not include a helper to ease this? That exactly what I did when I added <a href="http://github.com/montylounge/django-sugar/blob/master/sugar/cache/utils.py#L27">create_cache_key</a> to <a href="http://github.com/montylounge/django-sugar/">django-sugar</a>. The method actually combines the code of one blog post and a reusable app:
                                </p>
                                <ul>
                                    <li>
                                        <a href="http://richwklein.com/2009/08/04/improving-django-cache-part-ii/">Improving Django Cache</a>
                                    </li>
                                    <li>
                                        <a href="http://github.com/mmalone/django-caching/">Django-Caching</a>
                                    </li>
                                </ul>
                                <p>
                                    Here's a look at the api:
                                </p>
                                <div>
                                    <pre>
<span>from</span> <span>blog.models</span> <span>import</span> <span>Post</span>
<span>slug_val</span> <span>=</span> <span>'some-slug'</span>
<span>mykey</span> <span>=</span> <span>create_cache_key</span><span>(</span><span>Post</span><span>,</span> <span>'slug'</span><span>,</span> <span>slug_val</span><span>)</span>
<span>obj</span> <span>=</span> <span>cache</span><span>.</span><span>get</span><span>(</span><span>mykey</span><span>)</span>
</pre>
                                </div>
                                <p>
                                    What the above <cite>create_cache_key</cite> does is accept either a Model or Manager as its first argument, the field you are interested in as its 2nd argument, and the field value as its 3rd argument. Based on that it can generate, and regenerate a cache key. The benefit here is that it isolates the logic for remembering cache key names. It handles the construction for you.
                                </p>
                                <p>
                                    This may not be the best solution possible or the most complete solution, but it's a solution that begs the question: why don't we have a similar utility method in Django itself that we reference by default so we don't have to be concerned about clashing cache key values in our apps?
                                </p>
                            </div>
                            <div>
                                <h1>
                                    Conclusion
                                </h1>
                                <p>
                                    The reason I love hacking on Mingus is Django... I love Django, and Python. So the above "hates" are really just small bumps in the road of an amazingly smooth ride that Django provides.
                                </p>
                                <p>
                                    The future of Mingus is a final 1.0 release which will include any bug fixes that pop up, more documentation, more tests, and other than that I don't think there's much left to add to something that's not really anything more than a concept project. I believe the current feature set is final.
                                </p>
                                <p>
                                    For those who manage any open source project, big or small, I tip my hat to you and thank you. Just like you I'm excited for all the amazing things coming in Django 1.2 and as a consumer of such a terrific open source project, I feel lucky that I get to work with Django daily. In ending this I just realized I was "that guy" for most of this article and I hate myself for it.
                                </p>
                                <table>
                                    <colgroup>
                                        <col>
                                        <col>
                                    </colgroup>
                                    <tbody valign="top">
                                        <tr>
                                            <td>
                                                <a href="http://djangoadvent.com/feed/#id1">[1]</a>
                                            </td>
                                            <td>
                                                Even if it's an itsy bitsy one.
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <table>
                                    <colgroup>
                                        <col>
                                        <col>
                                    </colgroup>
                                    <tbody valign="top">
                                        <tr>
                                            <td>
                                                <a href="http://djangoadvent.com/feed/#id2">[2]</a>
                                            </td>
                                            <td>
                                                Since my docs reference these, I assume that by following the docs you forced yourself to play with these excellent tools.
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <table>
                                    <colgroup>
                                        <col>
                                        <col>
                                    </colgroup>
                                    <tbody valign="top">
                                        <tr>
                                            <td>
                                                <a href="http://djangoadvent.com/feed/#id3">[3]</a>
                                            </td>
                                            <td>
                                                Eating your own dog food.
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <table>
                                    <colgroup>
                                        <col>
                                        <col>
                                    </colgroup>
                                    <tbody valign="top">
                                        <tr>
                                            <td>
                                                <a href="http://djangoadvent.com/feed/#id4">[4]</a>
                                            </td>
                                            <td>
                                                At this point it's arguably no longer reusable, or actually maybe more reusable now that I think about it.
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </blockquote>
                    </div>
                    <p class="bookmark-source">
                        Source: <a href="http://djangoadvent.com/1.2/everything-i-hate-about-mingus/">http://djangoadvent.com/1.2/everything-i-hate-about-mingus/</a>
                    </p>
                </div>
            </article>
            <nav id="post-nav"></nav><script id="discus-javascript">
    var disqus_shortname = 'improbable';

                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                    document.getElementsByTagName('body')[0].appendChild(dsq);
                })();
            </script><a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
            <div id="disqus_thread"></div>
        </section>
        <footer id="site-footer">
            <p>
                This site is purely my personal work and does not reflect the views of my employer.
            </p>
            <p class="license">
                <a class="icon" rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png"></a> This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.
            </p>
        </footer><script async="" defer src="/static/js/common.js">
</script><script id="google-analytics">
    var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-2097834-1']);
            _gaq.push(['_setDomainName', 'improbable.org']);
            _gaq.push(['_trackPageview']);

            (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();
        </script>
    </body>
</html>
