<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>
            PEP 376 is accepted — What it means
        </title>
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <link rel="stylesheet" href="/static/css/main.min.css" type="text/css" media="all"><!--[if lte IE 8]>
            <link rel="stylesheet" href="/static/css/ie-fixes.css" type="text/css" media="all">
            <script src="/static/js/html5shiv.js"></script>
        <![endif]-->
        <meta http-equiv="last-modified" content="Mon, 26 Apr 2010 10:30:31 GMT">
        <link rel="alternate" type="application/atom+xml" title="All Posts (Atom)" href="/feeds/all.atom">
        <link rel="alternate" type="application/rss+xml" title="All Posts (RSS)" href="/feeds/all.rss">
        <link rel="icon" type="image/jpeg" sizes="287x287" href="/static/img/favicon-287x287.jpg">
        <link rel="icon" type="image/jpeg" sizes="128x128" href="/static/img/favicon-128x128.jpg">
        <script type="application/javascript">
var _prum={id:"5166be01e6e53d1007000001"};var PRUM_EPISODES=PRUM_EPISODES||{};PRUM_EPISODES.q=[];PRUM_EPISODES.mark=function(b,a){PRUM_EPISODES.q.push(["mark",b,a||new Date().getTime()])};PRUM_EPISODES.measure=function(b,a,b){PRUM_EPISODES.q.push(["measure",b,a,b||new Date().getTime()])};PRUM_EPISODES.done=function(a){PRUM_EPISODES.q.push(["done",a])};PRUM_EPISODES.mark("firstbyte");(function(){var b=document.getElementsByTagName("script")[0];var a=document.createElement("script");a.type="text/javascript";a.async=true;a.charset="UTF-8";a.src="//rum-static.pingdom.net/prum.min.js";b.parentNode.insertBefore(a,b)})();
        </script>
    </head>
    <body class="blog post_detail" itemscope itemtype="http://schema.org/BlogPosting">
        <nav id="site-nav">
            <header id="about">
                <h1>
                    <a href="/about/">Chris Adams</a>
                </h1>
                <h2>
                    Programmer, cyclist, photographer
                </h2>
            </header>
            <ul class="links">
                <li>
                    <a href="/">Home</a>
                </li>
                <li>
                    <a href="/about/">About</a>
                </li>
                <li>
                    <a href="/feeds/all.atom" title="Site Feed">Site Feed</a>
                </li>
            </ul>
            <ul class="social-networks">
                <li>
                    <a href="https://github.com/acdha" rel="me">Github</a>
                </li>
                <li>
                    <a href="http://bitbucket.org/acdha" rel="me">Bitbucket</a>
                </li>
                <li>
                    <a href="http://delicious.com/acdha" rel="me">del.icio.us</a>
                </li>
                <li>
                    <a href="http://twitter.com/acdha" rel="me">Twitter</a>
                </li>
                <li>
                    <a href="https://plus.google.com/116562742092842686896?rel=author" rel="me">Google+</a>
                </li>
                <li>
                    <a href="http://www.flickr.com/photos/acdha" rel="me">Flickr</a>
                </li>
                <li>
                    <a href="http://www.linkedin.com/in/acdha" rel="me">LinkedIn</a>
                </li>
                <li>
                    <a href="http://connect.garmin.com/explore?owner=acdha" rel="me">Garmin Connect</a>
                </li>
            </ul>
            <div id="site-search"></div>
        </nav>
        <section id="main">
            <article class="post">
                <header>
                    <meta itemprop="dateCreated" content="2010-04-26T06:30:31-04:00">
                    <meta itemprop="dateModified" content="2010-04-26T06:30:31-04:00"><time class="date" itemprop="datePublished" datetime="2010-04-26T10:30:31+00:00">Apr 26</time>
                    <h2 itemprop="title">
                        PEP 376 is accepted — What it means
                    </h2>
                </header>
                <div class="body" itemprop="articleBody">
                    <div class="googlereader description" data-google-id="tag:google.com,2005:reader/item/b4813fe13d3b51bc">
                        <blockquote>
                            <p>
                                <a href="http://www.python.org/dev/peps/pep-0376">PEP 376</a> has just been accepted. This is a very important step in the packaging work we have been doing during the last year.
                            </p>
                            <p>
                                This PEP introduces a database of installed distributions, and therefore a standard that allows interoperability among all tools.
                            </p>
                            <p>
                                To summarize, a distribution that gets installed will have to create a <em><strong>.dist-info</strong></em> directory in Python, containing these files:
                            </p>
                            <ul>
                                <li>
                                    <strong><cite>METADATA</cite></strong>: contains the project metadata, as described in <a href="http://www.python.org/dev/peps/pep-0345">PEP 345</a>, <a href="http://www.python.org/dev/peps/pep-0314">PEP 314</a> and <a href="http://www.python.org/dev/peps/pep-0241">PEP 241</a>.
                                </li>
                                <li>
                                    <strong><cite>RECORD</cite></strong>: records the list of installed files
                                </li>
                                <li>
                                    <strong><cite>INSTALLER</cite></strong>: records the name of the tool used to install the project
                                </li>
                                <li>
                                    <dl>
                                        <dt>
                                            <strong><cite>REQUESTED</cite></strong>: the presence of this file indicates that the project installation was explicitly requested (i.e., not installed as a dependency).
                                        </dt>
                                    </dl>
                                </li>
                            </ul>
                            <p>
                                Python will provide in the <em><strong>pkgutil</strong></em> module, <a href="http://www.python.org/dev/peps/pep-0376/#new-functions-and-classes-in-pkgutil">a set of APIs</a> that can be used to query installed projects.&nbsp; This ressembles a lot to what the Setuptools project currently provides with its <strong>pkg_resources</strong> module.
                            </p>
                            <p>
                                An interesting side-effect of the <em><strong>RECORD</strong></em> file is that&nbsp; package managers will be able to uininstall projects. As a matter of fact Distutils2 will provide a basic uninstall feature on the top of the <em><strong>pkgutil</strong></em> APIs, and I hope tools like Pip (that already provide this feature)&nbsp; will adopt the new standard.
                            </p>
                            <p>
                                This small PEP is the basis to a new PEP that is coming next, which will define a standard to describe and consume resource files in Python projects. The ultimate goal will be to be able to get rid of <strong><em>setup.py</em></strong> and describe everything in static configuration files in your project. But&nbsp; this is another story <img src="http://s.wordpress.com/wp-includes/images/smilies/icon_wink.gif" alt=";)">
                            </p>
                            <p>
                                Thanks to all people involved in this PEP, and in particular, thanks to Philip J. Eby for his help (PEP 376 is massively based on what he has created in Setuptools.)
                            </p><br>
                            <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/tarekziade.wordpress.com/1273/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/tarekziade.wordpress.com/1273/"></a> <a rel="nofollow" href="http://feeds.wordpress.com/1.0/godelicious/tarekziade.wordpress.com/1273/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/delicious/tarekziade.wordpress.com/1273/"></a> <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gofacebook/tarekziade.wordpress.com/1273/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/facebook/tarekziade.wordpress.com/1273/"></a> <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gotwitter/tarekziade.wordpress.com/1273/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/twitter/tarekziade.wordpress.com/1273/"></a> <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gostumble/tarekziade.wordpress.com/1273/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/stumble/tarekziade.wordpress.com/1273/"></a> <a rel="nofollow" href="http://feeds.wordpress.com/1.0/godigg/tarekziade.wordpress.com/1273/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/digg/tarekziade.wordpress.com/1273/"></a> <a rel="nofollow" href="http://feeds.wordpress.com/1.0/goreddit/tarekziade.wordpress.com/1273/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/reddit/tarekziade.wordpress.com/1273/"></a> <img alt="" border="0" src="http://stats.wordpress.com/b.gif?host=tarekziade.wordpress.com&amp;blog=448161&amp;post=1273&amp;subd=tarekziade&amp;ref=&amp;feed=1">
                        </blockquote>
                    </div>
                    <p class="bookmark-source">
                        Source: <a href="http://tarekziade.wordpress.com/2010/04/26/pep-376-is-accepted-what-it-means/">http://tarekziade.wordpress.com/2010/04/26/pep-376-is-accepted-what-it-means/</a>
                    </p>
                </div>
            </article>
            <nav id="post-nav"></nav><script id="discus-javascript">
    var disqus_shortname = 'improbable';

                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                    document.getElementsByTagName('body')[0].appendChild(dsq);
                })();
            </script><a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
            <div id="disqus_thread"></div>
        </section>
        <footer id="site-footer" class="nocontent">
            <p>
                This site is purely my personal work and does not reflect the views of my employer.
            </p>
            <p class="license">
                <a class="icon" rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png"></a> This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.
            </p>
        </footer><script async="" defer src="/static/js/common.js">
</script><script id="google-analytics">
    var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-2097834-1']);
            _gaq.push(['_setDomainName', 'improbable.org']);
            _gaq.push(['_trackPageview']);

            (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();
        </script>
    </body>
</html>
