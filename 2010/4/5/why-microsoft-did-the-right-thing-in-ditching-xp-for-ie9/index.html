<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>
            Why Microsoft did the right thing in ditching XP for IE9
        </title>
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <link rel="stylesheet" href="/static/css/main.min.css" type="text/css" media="all"><!--[if lte IE 8]>
            <link rel="stylesheet" href="/static/css/ie-fixes.css" type="text/css" media="all">
            <script src="/static/js/html5shiv.js"></script>
        <![endif]-->
        <meta http-equiv="last-modified" content="Mon, 05 Apr 2010 11:55:00 GMT">
        <link rel="alternate" type="application/atom+xml" title="All Posts (Atom)" href="/feeds/all.atom">
        <link rel="alternate" type="application/rss+xml" title="All Posts (RSS)" href="/feeds/all.rss">
        <link rel="icon" type="image/jpeg" sizes="287x287" href="/static/img/favicon-287x287.jpg">
        <link rel="icon" type="image/jpeg" sizes="128x128" href="/static/img/favicon-128x128.jpg">
        <script type="application/javascript">
var _prum={id:"5166be01e6e53d1007000001"};var PRUM_EPISODES=PRUM_EPISODES||{};PRUM_EPISODES.q=[];PRUM_EPISODES.mark=function(b,a){PRUM_EPISODES.q.push(["mark",b,a||new Date().getTime()])};PRUM_EPISODES.measure=function(b,a,b){PRUM_EPISODES.q.push(["measure",b,a,b||new Date().getTime()])};PRUM_EPISODES.done=function(a){PRUM_EPISODES.q.push(["done",a])};PRUM_EPISODES.mark("firstbyte");(function(){var b=document.getElementsByTagName("script")[0];var a=document.createElement("script");a.type="text/javascript";a.async=true;a.charset="UTF-8";a.src="//rum-static.pingdom.net/prum.min.js";b.parentNode.insertBefore(a,b)})();
        </script>
    </head>
    <body class="blog post_detail" itemscope itemtype="http://schema.org/BlogPosting">
        <nav id="site-nav">
            <header id="about">
                <h1>
                    <a href="/about/">Chris Adams</a>
                </h1>
                <h2>
                    Programmer, cyclist, photographer
                </h2>
            </header>
            <ul class="links">
                <li>
                    <a href="/">Home</a>
                </li>
                <li>
                    <a href="/about/">About</a>
                </li>
                <li>
                    <a href="/feeds/all.atom" title="Site Feed">Site Feed</a>
                </li>
            </ul>
            <ul class="social-networks">
                <li>
                    <a href="https://github.com/acdha" rel="me">Github</a>
                </li>
                <li>
                    <a href="http://bitbucket.org/acdha" rel="me">Bitbucket</a>
                </li>
                <li>
                    <a href="http://delicious.com/acdha" rel="me">del.icio.us</a>
                </li>
                <li>
                    <a href="http://twitter.com/acdha" rel="me">Twitter</a>
                </li>
                <li>
                    <a href="https://plus.google.com/116562742092842686896?rel=author" rel="me">Google+</a>
                </li>
                <li>
                    <a href="http://www.flickr.com/photos/acdha" rel="me">Flickr</a>
                </li>
                <li>
                    <a href="http://www.linkedin.com/in/acdha" rel="me">LinkedIn</a>
                </li>
                <li>
                    <a href="http://connect.garmin.com/explore?owner=acdha" rel="me">Garmin Connect</a>
                </li>
            </ul>
            <div id="site-search"></div>
        </nav>
        <section id="main">
            <article class="post">
                <header>
                    <meta itemprop="dateCreated" content="2010-04-05T07:55:00-04:00">
                    <meta itemprop="dateModified" content="2010-04-05T07:55:00-04:00"><time class="date" itemprop="datePublished" datetime="2010-04-05T11:55:00+00:00">Apr 05</time>
                    <h2 itemprop="title">
                        Why Microsoft did the right thing in ditching XP for IE9
                    </h2>
                </header>
                <div class="body" itemprop="articleBody">
                    <div class="googlereader description" data-google-id="tag:google.com,2005:reader/item/1eb1a9484928fcc2">
                        <blockquote>
                            <a href="http://arstechnica.com/microsoft/news/2010/04/why-microsoft-did-the-right-thing-in-ditching-xp-for-ie9.ars?utm_source=rss&amp;utm_medium=rss&amp;utm_campaign=rss"><img vspace="4" hspace="4" border="0" align="right" src="http://static.arstechnica.com/assets/2010/04/ie9_xp_list-thumb-230x130-13078-f.jpg"></a>
                            <p>
                                I recently expressed a lack of surprise that <a href="http://arstechnica.com/microsoft/news/2010/03/unsurprisingly-ie9-wont-be-supported-on-an-obsolete-os.ars">Internet Explorer 9 will almost certainly not be supported on Windows XP</a>. In Redmond's words, a "modern browser" needs a "modern operating system," and Windows XP doesn't qualify. Much to my surprise (well, not really, I know that XP is still used and, apparently, loved by many), many doubted my characterization of XP as "obsolete," and they questioned my lack of surprise at this decision.
                            </p>
                            <p>
                                Simple things first. Windows XP is not a new operating system. Windows XP was released in 2001, and it has been succeeded by not one, but two newer operating systems: Windows Vista, and Windows 7. The other major desktop platform vendor—Apple—doesn't even begin to support anything that old, and the company routinely restricts its software compatibility to only the most recent version or two of its operating system.
                            </p>
                            <p>
                                Now, it's true that software is not like physical goods; while the ravages of time may make hardware break down, Windows XP works as well today as it did when it was new. Better, if you consider the extensive capabilities added in Service Packs and free downloads. But the computing world does not stand still; working as well as it did when it was new means that Windows XP hasn't kept up with computing's advances. The next generation of hard disks (or indeed, current generation, for Western Digital users), for example, are at risk of suffering <a href="http://arstechnica.com/microsoft/news/2010/03/why-new-hard-disks-might-not-be-much-fun-for-xp-users.ars">severe performance penalties</a> on XP systems. To get the best from the technology that for many has replaced spinning disks—the solid state drive—requires support for the TRIM command, found natively only in Windows 7. XP similarly lacks any built-in support for Blu-ray discs.
                            </p>
                            <p>
                                But what of Web browsers? A&nbsp;Web&nbsp;browser doesn't much care about, say, disk technology, so although it's undoubtable that XP requires more effort to use on modern hardware, this alone shouldn't be a reason for a&nbsp;Web&nbsp;browser to skip the platform. Do Windows Vista and Windows 7 offer capabilities that XP lacks that are relevant to IE9?
                            </p>
                            <p>
                                I think a pretty compelling case can be made that yes, in fact, they do. IPv6 is—fingers crossed—a technology that will become far more prevalent in the coming years, as the IPv4 address space finally starts to run out. XP does support IPv6 in a limited way, but it can only be configured using arcane command-line syntax. Windows Vista added GUI configuration and made IPv6 a first-class citizen on the network, and Windows 7 rounds out IPv6 support by including support for ancilary technology such as DHCPv6. XP is simply ill-prepared for an IPv6 world.
                            </p>
                            <h3>
                                Web browser security is a problem
                            </h3>
                            <div>
                                <img src="http://static.arstechnica.com/microsoft/ie9_xp_ball.png">
                            </div>
                            <p>
                                Web browser security is a notorious problem, as the recent pwn2own event has once again demonstrated. Windows Vista and Windows 7 have much greater systematic protections against security flaws than Windows XP does. The Address Space Layout Randomization feature makes existing flaws harder to exploit by making systems less predictable to attackers. This protection is not perfect, and there are indeed techniques that allow its circumvention, but every obstacle makes would-be hackers' jobs harder. The protection ASLR offers is also boosted by the use of a 64-bit operating system, another area where XP falls behind (64-bit XP is a bastard hybrid of Windows XP and Windows Server 2003, with the result that much 64-bit software that works properly on Vista and 7 fails to work properly or at all on XP 64).
                            </p>
                            <p>
                                More substantial protection is provided by the Mandatory Integrity Control feature of the two modern OSes. By marking a process as "Low Integrity," Windows prevents that process from being able to write to the majority of the hard disk and registry. The result is that even if the&nbsp;Web&nbsp;browser is compromised, the attacker is greatly restricted. Though an attacker can read most data (though this too can be restricted), he can't install rootkits, trojans, spyware, or anything else, because he cannot write to the parts of the file system required to do this.
                            </p>
                            <p>
                                Importantly, this protection has no real means of circumvention. Features like ASLR (and DEP, which <em>is</em> found in XP) are designed to make hackers' jobs harder, but do not erect any hard, kernel-enforced barriers, which is why, with skill, they can be bypassed. MIC erects a much harder barrier; to bypass MIC a hacker would have to find and use an exploit that allowed a process to elevate its privileges to strip itself of the "Low Integrity" label. If the attacker cannot do this, then he is forever trapped in the Low Integrity sandbox, unable to install his malicious software.
                            </p>
                            <p>
                                Privilege escalation vulnerabilities—software flaws that trick the kernel into giving a process more rights than it should have—do exist, so even MIC is no panacea. But they're substantially rarer than common browser flaws, and they are more likely to be fixed more quickly, because of their scope. Most important is that they <em>can</em> be fixed—they're a result of bugs in the kernel. DEP and ASLR can't be fixed as such; the circumvention mechanisms are to an extent inevitable.
                            </p>
                            <div>
                                <img src="http://static.arstechnica.com/microsoft/ie9_xp_juggle_logo.png">
                            </div>
                            <h3>
                                The browser itself is a problem
                            </h3>
                            <div>
                                <img src="http://static.arstechnica.com/microsoft/ie9_xp_juggle.png">
                            </div>
                            <p>
                                The track record of&nbsp;Web&nbsp;browsers is pretty lousy. Actually, it's not just&nbsp;Web&nbsp;browsers; the track record of computer software is pretty lousy. Bugs are absolutely rife. But&nbsp;Web&nbsp;browsers are particularly important here, because&nbsp;Web&nbsp;browsers are exposed to potentially hostile code <em>all day long</em>. An exploitable bug in my MP3 player or word processor is bad, sure—it's something that I would prefer not to be there—but with these programs the main thing I'm going to use is my own MP3s and documents that I (or my colleagues) have written. And these files are going to be harmless. But the main thing I do in my browser, practically the <em>only</em> thing I do, is to look at webpages that were put up by other people. Other people who may or may not have good intentions; people who may or may not secure their servers properly, audit their code, or virus-scan their machines.
                            </p>
                            <p>
                                The result is that my&nbsp;Web&nbsp;browser is exposed to potentially hostile code like no other program on my PC. My e-mail client comes in second, and it's a distant second; even when I get hundreds of e-mails a day, most of these are from colleagues rather than spammers/phishers/other miscreants and ne'er-do-wells. As such, isolating the browser with MIC isn't just something that's a good idea—it's something that you would have to have a really good reason <em>not</em> to do. And frankly, no such reason exists. The&nbsp;Web&nbsp;is unfortunately a dangerous place.
                            </p>
                            <p>
                                Of the big five, only two browsers currently use this protection on Windows; Internet Explorer (7 and 8), and Chrome. For this reason alone, I'd be hesitant to use Safari, Opera, or Firefox. Their security track record isn't really any better than Microsoft's, and the consequent exploitability of these browsers is much greater.
                            </p>
                            <p>
                                This advantage is not one that is merely hypothetical, either. In common with other vendors, Microsoft assigns a risk rating to every security flaw, and Internet Explorer flaws on Windows Vista and Windows 7 have quite consistently had lower risk ratings than those same flaws on Windows XP. Why? Because the flaws are greatly restricted by the MIC barrier. Microsoft might be biased, but there are security researchers who concur; Charlie Miller, <a href="http://arstechnica.com/security/news/2010/03/ie8-safari4-firefox3-iphone-fall-on-day-1-of-pwn2own.ars">so successful at pwn2own</a>, regards Chrome and IE 8 on Windows 7 as <a href="http://www.oneitsecurity.it/01/03/2010/interview-with-charlie-miller-pwn2own/">arguably the safest Web&nbsp;browsing platform</a>. It's no coincidence that these are the browsers that use MIC sandboxing. The protection works.
                            </p>
                            <p>
                                Windows XP supports none of this protection, nor will it ever. Denying XP users access to its latest and greatest browser isn't a bad thing: Windows XP users should be strongly discouraged from using their machines in any hostile environment. Far from saying that IE9 should be supported on XP, we should be demanding that the other three browsers start supporting these security features and dropping XP support, too. These really are features that <em>everybody</em> should be using.
                            </p>
                            <h3>
                                Graphically speaking
                            </h3>
                            <p>
                                The biggest single reason for dropping XP is not, however, security; it's graphics. Internet Explorer 9 already boasts high-performance, hardware-accelerated graphical capabilities. In particular, Microsoft has shown off IE9's SVG capabilities. (SVG is a W3C standard that enables vector graphics to be embedded into webpages.) These graphics can be manipulated using JavaScript, opening up a whole new world of possibilities for standards-compliant webpages—widespread support for SVG might very well allow standard pages to start doing the kinds of tasks that hitherto have required plugins like Flash or Silverlight to accomplish.
                            </p>
                            <p>
                                SVG support is found in a number of other browsers, but it's not without its problems. One particular issue is performance. SVGs are mostly pretty slow; static images work fine, but even simple animations suffer poor frame rates. The result is that currently, SVG is only really good for static graphics. That's still useful, but there's a world of difference between a static graphics format and a moving, programmable graphics format. To use SVG for Flash-type tasks requires strong animation support.
                            </p>
                            <p>
                                The way that Microsoft has decided to achieve this is to use <a href="http://arstechnica.com/microsoft/reviews/2009/10/windows-7-the-review.ars/9">Direct2D</a> for all of IE9's rendering. Direct2D is a 2D vector graphics API that's layed on top of Direct3D, and Direct3D is, of course, fully hardware accelerated. Direct2D is in many ways a pretty good match for HTML, CSS, and SVG rendering; unlike Windows' old graphics API, GDI, Direct2D is vector-based (so allows for easy, high-quality scaling and animation), but unlike OpenGL or Direct3D, it offers a simple programmatic interface that's tailored towards 2D graphics, without the complexity that 3D entails.
                            </p>
                            <p>
                                Similarly, for text, Microsoft is using DirectWrite. Again, the technology is high-performance, hardware-accelerated, and it integrates cleanly with Direct2D.
                            </p>
                            <p>
                                Is this the only way to do it? Well, no. An enterprising developer could certainly develop a Direct2D-like API (that is, a 2D API that simplified use of, and was accelerated by, OpenGL or Direct3D) by hand for XP, such that it could be used with, say, Direct3D 9c. DirectWrite is a bit trickier, as hardware acceleration of DirectWrite is dependent on some Direct3D 10-level features, but a reasonable approximation could probably be achieved.
                            </p>
                            <p>
                                But the thing is, Microsoft has already done the development for these APIs, and they're already shipped, supported, and available to third-party developers. They just require an OS that's been released in the past three and a half years (they're built in to Windows 7, and available as a free download for Windows Vista). It's ridiculous to expect the company to just ignore that it's done all this work, and then do it all again (and this time, to do it as something built in to IE, rather than as a general-purpose library available to any developer).
                            </p>
                            <p>
                                The other compatible option—abandoning 3D acceleration completely—seems even less palatable. It might be possible to create a high-performance, high-quality SVG implementation using nothing other than GDI, but no vendor has managed to do so thus far. It's certainly not clear that it's worth the development effort, given that an effective solution already exists: use Direct2D. Giving up entirely—throwing performance concerns out the window—leaves you with an SVG browser that's useless for animations, and as such, is severely restricted when compared to one that's a workable animation platform.
                            </p>
                            <p>
                                As large a company as Microsoft is, its resources are nonetheless finite. Moreover, the lack of scalability of software projects is well-known; getting more productivity by throwing more developers at a project is possible, but it takes considerable care, and can't be done willy-nilly. As such, the company absolutely has to choose where it spends its development time. Re-creating Direct2D, or writing a high-performance GDI-based graphics layer just isn't a good use of its resources. Most significantly, it's <em>duplicating work that's already been done on a more modern platform</em>.
                            </p>
                            <div>
                                <img src="http://static.arstechnica.com/microsoft/ie9_xp_golf.jpg">
                            </div>
                            <h3>
                                Conclusions
                            </h3>
                            <p>
                                Microsoft wants IE9 to be a first-rate browser, and to achieve that, the company is exploiting modern operating system features. That's precisely what Microsoft should be doing—these features have been developed so that developers can use them, and that includes Redmond. XP can't do the things that the new OSes can do. Kernel-enforced protected mode would be essentially impossible to provide on XP; a Direct2D equivalent would be doable (though DirectWrite might not be), but would require substantial effort, and in any case, an application simply shouldn't have to do such things. These are jobs the OS should be doing—jobs that Windows Vista and Windows 7 do, in fact, do. And not it's not just XP and Vista that support these capabilities.&nbsp;
                            </p>
                            <p>
                                Courtesy of Compiz and Cairo, Linux has 3D-accelerated desktop composition, and a 3D accelerated 2D vector API; Quartz Extreme and QuartzGL offer the same for Mac OS X. Mac OS X 10.6 also incorporates a security framework offering similar capabilities to Windows' Mandatory Integrity Control, and SELinux has long given Linux equivalent protection. This is not to say that these features are necessarily as widely used as they are in Windows Vista or Windows 7, but these abilities are clearly part of modern operating systems.
                            </p>
                            <p>
                                The new graphics APIs, coupled with the security advantages of Windows Vista and Windows 7—advantages that all Web users should be demanding that their browsers support, because they're really that good—make it clear that the new OSes have indeed advanced beyond the capabilities of Windows XP. Yes, I acknowledge that XP still does all that it does just as well today as it did when it was new . But I would also say that people should be demanding more of their OS. A 2001 feature set isn't good enough any more. I know it's also popular to claim that Windows Vista, in particular, really offers nothing new. But it does offer new features; it has just taken a while for software to exploit these new abilities. In sum, there are modern operating systems out there, operating systems that are ideal platforms for modern browsers. XP really isn't one of them: it's obsolete.
                            </p>
                            <p>
                                <a href="http://arstechnica.com/microsoft/news/2010/04/why-microsoft-did-the-right-thing-in-ditching-xp-for-ie9.ars?comments=1&amp;utm_source=rss&amp;utm_medium=rss&amp;utm_campaign=rss#comments-bar">Read the comments on this post</a>
                            </p>
                        </blockquote>
                    </div>
                    <p class="bookmark-source">
                        Source: <a href="http://arstechnica.com/microsoft/news/2010/04/why-microsoft-did-the-right-thing-in-ditching-xp-for-ie9.ars?utm_source=rss&amp;utm_medium=rss&amp;utm_campaign=rss">http://arstechnica.com/microsoft/news/2010/04/why-microsoft-did-the-right-thing-in-ditching-xp-for-ie9.ars?utm_source=rss&amp;utm_medium=rss&amp;utm_campaign=rss</a>
                    </p>
                </div>
            </article>
            <nav id="post-nav"></nav><script id="discus-javascript">
    var disqus_shortname = 'improbable';

                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                    document.getElementsByTagName('body')[0].appendChild(dsq);
                })();
            </script><a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
            <div id="disqus_thread"></div>
        </section>
        <footer id="site-footer" class="nocontent">
            <p>
                This site is purely my personal work and does not reflect the views of my employer.
            </p>
            <p class="license">
                <a class="icon" rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png"></a> This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.
            </p>
        </footer><script async="" defer src="/static/js/common.js">
</script><script id="google-analytics">
    var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-2097834-1']);
            _gaq.push(['_setDomainName', 'improbable.org']);
            _gaq.push(['_trackPageview']);

            (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();
        </script>
    </body>
</html>
